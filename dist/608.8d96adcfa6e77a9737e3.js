"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[608],{408:(e,s,t)=>{t.d(s,{xw:()=>a});const a=[{id:"win-001",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:3,status:"Pending",assignedTeamMembers:[],installationBreakdown:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",projectId:"proj-001"},{id:"win-002",windowName:"Conference Room Window",filmType:"Riot+",length:200,width:100,layers:2,status:"In Progress",assignedTeamMembers:["tm-001","tm-002"],installationBreakdown:[{layerNumber:1,layerName:"Interior Layer",installerName:"John Smith",installerId:"tm-001",installedAt:"2024-01-16T09:00:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T09:00:00Z",projectId:"proj-001"},{id:"win-003",windowName:"Reception Area Window",filmType:"Security",length:150,width:90,layers:1,status:"Complete",assignedTeamMembers:["tm-003"],installationBreakdown:[{layerNumber:1,layerName:"Security Film",installerName:"Mike Lee",installerId:"tm-003",installedAt:"2024-01-16T14:30:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:30:00Z",projectId:"proj-001"},...Array.from({length:57},(e,s)=>{const t=s+4,a=["BR","Riot","Riot+","Security","Privacy","Decorative","Other"],l=["Pending","Updated","In Progress","Complete","Reinstallation Needed"],r=a[s%a.length],n=l[s%l.length],i=Math.floor(3*Math.random())+1,d="In Progress"===n||"Complete"===n?["tm-001","tm-002","tm-003","tm-004","tm-005"].slice(0,Math.floor(3*Math.random())+1):[],c="Complete"===n||"In Progress"===n?Array.from({length:i},(e,s)=>({layerNumber:s+1,layerName:`Layer ${s+1}`,installerName:`Installer ${String.fromCharCode(65+s)}`,installerId:`tm-${String(s+1).padStart(3,"0")}`,installedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),status:Math.random()>.1?"installed":"reinstallation_needed"})):[];return{id:`win-${String(t).padStart(3,"0")}`,windowName:`Window ${t}`,filmType:r,length:Math.floor(200*Math.random())+80,width:Math.floor(120*Math.random())+60,layers:i,status:n,assignedTeamMembers:d,installationBreakdown:c,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),projectId:"proj-001"}})]},1747:(e,s,t)=>{t.d(s,{b:()=>c});var a=t(4848),l=t(6540),r=t(9775),n=t(1085),i=t(894),d=t(5919);const c=({isOpen:e,onClose:s,onSave:t,onEdit:c,editingTravel:o,availableTeamMembers:m})=>{const[x,h]=(0,l.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,u]=(0,l.useState)({}),g=!!o;(0,l.useEffect)(()=>{e&&(h(o?{travelType:o.travelType,departureLocation:o.departureLocation,destination:o.destination,departureDate:o.departureDate,returnDate:o.returnDate||"",assignedTeamMembers:o.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),u({}))},[e,o]);const j=(e,s)=>{h(t=>({...t,[e]:s})),p[e]&&u(s=>({...s,[e]:""}))},y=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,a.jsx)(i.a,{isOpen:e,onClose:s,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),u(e),0===Object.keys(e).length})())return;const a={...x,returnDate:x.returnDate||void 0};g&&c?c(o.id,a):t(a),s()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:x.travelType,onChange:e=>j("travelType",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>j("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:x.destination,onChange:e=>j("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>j("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>j("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),y().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",y().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return s=e.id,void h(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(s)?e.assignedTeamMembers.filter(e=>e!==s):[...e.assignedTeamMembers,s]}));var s},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(d.$,{type:"button",variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",variant:"primary",icon:r.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,s,t)=>{t.d(s,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},2608:(e,s,t)=>{t.d(s,{ProjectDetailsPage:()=>Ie});var a=t(4848),l=t(6540),r=t(7767),n=t(4976);const i={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"TXDA-SJ1BR1-EETUSC01-P20001",stage:"PV75",status:"PV75",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},d={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var c=t(339),o=t(4722),m=t(5212),x=t(1747),h=t(2321),p=t(9809),u=t(3729),g=t(5732),j=t(9237),y=t(799),b=t(7596),f=t(1397),N=t(5919),v=t(894);const w=({isOpen:e,onClose:s,onAssignTrailer:t,availableTrailers:r,assignedTrailerId:n})=>{const[i,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[h,p]=(0,l.useState)(n||null),w=(0,l.useMemo)(()=>{const e=r.map(e=>e.currentLocation);return[...new Set(e)].sort()},[r]),C=(0,l.useMemo)(()=>r.filter(e=>{const s=e.trailerName.toLowerCase().includes(i.toLowerCase())||e.registrationNumber.toLowerCase().includes(i.toLowerCase())||e.currentLocation.toLowerCase().includes(i.toLowerCase()),t=!c||e.status===c,a=!m||e.currentLocation===m;return s&&t&&a}),[r,i,c,m]),k=()=>{s(),d(""),o(""),p(n||null)};return(0,a.jsx)(v.a,{isOpen:e,onClose:k,title:"Assign Trailer to Project",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:i,onChange:e=>d(e.target.value)}),i&&(0,a.jsx)("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(j.A,{size:16})})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:c,onChange:e=>o(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),w.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===C.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(b.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,a.jsx)("div",{className:"space-y-3",children:C.map(e=>{const s=(e=>"available"===e.status)(e),t=h===e.id;return(e=>{e.inventory.filmSheets.reduce((e,s)=>e+s.currentStock,0),e.inventory.tools.filter(e=>"good"===e.status).length,e.inventory.tools.length})(e),(0,a.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 "+(s?t?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>{return s&&(t=e.id,void p(t));var t},children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1",children:s?t?(0,a.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"w-3 h-3 text-white"})}):(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,a.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-3 h-3 text-gray-500"})})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"w-4 h-4 text-blue-600"})})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-1 "+(s?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("p",{className:"text-sm "+(s?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{children:e.currentLocation})]})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end",children:"available"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"Unavailable"]}),(0,a.jsxs)("span",{className:"text-xs text-red-600 mt-1",children:["until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})]})})]})})]})},e.id)})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(N.$,{variant:"secondary",onClick:k,children:"Cancel"}),(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{const e=r.find(e=>e.id===h);e&&(t(e),s())},disabled:!h,children:n?"Update Trailer":"Assign Trailer"})]})]})})},C=({name:e})=>(0,a.jsx)("div",{className:"bg-[#0D76BF] rounded-full w-8 h-8 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:e.split(" ").map(e=>e[0]).join("")})}),k=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),S=({member:e,onClick:s,onRemove:t,className:l=""})=>{const{name:r,role:n,avatar:i,isLead:d}=e,c=i||(r.toLowerCase().includes("james")?"http://localhost:3845/assets/5180c7274a468ba221dccc98237c5b89acc690bd.png":r.toLowerCase().includes("emma")?"http://localhost:3845/assets/d20f43a765e6ed6ac3bdea39b6be2ea6b6b1193c.png":null);return(0,a.jsxs)("div",{className:`bg-white rounded-xl border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-all duration-200 group relative ${l}`,onClick:s,children:[t&&(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),t?.(e.id)},className:"absolute top-2 right-2 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600",title:"Remove team member",children:(0,a.jsx)(k,{})}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:c?(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${c}')`}}):(0,a.jsx)(C,{name:r})}),(0,a.jsxs)("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5 truncate",children:r}),d&&(0,a.jsx)("span",{className:"bg-[#0D76BF] text-white px-2 py-0.5 rounded text-xs font-medium",children:"Lead"})]}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5 truncate",children:n})]})]})]})},A=({members:e,onMemberClick:s,onMemberRemove:t,maxVisible:l=6,className:r=""})=>{const n=e.slice(0,l),i=e.length-l;return(0,a.jsxs)("div",{className:`space-y-3 ${r}`,children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(e=>(0,a.jsx)(S,{member:e,onClick:()=>s?.(e),onRemove:t},e.id))}),i>0&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-xs text-[#475467]",children:["+",i," more member",i>1?"s":""]})})]})},D=()=>(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),M=()=>(0,a.jsx)("img",{alt:"expand",className:"w-4 h-4",src:"http://localhost:3845/assets/3e78c16b10a97a5ae477b888f056cb3c7d900fb9.svg"}),L=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),T=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M13.3333 6.66667C13.3333 8.50761 11.841 10 10 10C8.15905 10 6.66667 8.50761 6.66667 6.66667C6.66667 4.82572 8.15905 3.33333 10 3.33333C11.841 3.33333 13.3333 4.82572 13.3333 6.66667Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M10 12.5C7.23858 12.5 5 14.7386 5 17.5H15C15 14.7386 12.7614 12.5 10 12.5Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M15.8333 6.66667C15.8333 7.58714 15.4542 8.47052 14.7791 9.14559C14.104 9.82066 13.2206 10.2 12.3 10.2",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M17.5 12.5C17.5 13.4205 17.1209 14.3039 16.4458 14.9789C15.7707 15.654 14.8873 16.0333 13.9667 16.0333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"})]}),I=({icon:e,message:s})=>(0,a.jsxs)("div",{className:"flex flex-col gap-1.5 items-center w-full",children:[e,(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:s})]}),P=({title:e,subtitle:s,actionButtons:t})=>(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:e}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:s})]}),t]}),W=({assignedTeam:e,onAddMember:s,onRemoveMember:t,onMarkComplete:l,onExpand:r,isCompleted:n=!1,showActions:i=!0})=>{const d=e&&e.members.length>0;return(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(P,{title:"Assigned team",subtitle:"Select team members",actionButtons:i?(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[d&&(0,a.jsxs)("button",{onClick:l,className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(D,{}),"Mark as Complete"]}),d&&(0,a.jsx)("button",{onClick:r,className:"bg-white border border-[#d0d5dd] text-[#475467] w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(M,{})}),(0,a.jsx)("button",{onClick:s,className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(L,{})})]}):null}),d?(0,a.jsx)(A,{members:e.members.map(s=>({...s,isLead:s.id===e.leadMember?.id})),onMemberClick:e=>console.log("Member clicked:",e),onMemberRemove:t,maxVisible:4}):(0,a.jsx)(I,{icon:(0,a.jsx)(T,{}),message:"No team assigned yet"})]})})};var R=t(9775),B=t(3573),E=t(1085),F=t(1676),O=t(1415);const $=({isOpen:e,onClose:s,onSubmit:t})=>{const[r,n]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)(1),[h,p]=(0,l.useState)([]),[u,g]=(0,l.useState)(""),[j,y]=(0,l.useState)(1),[b,w]=(0,l.useState)(""),[C,k]=(0,l.useState)(""),[S,A]=(0,l.useState)([]);return(0,a.jsx)(v.a,{isOpen:e,onClose:s,title:"Add Travel & Accommodation Details",size:"xl",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(R.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel From"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"travelFrom",value:r,onChange:e=>n(e.target.value),placeholder:"Enter departure location",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel To"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"travelTo",value:i,onChange:e=>d(e.target.value),placeholder:"Enter destination",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"travelDate",value:c,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"numberOfTeamMembers",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Team Members"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"number",id:"numberOfTeamMembers",value:m,onChange:e=>x(Math.max(1,Number(e.target.value))),min:"1",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Tickets"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:"ticketsUpload",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const s=Array.from(e.target.files||[]);p(e=>[...e,...s])},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"ticketsUpload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(F.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload tickets or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),h.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:h.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,a.jsx)("button",{onClick:()=>(e=>{p(s=>s.filter((s,t)=>t!==e))})(s),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(O.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Accommodation Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"hotelName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(O.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"hotelName",value:u,onChange:e=>g(e.target.value),placeholder:"Enter hotel name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"numberOfRooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Rooms"}),(0,a.jsx)("input",{type:"number",id:"numberOfRooms",value:j,onChange:e=>y(Math.max(1,Number(e.target.value))),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"checkInDate",value:b,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"checkOutDate",value:C,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Reservation Slips"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:"reservationSlipsUpload",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const s=Array.from(e.target.files||[]);A(e=>[...e,...s])},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"reservationSlipsUpload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(F.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload reservation slips or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),S.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:S.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,a.jsx)("button",{onClick:()=>(e=>{A(s=>s.filter((s,t)=>t!==e))})(s),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(N.$,{variant:"outline",onClick:()=>{s()},className:"px-6 py-2",children:"Cancel"}),(0,a.jsx)(N.$,{onClick:()=>{t({travel:{travelFrom:r,travelTo:i,travelDate:c,numberOfTeamMembers:m,ticketsAttachment:h},accommodation:{hotelName:u,numberOfRooms:j,checkInDate:b,checkOutDate:C,reservationSlipsAttachment:S}}),s()},disabled:!(r&&i&&c&&u&&b&&C),className:"px-6 py-2",children:"Submit Details"})]})]})})};var U=t(7235),q=t(2845),z=t(408);const J=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10 18.3333C10 18.3333 16.6667 12.5 16.6667 8.33333C16.6667 6.44928 15.7143 4.64236 14.0711 3.28595C12.4278 1.92954 10.2243 1.16667 8.33333 1.16667C6.44238 1.16667 4.23886 1.92954 2.59564 3.28595C0.952427 4.64236 0 6.44928 0 8.33333C0 12.5 6.66667 18.3333 10 18.3333Z",stroke:"#667085",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z",stroke:"#667085",strokeWidth:"1.5"})]}),Q=()=>(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.66667 1.66667V4.16667M13.3333 1.66667V4.16667M2.91667 7.5H17.0833M17.5 7.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V7.5H17.5ZM2.5 7.5V5.83333C2.5 5.39131 2.67559 4.96738 2.98816 4.65482C3.30072 4.34226 3.72464 4.16667 4.16667 4.16667H15.8333C16.2754 4.16667 16.6993 4.34226 17.0118 4.65482C17.3244 4.96738 17.5 5.39131 17.5 5.83333V7.5H2.5Z",stroke:"#667085",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Z=()=>(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.3333 1.99999C11.5084 1.82498 11.7163 1.68604 11.9451 1.59128C12.1739 1.49652 12.4191 1.44775 12.6667 1.44775C12.9142 1.44775 13.1594 1.49652 13.3882 1.59128C13.617 1.68604 13.8249 1.82498 14 1.99999C14.175 2.175 14.3139 2.3829 14.4087 2.6117C14.5035 2.8405 14.5522 3.0857 14.5522 3.33332C14.5522 3.58094 14.5035 3.82614 14.4087 4.05492C14.3139 4.2837 14.175 4.4916 14 4.66665L5 13.6667L1.33333 14.6667L2.33333 11L11.3333 1.99999Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),V=()=>(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),H=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),_=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1.66667 12.5H13.3333V4.16667H1.66667V12.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.3333 8.33333H15.8333L18.3333 10.8333V12.5H13.3333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"5",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("circle",{cx:"15",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"})]}),K=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M13.3333 1.66667H5C4.55797 1.66667 4.13405 1.84226 3.82149 2.15482C3.50893 2.46738 3.33333 2.89131 3.33333 3.33333V16.6667C3.33333 17.1087 3.50893 17.5326 3.82149 17.8452C4.13405 18.1577 4.55797 18.3333 5 18.3333H15C15.442 18.3333 15.866 18.1577 16.1785 17.8452C16.4911 17.5326 16.6667 17.1087 16.6667 16.6667V6.66667L13.3333 1.66667Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.3333 1.66667V6.66667H16.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),G=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M15 2.5H5C4.17157 2.5 3.5 3.17157 3.5 4V16C3.5 16.8284 4.17157 17.5 5 17.5H15C15.8284 17.5 16.5 16.8284 16.5 16V4C16.5 3.17157 15.8284 2.5 15 2.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.33333 7.5H11.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M8.33333 10.8333H11.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),X=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Y=()=>(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.6667 4.66667L5.33333 10C4.59695 10.7364 4.59695 11.9302 5.33333 12.6667C6.06971 13.403 7.26362 13.403 8 12.6667L13.3333 7.33333C14.8061 5.86056 14.8061 3.47278 13.3333 2C11.8606 0.527241 9.47278 0.527241 8 2L2.66667 7.33333",stroke:"#344054",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ee=({title:e,status:s,description:t})=>(0,a.jsxs)("div",{className:"flex gap-3 items-start flex-1",children:[(0,a.jsx)("div",{className:"flex flex-col items-center pt-1",children:"completed"===s?(0,a.jsx)("div",{className:"bg-[#027a48] rounded-xl w-6 h-6 flex items-center justify-center",children:(0,a.jsx)(V,{})}):(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl w-6 h-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-sm text-[#344054] leading-5",children:e}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:t})]})]}),se=({icon:e,message:s,actionButton:t})=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[e,(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:s}),t]}),te=({title:e,subtitle:s,actionButton:t,secondaryButton:l})=>(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:e}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:s})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[t,l]})]}),ae=()=>{const{projectId:e}=(0,r.g)(),{showToast:s}=(0,U.d)(),[t,n]=((0,r.Zp)(),(0,l.useState)(i)),[u,g]=(0,l.useState)(d),[j,y]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[C,k]=(0,l.useState)(!1),[S,A]=(0,l.useState)(!1),[D,M]=(0,l.useState)(!1),[L,T]=(0,l.useState)(null),[I,P]=(0,l.useState)(!1),[R,B]=(0,l.useState)(!1),[E,F]=(0,l.useState)(null),[O,ae]=(0,l.useState)(!1),[le,re]=(0,l.useState)(null),[ne,ie]=(0,l.useState)(!1),[de,ce]=(0,l.useState)(!1),[oe,me]=(0,l.useState)(!1),[xe,he]=(0,l.useState)([]),[pe,ue]=(0,l.useState)(!1),[ge]=(0,l.useState)((0,q.Qp)()),[je,ye]=(0,l.useState)(z.xw),be=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},fe=e=>{const s={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};g(e=>({...e,assignedTeam:s,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},Ne=e=>{const s={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};g(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,s]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},ve=e=>{const s={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};g(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,s]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))};return"WIP"===t.status?(0,a.jsx)(WIPStatusPage,{}):(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsxs)("div",{className:"px-[60px] py-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 mb-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("h1",{className:"font-semibold text-2xl text-gray-900 leading-9.5",children:"Marriot Windows Installation"}),(0,a.jsx)("div",{className:"bg-[#e6f4fd] flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-sm text-[#0d76bf] leading-5",children:"PV90"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"bg-gray-50 flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-xs text-[#344054] leading-5",children:"TXDA-SJ1BR1-EETUSC01-P20001"})}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(J,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"123 Main Street, Downtown"})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(Q,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"Feb 1, 2024 – Feb 15, 2024"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)(N.$,{onClick:()=>{console.log("Mark stage as complete")},className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:"Mark Stage as Complete"}),(0,a.jsxs)(N.$,{onClick:()=>{y(!0)},variant:"outline",className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-md font-semibold text-sm leading-5 flex items-center gap-2 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:[(0,a.jsx)(Z,{}),"Edit"]})]})]}),(0,a.jsx)("div",{className:"h-px bg-gray-200 w-full"}),(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsx)(ee,{title:"Team Assignment",status:"completed",description:"Completed"}),(0,a.jsx)(ee,{title:"Travel & Accommodation",status:"current",description:"In Progress"}),(0,a.jsx)(ee,{title:"Trailer & Logistics",status:"incomplete",description:"In Progress"})]})]})}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 flex-1",children:[(0,a.jsx)(W,{assignedTeam:u.assignedTeam,onAddMember:()=>{f(!0)},onRemoveMember:e=>{g(s=>{if(!s.assignedTeam)return s;const t=s.assignedTeam.members.filter(s=>s.id!==e),a=s.assignedTeam.leadMember?.id===e?void 0:s.assignedTeam.leadMember;return{...s,assignedTeam:t.length>0?{members:t,count:t.length,leadMember:a}:null}})},onMarkComplete:()=>console.log("Mark team as complete"),onExpand:()=>console.log("Expand team view"),showActions:!0}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:oe?"Request submitted to logistics manager":"Assign travel & accommodation"})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:oe?(0,a.jsxs)(N.$,{onClick:()=>console.log("Add travel details"),className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Add Details"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>console.log("Mark as not required"),className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(V,{}),"Not Required"]}),(0,a.jsx)("button",{onClick:()=>{ce(!0)},className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(H,{})})]})})]}),oe?(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V,{}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Request submitted successfully"})]}),(0,a.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Logistics manager will review and provide details"})]}):(0,a.jsx)(se,{icon:(0,a.jsx)(_,{}),message:"No travel & accommodation assigned yet"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border-2 transition-colors "+(pe?"border-blue-300 bg-blue-50":"border-gray-200"),onDragOver:e=>{e.preventDefault(),ue(!0)},onDragLeave:e=>{e.preventDefault(),ue(!1)},onDrop:e=>{e.preventDefault(),ue(!1);const t=e.dataTransfer.files;if(t.length>0){const e=Array.from(t);he(s=>[...s,...e]),s(`${e.length} document(s) uploaded successfully!`)}},children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Documents"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[xe.length," document",1!==xe.length?"s":""]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("input",{type:"file",id:"document-upload",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif",onChange:e=>{const t=e.target.files;if(t){const e=Array.from(t);he(s=>[...s,...e]),s(`${e.length} document(s) uploaded successfully!`)}e.target.value=""},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"document-upload",className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload document"]})]})]}),xe.length>0?(0,a.jsx)("div",{className:"space-y-3",children:xe.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(K,{})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:be(e.size)})]})]}),(0,a.jsx)("button",{onClick:()=>(e=>{he(s=>s.filter((s,t)=>t!==e)),s("Document removed successfully!")})(t),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove document",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}):(0,a.jsx)(se,{icon:(0,a.jsx)(K,{}),message:"No documents uploaded yet"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Notes"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"0 notes"})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)("button",{onClick:()=>console.log("Add note"),className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(H,{})})})]}),(0,a.jsx)(se,{icon:(0,a.jsx)(G,{}),message:"No notes added yet"})]})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-6 flex-1",children:(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(te,{title:"Trailer & Logistics",subtitle:"136 required • 45 in trailer",actionButton:(0,a.jsxs)(N.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 opacity-0",children:[(0,a.jsx)(V,{}),"Mark as Complete"]}),secondaryButton:(0,a.jsx)(N.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 w-8 h-8 rounded-lg flex items-center justify-center opacity-0",children:(0,a.jsx)(H,{})})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(_,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:"No trailer assigned yet"})]}),(0,a.jsxs)(N.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,a.jsx)(X,{}),"Add trailer"]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gray-200",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,a.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"Required"})}),(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"BR"}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"30 Sheets"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"Riot+"}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"10 Sheets"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"Smash"}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"5"})]}),(0,a.jsxs)("div",{className:"px-4 py-2 h-14 flex flex-col justify-center",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"FER"}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"4 Sheets"})]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,a.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"In Trailer"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"15 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"5 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"2 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"3 sheets"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,a.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"Need to Ship"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"15 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"5 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"3 sheets"})}),(0,a.jsx)("div",{className:"px-4 py-2 flex items-center h-14",children:(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"1 sheets"})})]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)(N.$,{variant:"ghost",className:"text-[#0d76bf] font-semibold text-sm leading-5 flex items-center gap-2",children:[(0,a.jsx)(X,{}),"7 more film types"]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(G,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:"No receipt attached yet"})]}),(0,a.jsxs)(N.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,a.jsx)(Y,{}),"Add attachment"]})]})})]})})})]})]}),(0,a.jsx)(v.a,{isOpen:j,onClose:()=>y(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(o.W,{isOpen:b,onClose:()=>f(!1),onAssignTeam:fe,availableMembers:h.N,projectDetails:t}),(0,a.jsx)(o.W,{isOpen:C,onClose:()=>k(!1),onAssignTeam:fe,availableMembers:h.N,assignedMemberIds:u.assignedTeam?.members.map(e=>e.id)||[],projectDetails:t}),(0,a.jsx)(m.C,{isOpen:S,onClose:()=>A(!1),onSave:Ne}),(0,a.jsx)(m.C,{isOpen:D,onClose:()=>M(!1),onSave:Ne,onEdit:(e,s)=>{g(t=>({...t,logisticsTravel:{...t.logisticsTravel,logistics:t.logisticsTravel.logistics.map(t=>t.id===e?{...t,...s,updatedAt:(new Date).toISOString()}:t)}}))},editingLogistics:L}),(0,a.jsx)(x.b,{isOpen:I,onClose:()=>P(!1),onSave:ve,availableTeamMembers:h.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(x.b,{isOpen:R,onClose:()=>B(!1),onSave:ve,onEdit:(e,s)=>{g(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.map(t=>t.id===e?{...t,...s,updatedAt:(new Date).toISOString()}:t)}}))},editingTravel:E,availableTeamMembers:h.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(p.r,{isOpen:O,onClose:()=>ae(!1),onConfirm:(e,s)=>{console.log("Updating project dates:",{startDate:e,endDate:s}),ae(!1)},projectTitle:t.name,projectStatus:t.status,initialStartDate:t.startDate,initialEndDate:t.endDate}),(0,a.jsx)(w,{isOpen:ne,onClose:()=>ie(!1),onAssignTrailer:e=>{re(e),g(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),ie(!1)},availableTrailers:ge,assignedTrailerId:le?.id}),(0,a.jsx)($,{isOpen:de,onClose:()=>ce(!1),onSubmit:e=>{console.log("Travel & Accommodation Request:",e),me(!0),s("Request submitted to logistics manager successfully!")}})]})};var le=t(904),re=t(5719),ne=t(1523),ie=t(1116),de=t(3459),ce=t(3183),oe=t(5891),me=t(8931),xe=t(5426),he=t(82),pe=t(8252),ue=t(5279),ge=t(7379),je=t(2341),ye=t(4138),be=t(3096),fe=t(3283),Ne=t(2906);const ve=({isOpen:e,onClose:s,windowItem:t,onSave:r})=>{const{showToast:n}=(0,U.d)(),[i,d]=(0,l.useState)({windowName:"",filmType:"BR",length:120,width:80,layers:1});(0,l.useEffect)(()=>{d(t?{windowName:t.windowName,filmType:t.filmType,length:t.length,width:t.width,layers:t.layers.length}:{windowName:"",filmType:"BR",length:120,width:80,layers:1})},[t,e]);const c=(e,s)=>{d(t=>({...t,[e]:s}))},o=e=>{const s=[];for(let t=1;t<=e;t++)s.push({layerNumber:t,layerName:1===t?"Interior Layer":t===e?"Exterior Layer":"Middle Layer "+(t-1),status:"Pending"});return s},m=()=>{d({windowName:"",filmType:"BR",length:120,width:80,layers:1}),s()};return(0,a.jsx)(v.a,{isOpen:e,onClose:m,title:t?"Edit Window":"Add New Window",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Window Name *"}),(0,a.jsx)("input",{type:"text",value:i.windowName,onChange:e=>c("windowName",e.target.value),placeholder:"Enter window name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Film Type *"}),(0,a.jsx)("select",{value:i.filmType,onChange:e=>c("filmType",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Ne.jd.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (cm) *"}),(0,a.jsx)("input",{type:"number",min:"1",value:i.length,onChange:e=>c("length",parseInt(e.target.value)||120),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (cm) *"}),(0,a.jsx)("input",{type:"number",min:"1",value:i.width,onChange:e=>c("width",parseInt(e.target.value)||80),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Layers *"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",value:i.layers,onChange:e=>c("layers",parseInt(e.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Layers will be automatically named (Interior Layer, Middle Layer, Exterior Layer)"})]}),i.layers>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Layer Preview:"}),(0,a.jsx)("div",{className:"space-y-1",children:o(i.layers).map((e,s)=>(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["• ",e.layerName]},s))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,a.jsx)(N.$,{variant:"secondary",onClick:m,children:"Cancel"}),(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{if(!i.windowName.trim())return void n("Window name is required","error");if(i.length<=0||i.width<=0)return void n("Length and width must be greater than 0","error");if(i.layers<=0)return void n("Number of layers must be greater than 0","error");const e=new Date,a={id:t?.id||`window-${Date.now()}`,windowName:i.windowName.trim(),filmType:i.filmType,length:i.length,width:i.width,layers:o(i.layers),status:t?"Updated":"Pending",assignedTeamMembers:t?.assignedTeamMembers||[],createdAt:t?.createdAt||e,updatedAt:e,createdFromSheet:t?.createdFromSheet||!1,sheetId:t?.sheetId};r(a),n(t?"Window updated successfully":"Window added successfully","success"),s()},children:t?"Update Window":"Add Window"})]})]})})},we=({projectStatus:e="WIP"})=>{const{projectId:s}=(0,r.g)(),{showToast:t}=((0,r.Zp)(),(0,U.d)()),[n,d]=(0,l.useState)("job-brief"),[o,m]=(0,l.useState)(Ne.xw),[x,h]=(0,l.useState)(""),[p,u]=(0,l.useState)({filmType:"all",status:"all",layers:"all"}),[g,j]=(0,l.useState)("list"),[b,v]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),[A,D]=(0,l.useState)(null),[M,L]=(0,l.useState)(null);(0,l.useEffect)(()=>{const e=e=>{e.target.closest(".dropdown-container")||document.querySelectorAll('[id^="dropdown-"]').forEach(e=>{e.classList.add("hidden")})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const T={...i,progress:75,currentPhase:"Window Installation",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:12,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"updated Marriot Windows Installation project",time:"2 hours ago",type:"update",fileName:"project-update.pdf",fileSize:"2.4 MB",note:"All windows have been measured and marked for installation"},{id:"2",user:"Sarah Johnson",action:"uploaded document for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"site-measurements.pdf",fileSize:"1.8 MB"},{id:"3",user:"Mike Lee",action:"completed window installation for Marriot Windows Installation",time:"6 hours ago",type:"completion",fileName:null,fileSize:null,note:"Windows 1-5 successfully installed with BR film"},{id:"4",user:"Emily Rodriguez",action:"uploaded document for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"safety-checklist.pdf",fileSize:"0.9 MB"},{id:"5",user:"David Chen",action:"updated Marriot Windows Installation project",time:"1 day ago",type:"update",fileName:null,fileSize:null,note:"Site preparation completed, ready for installation"},{id:"6",user:"Ayesha Khan",action:"uploaded document for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"architectural-plans.pdf",fileSize:"3.2 MB"}]},I=o.filter(e=>{const s=(e.windowName||"").toLowerCase().includes(x.toLowerCase()),t="all"===p.filmType||e.filmType===p.filmType,a="all"===p.status||e.status===p.status,l="all"===p.layers||(e.layers?.length||0).toString()===p.layers;return s&&t&&a&&l}),P=()=>{D(null),C(!0)},W=e=>{D(e),C(!0)},R=e=>{L(e),S(!0)},O=e=>{window.confirm("Are you sure you want to remove this window?")&&(m(s=>s.filter(s=>s.id!==e)),t("Window removed successfully","success"))},$=(e,s)=>{u(t=>({...t,[e]:s}))};return(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold "+("WIP"===e?"bg-blue-50 text-blue-700":"QF"===e?"bg-orange-50 text-orange-700":"bg-green-50 text-green-700"),children:e})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:["Project ID: ",T.id]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:T.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(B.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[T.startDate," - ",T.endDate]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["WIP"===e&&(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{t("Project marked for Quality Review","success")},className:"px-3 py-2",children:"Mark for QF"}),"QF"===e&&(0,a.jsx)(N.$,{variant:"primary",onClick:()=>t("Project approved for completion","success"),className:"px-3 py-2",children:"Approve Completion"}),"Completed"===e&&(0,a.jsx)(N.$,{variant:"secondary",onClick:()=>t("Project completed successfully","success"),className:"px-3 py-2",children:"View Report"}),(0,a.jsx)(N.$,{variant:"secondary",onClick:()=>{t("Edit project functionality coming soon","info")},icon:le.A,className:"px-3 py-2",children:"Edit"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"WIP"===e?"Project Progress":"QF"===e?"Quality Review Progress":"Project Completion"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"WIP"===e?`${T.progress}% Complete`:"QF"===e?"Under Review":"100% Complete"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+("WIP"===e?"bg-blue-600":"QF"===e?"bg-orange-600":"bg-green-600"),style:{width:`${"Completed"===e?100:T.progress}%`}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"WIP"===e?`Current Phase: ${T.currentPhase}`:"QF"===e?"Status: Quality Review in Progress":"Status: Project Completed Successfully"}),(0,a.jsx)("span",{children:"WIP"===e?`Est. Completion: ${T.estimatedCompletion}`:"QF"===e?"Review Due: 2 days":`Completed: ${T.endDate}`})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-6",children:"WIP"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(E.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:T.teamOnSite})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Team on Site"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(re.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:T.windowsCompleted})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Windows Completed"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ne.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:T.windowsStarted})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Windows Started"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ie.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"2"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Issues Reported"})]})]}):"QF"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"15"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Windows Inspected"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(re.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"13"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Passed Quality Check"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ie.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"2"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Need Reinstallation"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ne.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"2"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Days Remaining"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(re.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"15"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Windows"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(re.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"15"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Successfully Installed"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(B.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"14"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Days Duration"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(E.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"5"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Team Members"})]})]})})]})})}),(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:("WIP"===e?[{id:"job-brief",label:"Window Management"},{id:"team",label:"Team"},{id:"travel-hotel",label:"Travel & Hotel"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]:"QF"===e?[{id:"quality-check",label:"Quality Check"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]:[{id:"completion-report",label:"Completion Report"},{id:"final-stats",label:"Final Stats"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]).map(e=>(0,a.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"job-brief"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"space-y-6",children:0===o.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(de.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No windows yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Upload a take-off sheet or add windows manually to get started"}),(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,a.jsx)(N.$,{variant:"primary",icon:F.A,onClick:()=>v(!0),children:"Upload Take-off Sheet"}),(0,a.jsx)(N.$,{variant:"secondary",icon:c.A,onClick:P,children:"Add Window Manually"})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Window Management"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.$,{variant:"primary",icon:F.A,onClick:()=>v(!0),children:"Upload Sheet"}),(0,a.jsx)(N.$,{variant:"primary",icon:c.A,onClick:P,children:"Add Window"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by window name",value:x,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("select",{value:p.filmType,onChange:e=>$("filmType",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Film Types"}),(0,a.jsx)("option",{value:"BR",children:"BR"}),(0,a.jsx)("option",{value:"Riot",children:"Riot"}),(0,a.jsx)("option",{value:"Riot+",children:"Riot+"})]}),(0,a.jsxs)("select",{value:p.status,onChange:e=>$("status",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"Updated",children:"Updated"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"}),(0,a.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>j("list"),className:"p-2 rounded-lg "+("list"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(ce.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>j("grid"),className:"p-2 rounded-lg "+("grid"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(oe.A,{className:"w-4 h-4"})})]})]}),0===I.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No windows found matching your criteria"})}):"list"===g?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"WINDOW NAME"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"FILM TYPE"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"DIMENSIONS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"LAYERS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"STATUS"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900",children:"ACTIONS"})]})}),(0,a.jsx)("tbody",{children:I.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:e.filmType})}),(0,a.jsxs)("td",{className:"py-4 px-4 text-gray-900",children:[e.length," x ",e.width," cm"]}),(0,a.jsx)("td",{className:"py-4 px-4 text-gray-900",children:e.layers.length}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)(ye.W,{status:e.status})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("button",{onClick:()=>{const s=document.getElementById(`dropdown-${e.id}`);s&&s.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(me.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:()=>{R(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:()=>{W(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(le.A,{className:"w-4 h-4"}),"Edit Window"]}),(0,a.jsxs)("button",{onClick:()=>{O(e.id),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(he.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})})})]},e.id))})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,a.jsxs)(je.Z,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>R(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]}),(0,a.jsx)(ye.W,{status:e.status})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:["Film Type: ",e.filmType]}),(0,a.jsxs)("div",{children:["Dimensions: ",e.length," x ",e.width," cm"]}),(0,a.jsxs)("div",{children:["Layers: ",e.layers.length]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end mt-4",children:(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation();const t=document.getElementById(`dropdown-grid-${e.id}`);t&&t.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(me.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-grid-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),R(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),W(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(le.A,{className:"w-4 h-4"}),"Edit Window"]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),O(e.id),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(he.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})})]},e.id))}),I.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:pe.A,children:"Previous"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:"1"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"2"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"3"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"..."}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"8"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"9"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"10"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:ue.A,children:"Next"})})]})]})})})}),"team"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:[{name:"John Smith",role:"Lead Supervisor",phone:"+1-555-0123"},{name:"Ayesha Khan",role:"Crew Leader",phone:"+1-555-0124"},{name:"Mike Lee",role:"Senior Installer",phone:"+1-555-0125"},{name:"Sarah Johnson",role:"Installer",phone:"+1-555-0126"},{name:"David Chen",role:"Installer",phone:"+1-555-0127"},{name:"Emily Rodriguez",role:"Safety Coordinator",phone:"+1-555-0128"}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},s))})]})}),"travel-hotel"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Travel & Hotel"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Travel details"}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Lahore → Miami"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,a.jsx)("span",{children:"2 attachments"})]}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Hotel Reservation Details"}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Hotel Picaso · Sep 25 → Sep 26, 2025"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,a.jsx)("span",{children:"3 attachments"})]}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]})]})]})}),"document"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"2 documents"})]}),(0,a.jsx)(N.$,{variant:"secondary",icon:F.A,onClick:()=>t("Upload document functionality coming soon","info"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"DOC"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Site Map - Floor Plan.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"John Doe"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Site Map - Floor Plan.pdf","info"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon","info"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"TXT"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Architectural Plan.txt"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ema Will"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Architectural Plan.txt","info"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon","info"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Installation Guides"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Step-by-step installation procedures"})]}),(0,a.jsx)(N.$,{variant:"secondary",icon:F.A,onClick:()=>t("Upload installation guide functionality coming soon","info"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(de.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No installation guides uploaded yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload guides to help your team with installation procedures"})]})]})]}),"quality-check"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Check Results"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"Passed Quality Check"}),(0,a.jsx)("p",{className:"text-green-700 mt-1",children:"13 out of 15 windows passed quality inspection"})]}),(0,a.jsxs)("div",{className:"p-4 border border-orange-200 bg-orange-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-900",children:"Needs Reinstallation"}),(0,a.jsx)("p",{className:"text-orange-700 mt-1",children:"2 windows require reinstallation due to minor defects"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Quality Inspector"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"John Smith - Senior Quality Inspector"})]})]})]})}),"issues"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-900",children:"Window #12 - Minor Bubbling"}),(0,a.jsx)("p",{className:"text-orange-700 mt-1",children:"Small air bubbles detected in corner area. Requires reinstallation."})]}),(0,a.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-900",children:"Window #8 - Edge Alignment"}),(0,a.jsx)("p",{className:"text-orange-700 mt-1",children:"Film edge not properly aligned. Needs adjustment."})]})]})]})}),"completion-report"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Completion Report"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"Project Successfully Completed"}),(0,a.jsx)("p",{className:"text-green-700 mt-1",children:"All 15 windows installed and quality approved"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Final Statistics"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Duration: 14 days | Team: 5 members | Quality Score: 98%"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Client Satisfaction"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Client feedback: Excellent work quality and timely completion"})]})]})]})}),"final-stats"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Final Project Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Total Windows"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"15"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Success Rate"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:"100%"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Project Duration"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"14 days"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Team Members"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"5"})]})]})]})}),"notes"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"2 notes"})]}),(0,a.jsx)("button",{onClick:()=>t("Add note functionality coming soon","info"),className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Client requested additional security measures for the main entrance."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon","info"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon","info"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Maria Will"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 11, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Site visit completed. All measurements confirmed."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon","info"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon","info"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(je.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:T.activityLog.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-semibold text-blue-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,a.jsx)(de.A,{className:"w-3 h-3 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id))})]})})})]})}),(0,a.jsx)(be.K,{isOpen:b,onClose:()=>v(!1),onUploadComplete:e=>{m(s=>[...s,...e]),v(!1),t("Windows created successfully from sheet","success")}}),(0,a.jsx)(ve,{isOpen:w,onClose:()=>C(!1),windowItem:A,onSave:e=>{if(A)m(s=>s.map(s=>s.id===A.id?{...s,...e,status:"Updated"}:s)),t("Window updated successfully","success");else{const s={id:Date.now().toString(),windowName:e.windowName||"",filmType:e.filmType||"BR",length:e.length||0,width:e.width||0,layers:e.layers||[],status:"Pending",assignedTeamMembers:[],createdAt:new Date,updatedAt:new Date,...e};m(e=>[...e,s]),t("Window added successfully","success")}C(!1),D(null)}}),(0,a.jsx)(fe.n,{isOpen:k,onClose:()=>S(!1),windowItem:M,onUpdate:e=>{M&&(m(s=>s.map(s=>s.id===M.id?{...s,...e,status:"Updated"}:s)),L({...M,...e}),t("Window updated successfully","success"))}})]})};var Ce=t(2427),ke=t(1314);const Se=({isOpen:e,onClose:s,onUploadComplete:t})=>{const{showToast:r}=(0,U.d)(),n=(0,l.useRef)(null),[i,d]=(0,l.useState)("idle"),[c,o]=(0,l.useState)(null),[m,x]=(0,l.useState)(0),[h,p]=(0,l.useState)(""),u=()=>{d("idle"),o(null),x(0),p(""),n.current&&(n.current.value=""),s()};return(0,a.jsxs)(v.a,{isOpen:e,onClose:u,title:"Upload Recut Sheet",size:"lg",children:["uploading"===i||"processing"===i?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mb-4",children:"uploading"===i?(0,a.jsx)(F.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-pulse"}):(0,a.jsx)(Ce.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"uploading"===i?"Uploading...":"Processing recut sheet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"uploading"===i?"Uploading your file...":"Processing recut data… Please wait"}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[m,"% complete"]})]}):"completed"===i?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ke.A,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Complete!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Recut sheet processed successfully"})]}):"error"===i?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ie.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Failed"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:h}),(0,a.jsx)(N.$,{variant:"primary",onClick:()=>d("idle"),children:"Try Again"})]}):(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(de.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Recut Sheet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Upload a CSV or Excel file containing recut specifications"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();const s=e.dataTransfer.files[0];s&&(o(s),p(""))},onClick:()=>n.current?.click(),children:[(0,a.jsx)("input",{ref:n,type:"file",accept:".csv,.xls,.xlsx",onChange:e=>{const s=e.target.files?.[0];if(s){if(!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(s.type))return void p("Please upload a CSV or Excel file (.csv, .xls, .xlsx)");if(s.size>10485760)return void p("File size must be less than 10MB");o(s),p("")}},className:"hidden"}),c?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(de.A,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:c.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(c.size/1048576).toFixed(2)," MB"]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),o(null),p("")},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(j.A,{className:"w-5 h-5"})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(F.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-600 mb-1",children:"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"CSV, XLS, XLSX (max 10MB)"})]})]}),h&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:h})}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"File Requirements:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• CSV or Excel format (.csv, .xls, .xlsx)"}),(0,a.jsx)("li",{children:"• Maximum file size: 10MB"}),(0,a.jsx)("li",{children:"• Required columns: Window ID, Recut Reason, New Dimensions, Notes"}),(0,a.jsx)("li",{children:"• First row should contain column headers"})]})]})]}),"idle"===i&&(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(N.$,{variant:"secondary",onClick:u,children:"Cancel"}),(0,a.jsx)(N.$,{variant:"primary",onClick:async()=>{if(c){d("uploading"),x(0);try{for(let e=0;e<=100;e+=10)x(e),await new Promise(e=>setTimeout(e,200));d("processing"),await new Promise(e=>setTimeout(e,2e3));const e={id:`recut-sheet-${Date.now()}`,fileName:c.name,uploadedAt:new Date,processedAt:new Date,status:"Completed",recutsCreated:5,totalRows:5};d("completed"),r("Recut sheet uploaded and processed successfully","success"),setTimeout(()=>{t(e),u()},1500)}catch(e){d("error"),p("Failed to process the recut sheet. Please try again.")}}},disabled:!c,children:"Upload & Process"})]})]})},Ae=({isOpen:e,onClose:s,onSubmit:t})=>{const{showToast:r}=(0,U.d)(),[n,i]=(0,l.useState)({overallQuality:"good",comments:"",issues:[],scopeConfirmations:{installationsCompleted:!1,materialsInspected:!1,adjustmentsResolved:!1},clientConfirmations:{workReviewed:!1,noOutstandingIssues:!1,responsibilitiesFulfilled:!1},signature:""}),[d,c]=(0,l.useState)(""),[o,m]=(0,l.useState)(!1),x=(e,s)=>{i(t=>({...t,[e]:s}))},h=(e,s,t)=>{i(a=>({...a,[e]:{...a[e],[s]:t}}))},p=()=>{d.trim()&&(i(e=>({...e,issues:[...e.issues,d.trim()]})),c(""))},u=()=>{i({overallQuality:"good",comments:"",issues:[],scopeConfirmations:{installationsCompleted:!1,materialsInspected:!1,adjustmentsResolved:!1},clientConfirmations:{workReviewed:!1,noOutstandingIssues:!1,responsibilitiesFulfilled:!1},signature:""}),c(""),m(!1),s()};return e?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(de.A,{className:"w-5 h-5 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Quality Check Form"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Marriot Windows Installation Project"})]})]}),(0,a.jsx)("button",{onClick:u,className:"text-gray-400 hover:text-gray-600 p-2",children:(0,a.jsx)(j.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m(!0),r("Quality Check Form signed successfully!"),t(n),s()},className:"p-6 space-y-6",children:[(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-900",children:"Marriot Windows Installation"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Location"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-900",children:"123 Main Street, Downtown"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-900",children:"Marriot Hotels"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,a.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-900",children:(new Date).toLocaleDateString()})]})]})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(re.A,{className:"w-5 h-5 text-orange-600"}),"Quality Assessment"]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Quality Rating *"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"excellent",label:"Excellent",color:"bg-green-100 text-green-800 border-green-200"},{value:"good",label:"Good",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"satisfactory",label:"Satisfactory",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},{value:"needs_improvement",label:"Needs Improvement",color:"bg-red-100 text-red-800 border-red-200"}].map(e=>(0,a.jsxs)("label",{className:"cursor-pointer",children:[(0,a.jsx)("input",{type:"radio",name:"overallQuality",value:e.value,checked:n.overallQuality===e.value,onChange:e=>x("overallQuality",e.target.value),className:"sr-only"}),(0,a.jsx)("div",{className:"p-3 rounded-lg border-2 text-center transition-all "+(n.overallQuality===e.value?e.color+" border-current":"bg-gray-50 text-gray-600 border-gray-200 hover:bg-gray-100"),children:e.label})]},e.value))})]})})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(ie.A,{className:"w-5 h-5 text-orange-600"}),"Issues Found"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Add an issue...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),p())}),(0,a.jsx)(N.$,{type:"button",variant:"secondary",onClick:p,disabled:!d.trim(),children:"Add Issue"})]}),n.issues.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:n.issues.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("span",{className:"text-red-800",children:e}),(0,a.jsx)("button",{type:"button",onClick:()=>(e=>{i(s=>({...s,issues:s.issues.filter((s,t)=>t!==e)}))})(s),className:"text-red-600 hover:text-red-800",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})]},s))})]})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"1. Scope of Review"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"The undersigned confirms that:"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.scopeConfirmations.installationsCompleted,onChange:e=>h("scopeConfirmations","installationsCompleted",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"All installations under this project have been completed in full as per the agreed scope of work."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.scopeConfirmations.materialsInspected,onChange:e=>h("scopeConfirmations","materialsInspected",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"All windows, films, and materials have been inspected and meet the required standards."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.scopeConfirmations.adjustmentsResolved,onChange:e=>h("scopeConfirmations","adjustmentsResolved",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Any adjustments or corrections identified during the quality check have been resolved to the client's satisfaction."})]})]})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"2. Client Confirmation"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"By signing below, the client acknowledges that:"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.clientConfirmations.workReviewed,onChange:e=>h("clientConfirmations","workReviewed",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"The work has been reviewed and is satisfactory in quality and completion."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.clientConfirmations.noOutstandingIssues,onChange:e=>h("clientConfirmations","noOutstandingIssues",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"No outstanding issues remain that prevent the project from being closed."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.clientConfirmations.responsibilitiesFulfilled,onChange:e=>h("clientConfirmations","responsibilitiesFulfilled",e.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Safe Haven Defense has fulfilled its responsibilities for this project."})]})]})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3. Project Sign-Off"}),(0,a.jsx)("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:"This document serves as the official sign-off and closure of the project. Upon signing, Safe Haven Defense is released from any further on-site work obligations, except under warranty terms (if applicable)."})})]}),(0,a.jsxs)(je.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Digital Signature"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inspector Signature *"}),(0,a.jsx)("input",{type:"text",required:!0,value:n.signature,onChange:e=>x("signature",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Type your full name to sign"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"By typing your name above, you confirm that this quality inspection has been completed accurately."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(N.$,{type:"button",variant:"secondary",onClick:u,children:"Cancel"}),(0,a.jsx)(N.$,{type:"submit",variant:"primary",disabled:o||!n.signature||!n.scopeConfirmations.installationsCompleted||!n.scopeConfirmations.materialsInspected||!n.scopeConfirmations.adjustmentsResolved||!n.clientConfirmations.workReviewed||!n.clientConfirmations.noOutstandingIssues||!n.clientConfirmations.responsibilitiesFulfilled,children:o?"QF Signed":"Submit Quality Check Form"})]})]})]})}):null},De=({projectStatus:e="QF"})=>{const{projectId:s}=(0,r.g)(),{showToast:t}=((0,r.Zp)(),(0,U.d)()),[n,d]=(0,l.useState)("window-management"),[o,m]=(0,l.useState)(Ne.xw.map(e=>({...e,status:"Complete"}))),[x,h]=(0,l.useState)(""),[p,u]=(0,l.useState)({filmType:"all",status:"all",layers:"all"}),[g,j]=(0,l.useState)("list"),[b,v]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),[A,D]=(0,l.useState)(!1),[M,L]=(0,l.useState)(!1),[T,I]=(0,l.useState)(null),[P,W]=(0,l.useState)(null),[R,E]=(0,l.useState)(!1),[O,$]=(0,l.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"failed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Minor bubbling detected in corner area",issues:["Air bubbles in corner","Edge alignment needs adjustment"]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"pending",inspector:null,checkedAt:null,notes:"",issues:[]}]);(0,l.useEffect)(()=>{const e=e=>{e.target.closest(".dropdown-container")||document.querySelectorAll('[id^="dropdown-"]').forEach(e=>{e.classList.add("hidden")})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const q={...i,progress:85,currentPhase:"Quality Review",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:12,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"13 out of 15 windows passed quality check"},{id:"2",user:"Sarah Johnson",action:"uploaded quality report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"quality-inspection-report.pdf",fileSize:"2.1 MB"},{id:"3",user:"Mike Lee",action:"marked 2 windows for reinstallation in Marriot Windows Installation",time:"6 hours ago",type:"update",fileName:null,fileSize:null,note:"Windows #12 and #8 require reinstallation due to quality issues"},{id:"4",user:"Emily Rodriguez",action:"uploaded document for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"safety-checklist.pdf",fileSize:"0.9 MB"},{id:"5",user:"David Chen",action:"updated Marriot Windows Installation project",time:"1 day ago",type:"update",fileName:null,fileSize:null,note:"Quality review process initiated"},{id:"6",user:"Ayesha Khan",action:"uploaded document for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"architectural-plans.pdf",fileSize:"3.2 MB"}]},z=o.filter(e=>{const s=(e.windowName||"").toLowerCase().includes(x.toLowerCase()),t="all"===p.filmType||e.filmType===p.filmType,a="all"===p.status||e.status===p.status,l="all"===p.layers||(e.layers?.length||0).toString()===p.layers;return s&&t&&a&&l}),J=e=>{I(e),C(!0)},Q=e=>{W(e),S(!0)},Z=e=>{window.confirm("Are you sure you want to remove this window?")&&(m(s=>s.filter(s=>s.id!==e)),t("Window removed successfully"))},V=(e,s)=>{u(t=>({...t,[e]:s}))};return O.filter(e=>"passed"===e.status).length,O.filter(e=>"failed"===e.status).length,O.filter(e=>"pending"===e.status).length,(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-orange-50 text-orange-700",children:"QF"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:["Project ID: ",q.id]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:q.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(B.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[q.startDate," - ",q.endDate]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{D(!0)},className:"px-3 py-2",disabled:M,children:M?"QF Signed":"Sign Quality Check Form"}),(0,a.jsx)(N.$,{variant:"secondary",onClick:()=>{E(!0)},icon:F.A,className:"px-3 py-2",children:"Add Recut Sheet"}),(0,a.jsx)(N.$,{variant:"secondary",onClick:()=>{t("Edit project functionality coming soon")},icon:le.A,className:"px-3 py-2",children:"Edit"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Window Installation Progress"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"100% Complete"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Current Phase: Installation completed"}),(0,a.jsx)("span",{children:"Project Completed"})]})]})]})})}),(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"window-management",label:"Window Management"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"window-management"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Window Management"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.$,{variant:"primary",icon:F.A,onClick:()=>v(!0),children:"Upload Sheet"}),(0,a.jsx)(N.$,{variant:"primary",icon:c.A,onClick:()=>{I(null),C(!0)},children:"Add Window"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by window name",value:x,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("select",{value:p.filmType,onChange:e=>V("filmType",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Film Types"}),(0,a.jsx)("option",{value:"BR",children:"BR"}),(0,a.jsx)("option",{value:"Riot",children:"Riot"}),(0,a.jsx)("option",{value:"Riot+",children:"Riot+"})]}),(0,a.jsxs)("select",{value:p.status,onChange:e=>V("status",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"Updated",children:"Updated"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"}),(0,a.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>j("list"),className:"p-2 rounded-lg "+("list"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(ce.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>j("grid"),className:"p-2 rounded-lg "+("grid"===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(oe.A,{className:"w-4 h-4"})})]})]}),0===z.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No windows found matching your criteria"})}):"list"===g?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"WINDOW NAME"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"FILM TYPE"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"DIMENSIONS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"LAYERS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"STATUS"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900",children:"ACTIONS"})]})}),(0,a.jsx)("tbody",{children:z.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:e.filmType})}),(0,a.jsxs)("td",{className:"py-4 px-4 text-gray-900",children:[e.length," x ",e.width," cm"]}),(0,a.jsx)("td",{className:"py-4 px-4 text-gray-900",children:e.layers.length}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)(ye.W,{status:e.status})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("button",{onClick:()=>{const s=document.getElementById(`dropdown-${e.id}`);s&&s.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(me.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:()=>{Q(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:()=>{J(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(le.A,{className:"w-4 h-4"}),"Edit Window"]}),(0,a.jsxs)("button",{onClick:()=>{Z(e.id),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(he.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})})})]},e.id))})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(e=>(0,a.jsxs)(je.Z,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Q(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]}),(0,a.jsx)(ye.W,{status:e.status})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:["Film Type: ",e.filmType]}),(0,a.jsxs)("div",{children:["Dimensions: ",e.length," x ",e.width," cm"]}),(0,a.jsxs)("div",{children:["Layers: ",e.layers.length]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end mt-4",children:(0,a.jsxs)("div",{className:"relative dropdown-container",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation();const t=document.getElementById(`dropdown-grid-${e.id}`);t&&t.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(me.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-grid-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),Q(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),J(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(le.A,{className:"w-4 h-4"}),"Edit Window"]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),Z(e.id),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(he.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})})]},e.id))}),z.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:pe.A,children:"Previous"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:"1"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"2"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"3"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"..."}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"8"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"9"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"10"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:ue.A,children:"Next"})})]})]})})}),"issues"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,a.jsx)("div",{className:"space-y-4",children:O.filter(e=>"failed"===e.status).map(e=>(0,a.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-900",children:e.windowName}),(0,a.jsx)("p",{className:"text-orange-700 mt-1",children:e.notes}),e.issues.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Issues:"}),(0,a.jsx)("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:e.issues.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]},e.id))})]})}),"team"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:[{name:"John Smith",role:"Lead Supervisor",phone:"+1-555-0123"},{name:"Ayesha Khan",role:"Crew Leader",phone:"+1-555-0124"},{name:"Mike Lee",role:"Senior Installer",phone:"+1-555-0125"},{name:"Sarah Johnson",role:"Installer",phone:"+1-555-0126"},{name:"David Chen",role:"Installer",phone:"+1-555-0127"},{name:"Emily Rodriguez",role:"Safety Coordinator",phone:"+1-555-0128"}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},s))})]})}),"document"===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 documents"})]}),(0,a.jsx)(N.$,{variant:"secondary",icon:F.A,onClick:()=>t("Upload document functionality coming soon"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QR"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Quality Inspection Report.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"2.1 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs",children:"Sarah Johnson"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Quality Inspection Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"DOC"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Site Map - Floor Plan.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"John Doe"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Site Map - Floor Plan.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"TXT"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Architectural Plan.txt"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ema Will"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Architectural Plan.txt"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Installation Guides"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Step-by-step installation procedures"})]}),(0,a.jsx)(N.$,{variant:"secondary",icon:F.A,onClick:()=>t("Upload installation guide functionality coming soon"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(de.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No installation guides uploaded yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload guides to help your team with installation procedures"})]})]})]}),"notes"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 notes"})]}),(0,a.jsx)("button",{onClick:()=>t("Add note functionality coming soon"),className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 11:15 AM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Quality inspection completed. 13 windows passed, 2 need reinstallation."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Client requested additional security measures for the main entrance."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Maria Will"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 11, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Site visit completed. All measurements confirmed."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(je.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:q.activityLog.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-semibold text-orange-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-orange-50 rounded flex items-center justify-center",children:(0,a.jsx)(de.A,{className:"w-3 h-3 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id))})]})})})]})}),(0,a.jsx)(be.K,{isOpen:b,onClose:()=>v(!1),onUploadComplete:e=>{v(!1),t("Windows created successfully from sheet"),console.log("Take-off Sheet Data:",e)}}),(0,a.jsx)(Se,{isOpen:R,onClose:()=>E(!1),onUploadComplete:e=>{E(!1),t("Recut sheet uploaded and processed successfully"),console.log("Recut Sheet Data:",e)}}),(0,a.jsx)(ve,{isOpen:w,onClose:()=>C(!1),windowItem:T,onSave:e=>{if(T)m(s=>s.map(s=>s.id===T.id?{...s,...e,status:"Updated"}:s)),t("Window updated successfully");else{const s={id:Date.now().toString(),windowName:e.windowName||"",filmType:e.filmType||"BR",length:e.length||0,width:e.width||0,layers:e.layers||[],status:"Pending",assignedTeamMembers:[],createdAt:new Date,updatedAt:new Date,...e};m(e=>[...e,s]),t("Window added successfully")}C(!1),I(null)}}),(0,a.jsx)(fe.n,{isOpen:k,onClose:()=>S(!1),windowItem:P,onUpdate:e=>{P&&(m(s=>s.map(s=>s.id===P.id?{...s,...e,status:"Updated"}:s)),W({...P,...e}),t("Window updated successfully"))}}),(0,a.jsx)(Ae,{isOpen:A,onClose:()=>D(!1),onSubmit:e=>{L(!0),t("Quality check form submitted successfully - QF is marked as completed"),console.log("Quality Check Form Data:",e)}})]})};var Me=t(2115),Le=t(363);const Te=({projectStatus:e="Completed"})=>{const{projectId:s}=(0,r.g)(),{showToast:t}=((0,r.Zp)(),(0,U.d)()),[n,d]=(0,l.useState)("project-report"),[o]=(0,l.useState)({totalHoursSpent:320,totalPeopleWorked:5,windowLayersReinstalled:2,sheetLayersInstalled:45,teamMembers:[{id:"1",name:"John Smith",role:"Lead Supervisor",hoursWorked:80,performance:"Excellent",rating:5,tasksCompleted:15,qualityScore:98},{id:"2",name:"Ayesha Khan",role:"Crew Leader",hoursWorked:75,performance:"Very Good",rating:4.5,tasksCompleted:12,qualityScore:95},{id:"3",name:"Mike Lee",role:"Senior Installer",hoursWorked:70,performance:"Good",rating:4,tasksCompleted:10,qualityScore:92},{id:"4",name:"Sarah Johnson",role:"Installer",hoursWorked:65,performance:"Very Good",rating:4.5,tasksCompleted:8,qualityScore:94},{id:"5",name:"David Chen",role:"Installer",hoursWorked:60,performance:"Good",rating:4,tasksCompleted:7,qualityScore:90}]}),[m]=(0,l.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Excellent work quality after reinstallation",issues:[]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T13:00:00Z",notes:"Perfect installation",issues:[]}]),x={...i,progress:100,currentPhase:"Project Completed",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:15,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed final quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"All 15 windows passed final quality check - project completed successfully"},{id:"2",user:"Sarah Johnson",action:"uploaded final project report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"final-project-report.pdf",fileSize:"3.2 MB"},{id:"3",user:"Mike Lee",action:"completed reinstallation of 2 windows in Marriot Windows Installation",time:"6 hours ago",type:"completion",fileName:null,fileSize:null,note:"Windows #12 and #8 successfully reinstalled and quality approved"},{id:"4",user:"Emily Rodriguez",action:"uploaded client satisfaction survey for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"client-satisfaction-survey.pdf",fileSize:"1.1 MB"},{id:"5",user:"David Chen",action:"completed project cleanup for Marriot Windows Installation",time:"1 day ago",type:"completion",fileName:null,fileSize:null,note:"Site cleanup completed, all materials properly disposed"},{id:"6",user:"Ayesha Khan",action:"uploaded final documentation for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"project-documentation-final.pdf",fileSize:"4.8 MB"}]},h=m.filter(e=>"passed"===e.status).length,p=m.filter(e=>"failed"===e.status).length;return m.filter(e=>"pending"===e.status).length,(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-green-50 text-green-700",children:"Completed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:["Project ID: ",x.id]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:x.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(B.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[x.startDate," - ",x.endDate]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{t("Create Associated Project functionality coming soon")},className:"px-3 py-2",children:"Create Associated Project"}),(0,a.jsx)(N.$,{variant:"secondary",onClick:()=>{t("Edit project functionality coming soon")},icon:le.A,className:"px-3 py-2",children:"Edit"})]})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Overview"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(re.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Successfully Completed"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ne.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.totalHoursSpent})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Hours Spent"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(E.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.totalPeopleWorked})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"People Worked"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(ie.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.windowLayersReinstalled})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Window Layers Reinstalled"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(Me.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.sheetLayersInstalled})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Sheet Layers Installed"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Completion Status"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"100% Complete"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Status: Project completed successfully"}),(0,a.jsxs)("span",{children:["Completed on ",x.endDate]})]})]})]})})}),(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"project-report",label:"Project Report"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"project-report"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Report"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(N.$,{variant:"secondary",icon:ge.A,onClick:()=>t("Downloading project report..."),children:"Download Report"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Project Metrics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Hours Spent"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:[o.totalHoursSpent," hours"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total People Worked"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:[o.totalPeopleWorked," people"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Window Layers Reinstalled"}),(0,a.jsxs)("span",{className:"font-semibold text-orange-600",children:[o.windowLayersReinstalled," layers"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Sheet Layers Installed"}),(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[o.sheetLayersInstalled," layers"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Quality Summary"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Windows Passed QC"}),(0,a.jsxs)("span",{className:"font-semibold text-green-600",children:[h," windows"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Windows Failed QC"}),(0,a.jsxs)("span",{className:"font-semibold text-red-600",children:[p," windows"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:"100%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Quality Score"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:"94.8%"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Team Performance Summary"}),(0,a.jsx)("div",{className:"space-y-3",children:o.teamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hours"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.hoursWorked})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Tasks"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.tasksCompleted})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Quality"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.qualityScore,"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Le.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:e.rating})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Performance"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Excellent"===e.performance?"bg-green-100 text-green-800":"Very Good"===e.performance?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.performance})]})]})]},e.id))})]})]})})}),"issues"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"All Issues Resolved"}),(0,a.jsx)("p",{className:"text-green-700 mt-1",children:"All quality issues have been successfully addressed and resolved"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Resolution Summary"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"2 windows were reinstalled and passed final quality inspection"})]})]})]})}),"team"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:o.teamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.hoursWorked," hours worked"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Le.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.rating})]})]},e.id))})]})}),"document"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 documents"})]}),(0,a.jsx)(N.$,{variant:"secondary",icon:F.A,onClick:()=>t("Upload document functionality coming soon"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-green-600",children:"FPR"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Final Project Report.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"3.2 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 04:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs",children:"Sarah Johnson"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Final Project Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"CSS"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Client Satisfaction Survey.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.1 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 19, 2024, 02:30 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Emily Rodriguez"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Client Satisfaction Survey.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"DOC"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Project Documentation Final.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"4.8 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 18, 2024, 11:00 AM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ayesha Khan"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Project Documentation Final.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QIR"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Quality Inspection Report.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"2.1 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs",children:"John Smith"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Quality Inspection Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(ge.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})]})]})}),"notes"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 notes"})]}),(0,a.jsx)("button",{onClick:()=>t("Add note functionality coming soon"),className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 04:00 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Project completed successfully! All 15 windows installed and quality approved. Client is very satisfied with the work."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Sarah Johnson"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 02:30 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Final quality inspection completed. All windows passed with excellent results. Ready for client handover."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Mike Lee"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 19, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Reinstallation of windows #12 and #8 completed successfully. Both windows now pass quality standards."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"David Chen"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 18, 2024, 05:30 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Site cleanup completed. All materials properly disposed and site returned to original condition."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(le.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(he.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(je.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:x.activityLog.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-semibold text-green-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,a.jsx)(de.A,{className:"w-3 h-3 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id))})]})})})]})})]})},Ie=()=>{const{projectId:e}=(0,r.g)(),[s]=(0,n.ok)(),[t,d]=(0,l.useState)(i),c=s.get("status"),o=c||t.status,m=["PV75","PV90","UB","WB"].includes(o),x="WIP"===o,h="QF"===o,p="Completed"===o;return(0,l.useEffect)(()=>{c&&d(e=>({...e,status:c}))},[c]),m?(0,a.jsx)(ae,{}):x?(0,a.jsx)(we,{projectStatus:"WIP"}):h?(0,a.jsx)(De,{projectStatus:"QF"}):p?(0,a.jsx)(Te,{projectStatus:"Completed"}):(0,a.jsx)(ae,{})}},2845:(e,s,t)=>{t.d(s,{Qp:()=>r});var a=t(9803);const l=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),r=()=>a.d.map(l)},2906:(e,s,t)=>{t.d(s,{NE:()=>l,jd:()=>r,xw:()=>a});const a=[{id:"1",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"2",windowName:"Main Office Window 2",filmType:"Riot",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"3",windowName:"Main Office Window 3",filmType:"Riot +",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17"),notes:"Quality issue detected"}],status:"Reinstallation Needed",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"4",windowName:"Main Office Window 4",filmType:"Riot -",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending"}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"5",windowName:"Main Office Window 5",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"6",windowName:"Main Office Window 6",filmType:"PER",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"7",windowName:"Main Office Window 7",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")}],status:"Complete",assignedTeamMembers:["John Smith"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1"}],l=["John Smith","Ayesha Khan","Mike Lee","Sarah Johnson","David Chen","Emily Rodriguez"],r=["BR","Riot","Riot +","Riot -","PER","Smash","FER","Custom"]},3096:(e,s,t)=>{t.d(s,{K:()=>p});var a=t(4848),l=t(6540),r=t(1116),n=t(1314),i=t(3459),d=t(2427),c=t(1676),o=t(9237),m=t(894),x=t(5919),h=t(7235);const p=({isOpen:e,onClose:s,onUploadComplete:t})=>{const{showToast:p}=(0,h.d)(),u=(0,l.useRef)(null),[g,j]=(0,l.useState)("idle"),[y,b]=(0,l.useState)(null),[f,N]=(0,l.useState)(0),[v,w]=(0,l.useState)(""),C=()=>{j("idle"),b(null),N(0),w(""),u.current&&(u.current.value=""),s()};return(0,a.jsxs)(m.a,{isOpen:e,onClose:C,title:"Upload Take-off Sheet",size:"lg",children:["uploading"===g||"processing"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mb-4",children:"uploading"===g?(0,a.jsx)(c.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-pulse"}):(0,a.jsx)(d.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"uploading"===g?"Uploading...":"Processing take-off sheet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"uploading"===g?"Uploading your file...":"Generating windows… Please wait"}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[f,"% complete"]})]}):"completed"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Complete!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Windows created successfully from sheet"})]}):"error"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(r.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Failed"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:v}),(0,a.jsx)(x.$,{variant:"primary",onClick:()=>j("idle"),children:"Try Again"})]}):(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Take-off Sheet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Upload a CSV or Excel file to automatically create windows"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();const s=e.dataTransfer.files[0];s&&(b(s),w(""))},onClick:()=>u.current?.click(),children:[(0,a.jsx)("input",{ref:u,type:"file",accept:".csv,.xls,.xlsx",onChange:e=>{const s=e.target.files?.[0];if(s){if(!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(s.type))return void w("Please upload a CSV or Excel file (.csv, .xls, .xlsx)");if(s.size>10485760)return void w("File size must be less than 10MB");b(s),w("")}},className:"hidden"}),y?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:y.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(y.size/1048576).toFixed(2)," MB"]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),b(null),w("")},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(c.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-600 mb-1",children:"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"CSV, XLS, XLSX (max 10MB)"})]})]}),v&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:v})}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"File Requirements:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• CSV or Excel format (.csv, .xls, .xlsx)"}),(0,a.jsx)("li",{children:"• Maximum file size: 10MB"}),(0,a.jsx)("li",{children:"• Required columns: Window Name, Film Type, Length, Width, Layers"}),(0,a.jsx)("li",{children:"• First row should contain column headers"})]})]})]}),"idle"===g&&(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(x.$,{variant:"secondary",onClick:C,children:"Cancel"}),(0,a.jsx)(x.$,{variant:"primary",onClick:async()=>{if(y){j("uploading"),N(0);try{for(let e=0;e<=100;e+=10)N(e),await new Promise(e=>setTimeout(e,200));j("processing"),await new Promise(e=>setTimeout(e,2e3));const e={id:`sheet-${Date.now()}`,fileName:y.name,uploadedAt:new Date,processedAt:new Date,status:"Completed",windowsCreated:7,totalRows:7};j("completed"),p("Windows created successfully from sheet","success"),setTimeout(()=>{t(e),C()},1500)}catch(e){j("error"),w("Failed to process the take-off sheet. Please try again.")}}},disabled:!y,children:"Upload & Process"})]})]})}},3283:(e,s,t)=>{t.d(s,{n:()=>g});var a=t(4848),l=t(6540),r=t(1116),n=t(3573),i=t(1314),d=t(1523),c=t(7287),o=t(4574),m=t(9237),x=t(894),h=t(5919),p=t(7235),u=t(2906);const g=({isOpen:e,onClose:s,windowItem:t,onUpdate:g})=>{const{showToast:j}=(0,p.d)(),[y,b]=(0,l.useState)(!1),[f,N]=(0,l.useState)(null);if(l.useEffect(()=>{t&&N({...t})},[t]),!t||!f)return null;const v=e=>{switch(e){case"Installed":return(0,a.jsx)(i.A,{className:"w-4 h-4 text-green-500"});case"Reinstallation Needed":return(0,a.jsx)(r.A,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})}},w=(e,s)=>{N(t=>{if(!t)return null;const a={...t,[e]:s,updatedAt:new Date};return"status"!==e&&"In Progress"!==t.status&&"Complete"!==t.status&&(a.status="Updated"),a})};return(0,a.jsx)(x.a,{isOpen:e,onClose:s,title:"",size:"xl",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[y?(0,a.jsx)("input",{type:"text",value:f.windowName,onChange:e=>w("windowName",e.target.value),className:"text-2xl font-bold text-gray-900 border border-gray-300 rounded px-2 py-1"}):(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f.windowName}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"Pending":default:return"bg-gray-100 text-gray-700";case"Updated":return"bg-blue-100 text-blue-700";case"In Progress":return"bg-yellow-100 text-yellow-700";case"Complete":return"bg-green-100 text-green-700";case"Reinstallation Needed":return"bg-red-100 text-red-700"}})(f.status)}`,children:f.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Created ",f.createdAt.toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Updated ",f.updatedAt.toLocaleDateString()]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.$,{variant:"secondary",onClick:()=>{N({...t}),b(!1)},children:"Cancel"}),(0,a.jsx)(h.$,{variant:"primary",onClick:()=>{f&&(g(f),b(!1),j("Window updated successfully","success"))},children:"Save Changes"})]}):(0,a.jsx)(h.$,{variant:"secondary",onClick:()=>b(!0),icon:c.A,children:"Edit"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Film Type"}),y?(0,a.jsx)("select",{value:f.filmType,onChange:e=>w("filmType",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:u.jd.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}):(0,a.jsx)("p",{className:"text-gray-900",children:f.filmType})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (cm)"}),y?(0,a.jsx)("input",{type:"number",value:f.length,onChange:e=>w("length",parseInt(e.target.value)||0),className:"w-full border border-gray-300 rounded-md px-3 py-2"}):(0,a.jsx)("p",{className:"text-gray-900",children:f.length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (cm)"}),y?(0,a.jsx)("input",{type:"number",value:f.width,onChange:e=>w("width",parseInt(e.target.value)||0),className:"w-full border border-gray-300 rounded-md px-3 py-2"}):(0,a.jsx)("p",{className:"text-gray-900",children:f.width})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Layers"}),(0,a.jsx)("p",{className:"text-gray-900",children:f.layers.length})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Assignment"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned Team Members"}),y?(0,a.jsxs)("div",{className:"space-y-2",children:[f.assignedTeamMembers.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("select",{value:e,onChange:e=>{const t=[...f.assignedTeamMembers];t[s]=e.target.value,w("assignedTeamMembers",t)},className:"flex-1 border border-gray-300 rounded-md px-3 py-2",children:u.NE.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{onClick:()=>{const e=f.assignedTeamMembers.filter((e,t)=>t!==s);w("assignedTeamMembers",e)},className:"text-red-500 hover:text-red-700",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})]},s)),(0,a.jsx)("button",{onClick:()=>{const e=[...f.assignedTeamMembers,u.NE[0]];w("assignedTeamMembers",e)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Team Member"})]}):(0,a.jsx)("div",{className:"space-y-1",children:f.assignedTeamMembers.length>0?f.assignedTeamMembers.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-900",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e})]},s)):(0,a.jsx)("p",{className:"text-gray-500",children:"No team members assigned"})})]})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Layer Installation Details"}),(0,a.jsx)("div",{className:"space-y-3",children:f.layers.map((e,s)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[v(e.status),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.layerName})]}),y&&(0,a.jsxs)("select",{value:e.status,onChange:e=>{const t="Installed"===e.target.value?u.NE[0]:void 0;((e,s,t)=>{N(a=>{if(!a)return null;const l=[...a.layers];l[e]={...l[e],status:s,installedBy:"Installed"===s?t:void 0,installedAt:"Installed"===s?new Date:void 0};const r=l.every(e=>"Installed"===e.status),n=l.some(e=>"Reinstallation Needed"===e.status),i=l.some(e=>"In Progress"===e.status);let d="Updated";return n?d="Reinstallation Needed":r?d="Complete":(i||a.assignedTeamMembers.length>0)&&(d="In Progress"),{...a,layers:l,status:d,updatedAt:new Date}})})(s,e.target.value,t)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Installed",children:"Installed"}),(0,a.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]})]}),"Installed"===e.status&&e.installedBy&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Installed by ",e.installedBy]}),e.installedAt&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.installedAt.toLocaleDateString()})]})]}),"Reinstallation Needed"===e.status&&e.notes&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[(0,a.jsx)("strong",{children:"Note:"})," ",e.notes]})]},s))})]})]})})}},4722:(e,s,t)=>{t.d(s,{W:()=>h});var a=t(4848),l=t(6540),r=t(3573),n=t(1397),i=t(2053),d=t(799),c=t(4574),o=t(9237),m=t(5919),x=t(894);const h=({isOpen:e,onClose:s,onAssignTeam:t,availableMembers:h,assignedMemberIds:p=[],projectDetails:u})=>{const[g,j]=(0,l.useState)(""),[y,b]=(0,l.useState)(""),[f,N]=(0,l.useState)(""),[v,w]=(0,l.useState)(""),[C,k]=(0,l.useState)(p),[S,A]=(0,l.useState)(1),D=15,M=(0,l.useMemo)(()=>h.map(e=>e.location).filter((e,s,t)=>t.indexOf(e)===s&&e).sort(),[h]),L=(0,l.useMemo)(()=>h.filter(e=>{const s=e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase())||e.phone?.toLowerCase().includes(g.toLowerCase()),t=!y||e.role===y,a=!f||e.status===f,l=!v||e.location===v;return s&&t&&a&&l}),[h,g,y,f,v]),T=Math.ceil(L.length/D),I=(0,l.useMemo)(()=>{const e=(S-1)*D;return L.slice(e,e+D)},[L,S,D]),P=e=>{const s=h.find(s=>s.id===e);s&&"Available"===s.status&&k(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},W=e=>new Date(e).toLocaleDateString("en-GB"),R=C.length,B=L.length,E=h.filter(e=>C.includes(e.id));return(0,a.jsx)(x.a,{isOpen:e,onClose:s,title:"Assign Team Members",size:"xl",children:(0,a.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[u&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,a.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,a.jsx)("span",{className:"font-medium",children:W(u.startDate)}),(0,a.jsx)("span",{className:"mx-2",children:"→"}),(0,a.jsx)("span",{className:"font-medium",children:W(u.endDate)})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:g,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"}),(0,a.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,a.jsxs)("select",{value:f,onChange:e=>N(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),M.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),R>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",R,")"]})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,a.jsx)("button",{onClick:()=>{return s=e.id,void k(e=>e.filter(e=>e!==s));var s},className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(o.A,{className:"w-3 h-3"})})]},e.id))})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[B," members found"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>{const s="Unavailable"===e.status,t=C.includes(e.id);return(0,a.jsxs)("tr",{className:`${s?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"} ${t?"bg-blue-50":""}`,onClick:()=>!s&&P(e.id),title:s?`Unavailable until ${e.unavailableUntil?W(e.unavailableUntil):"TBD"} — cannot assign.`:"",children:[(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t,disabled:s,onChange:()=>!s&&P(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(l=e.name,l.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.phone||"—"})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,a.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",W(e.unavailableUntil)]})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(n.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.location||"—"})]})})]},e.id);var l})})]})})}),T>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(S-1)*D+1," to ",Math.min(S*D,B)," of ",B," results"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.max(e-1,1)),disabled:1===S,children:"Previous"}),(0,a.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[S," of ",T]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.min(e+1,T)),disabled:S===T,children:"Next"})]})]}),0===L.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(m.$,{variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsxs)(m.$,{variant:"primary",onClick:()=>{const e=h.filter(e=>C.includes(e.id));t(e),s()},disabled:0===R,children:["Add Team Members (",R,")"]})]})]})})}},5212:(e,s,t)=>{t.d(s,{C:()=>d});var a=t(4848),l=t(6540),r=t(1813),n=t(894),i=t(5919);const d=({isOpen:e,onClose:s,onSave:t,onEdit:d,editingLogistics:c})=>{const[o,m]=(0,l.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,h]=(0,l.useState)({}),p=!!c;(0,l.useEffect)(()=>{e&&(m(c?{name:c.name,type:c.type,description:c.description,quantity:c.quantity,location:c.location,expectedDate:c.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),h({}))},[e,c]);const u=(e,s)=>{m(t=>({...t,[e]:s})),x[e]&&h(s=>({...s,[e]:""}))};return(0,a.jsx)(n.a,{isOpen:e,onClose:s,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return o.name.trim()||(e.name="Logistics name is required"),o.description.trim()||(e.description="Description is required"),o.quantity<=0&&(e.quantity="Quantity must be greater than 0"),o.location.trim()||(e.location="Location is required"),o.expectedDate||(e.expectedDate="Expected date is required"),h(e),0===Object.keys(e).length})())return;const a={...o,quantity:Number(o.quantity)};p&&d?d(c.id,a):t(a),s()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:o.name,onChange:e=>u("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:o.type,onChange:e=>u("type",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:o.description,onChange:e=>u("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:o.quantity,onChange:e=>u("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:o.location,onChange:e=>u("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:o.expectedDate,onChange:e=>u("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(i.$,{type:"button",variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(i.$,{type:"submit",variant:"primary",icon:r.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},9809:(e,s,t)=>{t.d(s,{r:()=>d});var a=t(4848),l=t(6540),r=t(3573),n=t(5919),i=t(894);const d=({isOpen:e,onClose:s,onConfirm:t,projectTitle:d,projectStatus:c,initialStartDate:o="",initialEndDate:m=""})=>{const[x,h]=(0,l.useState)(""),[p,u]=(0,l.useState)(""),[g,j]=(0,l.useState)({}),[y,b]=(0,l.useState)(null);return(0,l.useEffect)(()=>{e&&(h(o),u(m),j({}),b(null))},[e,o,m]),(0,l.useEffect)(()=>{if(x&&p){const e=new Date(x),s=new Date(p);if(e<s){const t=Math.abs(s.getTime()-e.getTime()),a=Math.ceil(t/864e5);b(`${a} days`)}else b(null)}else b(null)},[x,p]),(0,a.jsx)(i.a,{isOpen:e,onClose:s,title:`Set Project Dates for ${d}`,children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,a.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(c)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>h(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,a.jsx)(r.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>u(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,a.jsx)(r.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),y&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",y]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(n.$,{variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(n.$,{variant:"primary",onClick:()=>{(()=>{const e={},s=(new Date).toISOString().split("T")[0];return x?x<s&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",j(e),0===Object.keys(e).length})()&&(t(x,p),s())},children:"Save Dates"})]})]})})}}}]);