/*! For license information please see 780.50be97044cafa01061b2.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[780],{2369:(e,t,r)=>{r.d(t,{A:()=>o});var a,n=r(4848),s=r(3757),i=r(7581);const o=function(e){var t,r,o=e.title,l=e.columns,c=e.data,d=e.selectableRows,u=e.progressPending,m=e.paginationPerPage,f=e.pagination,h=e.highlightOnHover,x=e.striped,g=e.onRowClicked,p=i.default.div(a||(t=["\n  .rdt_Pagination{\n  padding-right: 50px\n  }\n  .rdt_Pagination #pagination-first-page,\n  .rdt_Pagination #pagination-last-page {\n    display: none !important;\n  }\n"],r||(r=t.slice(0)),a=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))));return(0,n.jsx)(p,{children:(0,n.jsx)("div",{style:{minWidth:"1800px"},children:(0,n.jsx)(s.Ay,{title:o,columns:l,data:c,selectableRows:d,pagination:f,highlightOnHover:h,striped:x,onRowClicked:g,paginationIconFirstPage:!1,paginationIconLastPage:null,progressPending:u,paginationPerPage:m,customStyles:{table:{style:{backgroundColor:"transparent",tableLayout:"fixed"}},headRow:{style:{backgroundColor:"#fff",border:0,minHeight:"48px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}},headCells:{style:{color:"#475569",fontSize:"16px",backgroundColor:"transparent",fontWeight:400,paddingLeft:"16px",paddingRight:"16px",whiteSpace:"nowrap"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",whiteSpace:"nowrap"}},rows:{style:{minHeight:"56px",backgroundColor:"transparent"}},pagination:{style:{backgroundColor:"transparent",borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:"#d1d5db",minHeight:"56px"},pageButtonsStyle:{borderRadius:"50%",border:"1px solid #1E293B",height:"32px",width:"32px",padding:"4px",margin:"0 4px",cursor:"pointer",transition:"all 0.25s",color:"#1f2937",fill:"#1f2937","&:hover":{backgroundColor:"#dbeafe"}},'&[id="pagination-first-page"], &[id="pagination-last-page"]':{display:"none !important",margin:0,padding:0,border:"none",width:0,height:0},"&:disabled":{cursor:"unset",color:"#9ca3af",fill:"#9ca3af",border:"1px solid #9ca3af",opacity:.6},noData:{style:{backgroundColor:"transparent",color:"#1d4ed8",fontSize:"16px",fontWeight:"500",padding:"24px"}}}}})})})}},2780:(e,t,r)=>{r.r(t),r.d(t,{ProjectList:()=>ye});var a=r(4848),n=r(6540),s=r(7767),i=r(1741),o=r(799),l=r(5891),c=r(3183),d=r(3573),u=r(9237),m=r(2186),f=r(5973),h=r(1085),x=r(7596),g={D75:"bg-gray-100 text-gray-700",PV90:"bg-purple-100 text-purple-700",UB:"bg-blue-100 text-blue-700",WB:"bg-yellow-100 text-yellow-700",WIP:"bg-blue-100 text-blue-700",QF:"bg-orange-100 text-orange-700",Completed:"bg-green-100 text-green-700",Archived:"bg-gray-200 text-gray-600"},p={D75:"D75",PV90:"PV90",UB:"UB",WB:"WB",WIP:"WIP",QF:"QF",Completed:"Completed",Archived:"Archived"},y=function(e){var t=e.percentage,r=e.size,n=void 0===r?80:r,s=e.className,i=void 0===s?"":s,o=(n-8)/2,l=2*Math.PI*o,c=l,d=l-t/100*l;return(0,a.jsx)("div",{className:"flex items-center justify-center ".concat(i),style:{width:n,height:n},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("svg",{width:n,height:n,className:"transform -rotate-90",children:[(0,a.jsx)("circle",{cx:n/2,cy:n/2,r:o,stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),(0,a.jsx)("circle",{cx:n/2,cy:n/2,r:o,stroke:"#3B82F6",strokeWidth:"8",fill:"none",strokeDasharray:c,strokeDashoffset:d,strokeLinecap:"round",className:"transition-all duration-300 ease-in-out"})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-700",children:[t,"%"]})})]})})},v=r(7261),b=function(e){var t=e.projects,r=e.onProjectClick,n=function(e){if(void 0!==e.progress)return e.progress;switch(e.status){case"D75":return 5;case"PV90":return 15;case"UB":return 25;case"WB":return 40;case"WIP":return 75;case"QF":return 90;case"Completed":case"Archived":return 100;default:return 0}},s=function(e){switch(e){case"D75":case"Archived":return"bg-gray-500";case"PV90":return"bg-purple-500";case"UB":case"WIP":return"bg-blue-500";case"WB":return"bg-yellow-500";case"QF":return"bg-orange-500";case"Completed":return"bg-green-500";default:return"bg-gray-400"}};return(0,a.jsx)("div",{className:"px-2",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(function(e){return(0,a.jsxs)("div",{onClick:function(){return r(e)},className:"bg-white rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer h-full flex flex-col min-h-[320px]",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 leading-tight",children:e.title})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ".concat(g[e.status]),children:p[e.status]}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:e.vinCode})]})]}),("WIP"===e.status||"Completed"===e.status)&&(0,a.jsxs)("div",{className:"flex-shrink-0 flex flex-col items-end justify-center",style:{width:"80px"},children:["WIP"===e.status&&(0,a.jsx)(y,{percentage:n(e),size:60}),"Completed"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Progress"}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-gray-700",children:[n(e),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 ".concat(s(e.status)),style:{width:"".concat(n(e),"%")}})})]})]})]}),(0,a.jsx)("div",{className:"px-4 pb-4 pt-4 flex-1",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Site"}),(0,a.jsx)("div",{className:"text-sm font-medium truncate",children:e.site})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Project Duration"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[(0,a.jsx)("span",{children:new Date(e.startDate).toLocaleDateString("en-GB")}),(0,a.jsx)("span",{className:"mx-2 text-gray-400",children:"â†’"}),(0,a.jsx)("span",{children:new Date(e.endDate).toLocaleDateString("en-GB")})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Industry"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:e.industry})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Crew"}),(0,a.jsx)("div",{className:"flex items-center gap-1 mt-1",children:e.crew&&e.crew.length>0?(0,a.jsxs)(a.Fragment,{children:[e.crew.slice(0,2).map(function(e,t){var r=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"];return(0,a.jsx)(v.e,{name:e.name||"Member ".concat(t+1),src:e.avatar||r[t%r.length],size:"sm",className:"border border-white shadow-sm"},t)}),e.crew.length>2&&(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center border border-white shadow-sm",children:(0,a.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:["+",e.crew.length-2]})})]}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Not assigned"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Trailer"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:e.assignedTrailer||"Not assigned"})]})]})]})]})})]},e.id)})})})},j=r(2369),w=function(e){var t=e.projects,r=e.onProjectClick,n=(e.sortOptions,e.onSort,[{name:"Project Name",selector:function(e){return e.title},sortable:!0,width:"300px",cell:function(e){return(0,a.jsx)("div",{className:"whitespace-nowrap",children:e.title})}},{name:"VIN Code",selector:function(e){return e.vinCode},sortable:!0,width:"250px",cell:function(e){return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 whitespace-nowrap",children:e.vinCode})}},{name:"Status",selector:function(e){return e.status},sortable:!0,width:"140px",cell:function(e){return(0,a.jsx)("div",{className:"flex flex-col space-y-1",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full whitespace-nowrap ".concat(g[e.status]),children:p[e.status]})})}},{name:"Site",selector:function(e){return e.site},sortable:!0,width:"250px",cell:function(e){return(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),e.site]})}},{name:"Industry",selector:function(e){return e.industry},sortable:!0,width:"200px",cell:function(e){return(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),e.industry]})}},{name:"Crew",selector:function(e){return e.crewCount},sortable:!0,width:"180px",cell:function(e){return(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex items-center -space-x-1",children:[e.crew.slice(0,3).map(function(e,t){return(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-700",title:e.name,children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(r=e.name,r.split(" ").map(function(e){return e[0]}).join("").toUpperCase().slice(0,2))},e.id);var r}),e.crewCount>3&&(0,a.jsxs)("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-600",children:["+",e.crewCount-3]})]}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",e.crewCount,")"]})]})}},{name:"Trailer",selector:function(e){return e.assignedTrailer||"Not Assigned"},sortable:!0,width:"200px",cell:function(e){return(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),e.assignedTrailer||"Not Assigned"]})}},{name:"Project Duration",selector:function(e){return e.startDate},sortable:!0,width:"250px",cell:function(e){return(0,a.jsxs)("div",{className:"flex items-center whitespace-nowrap",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Project Duration"}),(0,a.jsxs)("div",{className:"text-sm font-medium",children:[(0,a.jsx)("span",{children:new Date(e.startDate).toLocaleDateString("en-GB")}),(0,a.jsx)("span",{className:"mx-2 text-gray-400",children:"â†’"}),(0,a.jsx)("span",{children:new Date(e.endDate).toLocaleDateString("en-GB")})]})]})]})}}]);return(0,a.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,a.jsx)("div",{style:{minWidth:"1800px"},children:(0,a.jsx)(j.A,{title:"",columns:n,data:t,selectableRows:void 0,pagination:!0,highlightOnHover:void 0,striped:void 0,onRowClicked:r,progressPending:void 0,paginationPerPage:10})})})},N=r(2793),D=r(4810),S=r(885),P=function(e){var t=e.project,r=e.startPosition,n=e.width,s=e.top,i=e.height,o=e.onHover,l=e.onClick,c=e.isHovered,d=function(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return(0,a.jsxs)("div",{className:"absolute rounded-md cursor-pointer transition-all duration-200 ".concat(function(e){switch(e){case"PV90":return"bg-purple-500 hover:bg-purple-600";case"UB":return"bg-blue-500 hover:bg-blue-600";case"WB":return"bg-yellow-500 hover:bg-yellow-600";case"WIP":return"bg-green-500 hover:bg-green-600";case"QF":return"bg-orange-500 hover:bg-orange-600";case"Completed":return"bg-gray-500 hover:bg-gray-600";default:return"bg-gray-400 hover:bg-gray-500"}}(t.status)," ").concat(c?"ring-2 ring-blue-300 ring-opacity-50":""),style:{left:"".concat(r,"%"),width:"".concat(n,"%"),top:"".concat(s,"px"),height:"".concat(i,"px")},onMouseEnter:function(){return o(t)},onMouseLeave:function(){return o(null)},onClick:function(){return l(t)},children:[(0,a.jsx)("div",{className:"h-full flex items-center px-1 text-white text-xs font-medium",children:(0,a.jsx)("span",{className:"truncate",children:t.title.length>20?t.title.substring(0,20)+"...":t.title})}),c&&(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-md shadow-lg whitespace-nowrap z-10",children:[(0,a.jsx)("div",{className:"font-medium",children:t.title}),(0,a.jsxs)("div",{className:"text-gray-300",children:[d(t.startDate)," - ",d(t.endDate)]}),(0,a.jsxs)("div",{className:"text-gray-300",children:["Status: ",t.status," | Crew: ",t.crewCount]}),(0,a.jsxs)("div",{className:"text-gray-300",children:["Location: ",t.location]}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},C=function(e){var t=e.project,r=e.viewMode,s=e.currentDate,i=e.onProjectHover,o=e.onProjectClick,l=e.hoveredProject,c=(0,n.useMemo)(function(){var e,a;if("day"===r)(e=new Date(s)).setHours(0,0,0,0),(a=new Date(s)).setHours(23,59,59,999);else if("week"===r){var n=new Date(s),i=n.getDay(),o=n.getDate()-i+(0===i?-6:1);n.setDate(o),e=n,(a=new Date(n)).setDate(n.getDate()+6)}else if("month"===r){var l=s.getFullYear(),c=s.getMonth();e=new Date(l,c,1),a=new Date(l,c+1,0)}else{var d=s.getFullYear();e=new Date(d,0,1),a=new Date(d,11,31)}var u=new Date(t.startDate),m=new Date(t.endDate);if(m<e||u>a)return null;var f=a.getTime()-e.getTime(),h=m>a?a:m,x=(u<e?e:u).getTime()-e.getTime(),g=x/f*100,p=(h.getTime()-e.getTime()-x)/f*100;return{startPosition:Math.max(0,g),width:Math.max(2,p),top:2,height:24}},[t,r,s]);return(0,a.jsxs)("div",{className:"flex border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"w-72 p-3 flex-shrink-0 border-r border-gray-200",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate mb-1",children:t.title}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:t.vinCode})]})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("div",{className:"h-16 relative",children:c?(0,a.jsx)(P,{project:t,startPosition:c.startPosition,width:c.width,top:c.top,height:c.height,onHover:i,onClick:o,isHovered:(null==l?void 0:l.id)===t.id}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Outside timeline"})})})]})},T=function(e){var t=e.viewMode,r=e.currentDate,s=(e.onDateChange,(0,n.useMemo)(function(){var e=[],a=new Date;if("week"===t){var n=new Date(r),s=n.getDay(),i=n.getDate()-s+(0===s?-6:1);n.setDate(i);for(var o=0;o<7;o++){var l=new Date(n);l.setDate(n.getDate()+o),e.push({date:l,label:l.toLocaleDateString("en-US",{weekday:"short",day:"2-digit"}),isToday:l.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("month"===t){new Date(r.getFullYear(),r.getMonth(),1);for(var c=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),d=1;d<=c;d++){var u=new Date(r.getFullYear(),r.getMonth(),d);e.push({date:u,label:u.toLocaleDateString("en-US",{day:"2-digit"}),isToday:u.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("day"===t){var m=new Date(r);e.push({date:m,label:m.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}),isToday:m.toDateString()===a.toDateString(),isCurrentPeriod:!0})}else if("year"===t){new Date(r.getFullYear(),0,1);for(var f=0;f<12;f++){var h=new Date(r.getFullYear(),f,1);e.push({date:h,label:h.toLocaleDateString("en-US",{month:"short"}),isToday:h.getMonth()===a.getMonth()&&h.getFullYear()===a.getFullYear(),isCurrentPeriod:!0})}}return e},[t,r]));return(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200",children:[(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:function(){switch(t){case"day":return r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"week":var e=new Date(r),a=e.getDay(),n=e.getDate()-a+(0===a?-6:1);e.setDate(n);var s=new Date(e);return s.setDate(e.getDate()+6),"".concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}));case"month":return r.toLocaleDateString("en-US",{year:"numeric",month:"long"});case"year":return r.getFullYear().toString();default:return""}}()})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-72 flex-shrink-0 border-r border-gray-200"}),(0,a.jsx)("div",{className:"flex-1 flex",children:s.map(function(e,r){return(0,a.jsxs)("div",{className:"flex-1 border-r border-gray-200 py-1 px-2 text-center ".concat(e.isToday?"bg-blue-50":""),children:[(0,a.jsx)("div",{className:"text-sm font-medium ".concat(e.isToday?"text-blue-600":"text-gray-900"),children:e.label}),"day"===t&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]},r)})})]})]})};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=A(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var M=function(e){var t=e.projects,r=e.onProjectClick,s=e.filters,i=void 0===s?{status:[],assignedUsers:[]}:s,o=e.onFiltersChange,l=B((0,n.useState)(new Date),2),c=l[0],m=l[1],f=B((0,n.useState)("month"),2),h=f[0],x=f[1],g=B((0,n.useState)(null),2),p=g[0],y=g[1],v=B((0,n.useState)(!1),2),b=v[0],j=v[1],w=(0,n.useMemo)(function(){var e=new Set;return t.forEach(function(t){t.crew.forEach(function(t){e.add(t.id)})}),Array.from(e).map(function(e){var r=t.find(function(t){return t.crew.some(function(t){return t.id===e})}),a=null==r?void 0:r.crew.find(function(t){return t.id===e});return{id:e,name:(null==a?void 0:a.name)||"Unknown User"}})},[t]),P=(0,n.useMemo)(function(){return t.filter(function(e){var t,r,a=new Date(e.startDate),n=new Date(e.endDate);if("day"===h)(t=new Date(c)).setHours(0,0,0,0),(r=new Date(c)).setHours(23,59,59,999);else if("week"===h){var s=new Date(c),o=s.getDay(),l=s.getDate()-o+(0===o?-6:1);s.setDate(l),t=s,(r=new Date(s)).setDate(s.getDate()+6)}else if("month"===h){var d=c.getFullYear(),u=c.getMonth();t=new Date(d,u,1),r=new Date(d,u+1,0)}else{var m=c.getFullYear();t=new Date(m,0,1),r=new Date(m,11,31)}var f=n>=t&&a<=r,x=0===i.status.length||i.status.includes(e.status),g=0===i.assignedUsers.length||i.assignedUsers.some(function(t){return e.crew.some(function(e){return e.id===t})});return f&&x&&g})},[t,c,h,i]),A=function(e){m(e)};return(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-2 py-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Project Gantt Chart"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[P.length," project",1!==P.length?"s":""," scheduled"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:function(){return j(!b)},className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(i.status.length>0||i.assignedUsers.length>0?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Filters"}),(i.status.length>0||i.assignedUsers.length>0)&&(0,a.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:i.status.length+i.assignedUsers.length})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[{mode:"day",label:"Day"},{mode:"week",label:"Week"},{mode:"month",label:"Month"},{mode:"year",label:"Year"}].map(function(e){var t=e.mode,r=e.label;return(0,a.jsx)("button",{onClick:function(){return function(e){x(e)}(t)},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors ".concat(h===t?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:r},t)})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:function(){var e=new Date(c);"day"===h?e.setDate(e.getDate()-1):"week"===h?e.setDate(e.getDate()-7):"month"===h?e.setMonth(e.getMonth()-1):e.setFullYear(e.getFullYear()-1),A(e)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:(0,a.jsx)(D.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:function(){return A(new Date)},className:"px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"Today"}),(0,a.jsx)("button",{onClick:function(){var e=new Date(c);"day"===h?e.setDate(e.getDate()+1):"week"===h?e.setDate(e.getDate()+7):"month"===h?e.setMonth(e.getMonth()+1):e.setFullYear(e.getFullYear()+1),A(e)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:(0,a.jsx)(S.A,{className:"w-4 h-4"})})]})]})]})}),b&&(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filter Projects"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(i.status.length>0||i.assignedUsers.length>0)&&(0,a.jsx)("button",{onClick:function(){o&&o({status:[],assignedUsers:[]})},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"}),(0,a.jsx)("button",{onClick:function(){return j(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(u.A,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Status"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["D75","PV90","UB","WB","WIP","QF","Completed"].map(function(e){return(0,a.jsx)("button",{onClick:function(){return function(e){if(o){var t=i.status.includes(e)?i.status.filter(function(t){return t!==e}):[].concat(U(i.status),[e]);o(k(k({},i),{},{status:t}))}}(e)},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors ".concat(i.status.includes(e)?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:e},e)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Assigned User"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto",children:0===w.length?(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No users assigned to projects"}):(0,a.jsx)("div",{className:"space-y-1",children:w.map(function(e){return(0,a.jsx)("button",{onClick:function(){return function(e){if(o){var t=i.assignedUsers.includes(e)?i.assignedUsers.filter(function(t){return t!==e}):[].concat(U(i.assignedUsers),[e]);o(k(k({},i),{},{assignedUsers:t}))}}(e.id)},className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors ".concat(i.assignedUsers.includes(e.id)?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:e.name},e.id)})})})]})]})]}),(0,a.jsx)(T,{viewMode:h,currentDate:c,onDateChange:A}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full overflow-y-auto",children:0===P.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(d.A,{className:"mx-auto h-12 w-12"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No projects are scheduled for the selected time period."})]})}):(0,a.jsx)("div",{className:"bg-white",children:P.map(function(e){return(0,a.jsx)(C,{project:e,viewMode:h,currentDate:c,onProjectHover:y,onProjectClick:r,hoveredProject:p},e.id)})})})}),(0,a.jsx)("div",{className:"fixed bottom-0 left-64 right-0 bg-white border-t border-gray-200 p-3 shadow-lg z-50",children:(0,a.jsxs)("div",{className:"max-w-full mx-auto px-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Project Status Legend"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-purple-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"PV90"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"UB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WIP"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-orange-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"QF"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Completed"})]})]})]})})]})},R=r(372),W=r(3729),L=r(4574),V=r(74),Z=r(6368);function H(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function s(r,a,n,s){var l=a&&a.prototype instanceof o?a:o,c=Object.create(l.prototype);return z(c,"_invoke",function(r,a,n){var s,o,l,c=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return s=t,o=0,l=e,m.n=r,i}};function f(r,a){for(o=r,l=a,t=0;!u&&c&&!n&&t<d.length;t++){var n,s=d[t],f=m.p,h=s[2];r>3?(n=h===a)&&(l=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=e):s[0]<=f&&((n=r<2&&f<s[1])?(o=0,m.v=a,m.n=s[1]):f<h&&(n=r<3||s[0]>a||a>h)&&(s[4]=r,s[5]=a,m.n=h,o=0))}if(n||r>1)return i;throw u=!0,a}return function(n,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,h),o=d,l=h;(t=o<2?e:l)||!u;){s||(o?o<3?(o>1&&(m.n=-1),f(o,l)):m.n=l:m.v=l);try{if(c=2,s){if(o||(n="next"),t=s[n]){if(!(t=t.call(s,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=s.return)&&t.call(s),o<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),o=1);s=e}else if((t=(u=m.n<0)?l:r.call(a,m))!==i)break}catch(t){s=e,o=1,l=t}finally{c=1}}return{value:t,done:u}}}(r,n,s),!0),c}var i={};function o(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(z(t={},a,function(){return this}),t),u=c.prototype=o.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,z(e,n,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,z(u,"constructor",c),z(c,"constructor",l),l.displayName="GeneratorFunction",z(c,n,"GeneratorFunction"),z(u),z(u,n,"Generator"),z(u,a,function(){return this}),z(u,"toString",function(){return"[object Generator]"}),(H=function(){return{w:s,m}})()}function z(e,t,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}z=function(e,t,r,a){function s(t,r){z(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(s("next",0),s("throw",1),s("return",2))},z(e,t,r,a)}function G(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(a,n)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var Y=[{id:"coord-1",name:"Jennifer White",email:"jennifer@company.com",phone:"+1-555-0130",site:"Boston, MA",specializations:["Project Coordination","Client Communication"],avatar:"JW"},{id:"coord-2",name:"Maria Garcia",email:"maria@company.com",phone:"+1-555-0134",site:"Austin, TX",specializations:["Client Relations","Scheduling"],avatar:"MG"},{id:"coord-3",name:"Jessica Miller",email:"jessica@company.com",phone:"+1-555-0140",site:"Tampa, FL",specializations:["Documentation","Client Communication"],avatar:"JM"},{id:"coord-4",name:"David Brown",email:"david@company.com",phone:"+1-555-0127",site:"Miami, FL",specializations:["Large Scale Projects","Equipment Management"],avatar:"DB"}],_=function(e){var t=e.isOpen,r=e.onClose,i=e.project,o=e.onAssignCoordinator,l=e.userRole,c=void 0===l?"executive":l,m=(0,s.Zp)(),f=J((0,n.useState)(null),2),h=f[0],x=f[1],g=J((0,n.useState)(!1),2),p=g[0],y=g[1],v=J((0,n.useState)(""),2),b=v[0],j=v[1],w=J((0,n.useState)(""),2),N=w[0],D=w[1];if(!t||!i)return null;var S=function(){var e,t=(e=H().m(function e(){var t,a;return H().w(function(e){for(;;)switch(e.p=e.n){case 0:if("project-coordinator"!==c||b&&N){e.n=1;break}return e.a(2);case 1:if("executive"!==c||h){e.n=2;break}return e.a(2);case 2:return y(!0),e.p=3,e.n=4,new Promise(function(e){return setTimeout(e,1e3)});case 4:t="project-coordinator"===c?"":h,o(i.id,t,b||void 0,N||void 0),m("/projects/".concat(i.id,"?status=").concat(i.status,"&title=").concat(encodeURIComponent(i.title))),r(),x(null),j(""),D(""),e.n=6;break;case 5:e.p=5,a=e.v,console.error("Error assigning coordinator:",a);case 6:return e.p=6,y(!1),e.f(6);case 7:return e.a(2)}},e,null,[[3,5,6,7]])}),function(){var t=this,r=arguments;return new Promise(function(a,n){var s=e.apply(t,r);function i(e){G(s,a,n,i,o,"next",e)}function o(e){G(s,a,n,i,o,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsx)(Z.Z,{className:"w-full bg-white max-w-4xl max-h-[90vh] overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"project-coordinator"===c?"Schedule Project":"Assign Project Coordinator"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"project-coordinator"===c?"Set project schedule for ".concat(i.title):"Select a coordinator for ".concat(i.title)})]}),(0,a.jsx)(V.$,{variant:"ghost",size:"sm",onClick:r,icon:u.A,children:"Close"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Project VIN"}),(0,a.jsx)("p",{className:"font-medium",children:i.vinCode})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Status"}),(0,a.jsx)("p",{className:"font-medium",children:i.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Site"}),(0,a.jsx)("p",{className:"font-medium",children:i.site})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Project Dates ","project-coordinator"===c?"(Required)":"(Optional)"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"startDate",className:"block text-sm text-gray-500 mb-1",children:["Start Date ","project-coordinator"===c&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"startDate",type:"date",value:b,onChange:function(e){return j(e.target.value)},required:"project-coordinator"===c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"endDate",className:"block text-sm text-gray-500 mb-1",children:["End Date ","project-coordinator"===c&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"endDate",type:"date",value:N,onChange:function(e){return D(e.target.value)},required:"project-coordinator"===c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),"executive"===c&&(0,a.jsxs)("div",{className:"space-y-4 max-h-[16rem] overflow-y-auto",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Available Coordinators"}),Y.map(function(e){return(0,a.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(h===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:function(){return x(e.id)},children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-semibold",children:e.avatar}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.site})]}),(0,a.jsx)("div",{className:"flex items-center",children:h===e.id?(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(W.A,{className:"w-4 h-4 text-white"})}):(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"})})]})})},e.id)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-6 border-t",children:[(0,a.jsx)(V.$,{variant:"secondary",onClick:r,disabled:p,children:"Cancel"}),(0,a.jsx)(V.$,{variant:"primary",onClick:S,disabled:p||"executive"===c&&!h||"project-coordinator"===c&&(!b||!N),icon:p?void 0:L.A,children:p?"project-coordinator"===c?"Scheduling...":"Assigning...":"project-coordinator"===c?"Schedule Project":"Assign Coordinator"})]})]})})})};function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function $(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function te(e,t,r){return(t=function(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=function(e){new Date(e.startDate);var t,r=new Date(e.endDate),a=new Date,n=Math.ceil((r.getTime()-a.getTime())/864e5);return ee(ee({},e),{},{crewCount:(null===(t=e.crew)||void 0===t?void 0:t.length)||0,daysRemaining:Math.max(0,n)})},ae=r(4131),ne=r(4186),se=["D75","PV90","UB","WB"],ie=["D75","PV90","UB","WB"];function oe(e,t){switch(t){case"executive":case"project-coordinator":default:return!0;case"lead-supervisor":return!ie.includes(e);case"execution-team":return!se.includes(e)}}function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach(function(t){ue(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ue(e,t,r){return(t=function(e){var t=function(e){if("object"!=le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=s.call(r)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return o}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return he(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var xe=[{id:"1",title:"Downtown Office Complex Security",description:"Complete security film installation for 15-story office complex downtown",status:"D75",stage:"D75",startDate:"2025-09-15",endDate:"2025-09-30",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-15T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:5,vinCode:"TXDA-SJ1BR1-EETUSC01-P20001",crew:[],assignedTrailer:null,site:"Seattle Financial Center",industry:"Commercial Real Estate"},{id:"2",title:"Residential Community Protection",description:"Security film installation for luxury residential community",status:"WB",stage:"WB",startDate:"2025-09-20",endDate:"2025-09-25",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["4","5"],assignedTrailers:["2"],progress:40,vinCode:"TXDA-SJ1BR1-EETUSC01-P20002",crew:[{id:"4",name:"Lisa Wilson",role:"Project Manager",designation:"Project Manager",site:"Bellevue, WA",phone:"+1-555-0104",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},{id:"5",name:"Tom Brown",role:"Installer",designation:"Installer",site:"Bellevue, WA",phone:"+1-555-0105",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Trailer Beta",site:"Bellevue Heights",industry:"Residential"},{id:"3",title:"Government Building Security",description:"High-security film installation for government facility",status:"UB",stage:"UB",startDate:"2025-09-10",endDate:"2025-09-18",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:25,vinCode:"TXDA-SJ1BR1-EETUSC01-P20003",crew:[],assignedTrailer:null,site:"State Capitol Building",industry:"Government"},{id:"4",title:"Retail Store Protection",description:"Security film installation for retail chain stores",status:"Completed",stage:"Completed",startDate:"2025-09-05",endDate:"2025-09-12",createdAt:"2024-10-15T00:00:00Z",updatedAt:"2024-11-15T00:00:00Z",assignedTeam:["6","7","8"],assignedTrailers:["3"],progress:100,vinCode:"TXDA-SJ1BR1-EETUSC01-P20004",crew:[{id:"6",name:"Alex Rodriguez",role:"Lead Installer",designation:"Lead Installer",site:"Tacoma, WA",phone:"+1-555-0106",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"},{id:"7",name:"Emma Thompson",role:"Technician",designation:"Technician",site:"Tacoma, WA",phone:"+1-555-0107",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"},{id:"8",name:"David Lee",role:"Assistant",designation:"Assistant",site:"Tacoma, WA",phone:"+1-555-0108",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Trailer Gamma",site:"Tacoma Mall",industry:"Retail"},{id:"5",title:"School District Safety",description:"Security film installation for school district buildings",status:"PV90",stage:"PV90",startDate:"2025-09-25",endDate:"2025-10-05",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:15,vinCode:"TXDA-SJ1BR1-EETUSC01-P20005",crew:[],assignedTrailer:null,site:"Spokane School District",industry:"Education"},{id:"6",title:"Hospital Security Upgrade",description:"Security film installation for medical facility",status:"WIP",stage:"WIP",startDate:"2025-09-08",endDate:"2025-09-15",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["9","10"],assignedTrailers:["4"],progress:75,vinCode:"TXDA-SJ1BR1-EETUSC01-P20006",crew:[{id:"9",name:"Jennifer Taylor",role:"Installer",designation:"Installer",site:"Portland, OR",phone:"+1-555-0109",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face"},{id:"10",name:"Robert Garcia",role:"Coordinator",designation:"Coordinator",site:"Portland, OR",phone:"+1-555-0110",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Trailer Delta",site:"Portland General Hospital",industry:"Healthcare"},{id:"7",title:"Shopping Mall Protection",description:"Security film installation for retail complex",status:"UB",stage:"UB",startDate:"2025-09-22",endDate:"2025-09-28",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["11","12"],assignedTrailers:["5"],progress:25,vinCode:"TXDA-SJ1BR1-EETUSC01-P20007",crew:[{id:"11",name:"Amanda Lee",role:"Lead",designation:"Lead",site:"San Francisco, CA",phone:"+1-555-0111",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb?w=150&h=150&fit=crop&crop=face"},{id:"12",name:"Christopher Davis",role:"Installer",designation:"Installer",site:"San Francisco, CA",phone:"+1-555-0112",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Trailer Echo",site:"Union Square Mall",industry:"Retail"},{id:"8",title:"Quality Assurance Project",description:"Security film installation ready for quality check",status:"QF",stage:"QF",startDate:"2025-09-12",endDate:"2025-09-18",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-15T00:00:00Z",assignedTeam:["1","2"],assignedTrailers:["1"],progress:90,vinCode:"TXDA-SJ1BR1-EETUSC01-P20008",crew:[{id:"1",name:"John Smith",role:"Lead Installer",designation:"Lead Installer",site:"Portland, OR",phone:"+1-555-0101",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face"},{id:"2",name:"Sarah Johnson",role:"Technician",designation:"Technician",site:"Portland, OR",phone:"+1-555-0102",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Trailer Alpha",site:"Portland Business Center",industry:"Commercial Real Estate"},{id:"9",title:"New Office Building Security",description:"Security film installation for newly constructed office building",status:"WIP",stage:"WIP",startDate:"2025-09-30",endDate:"2025-10-10",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["2","3"],assignedTrailers:["1"],progress:0,vinCode:"TXDA-SJ1BR1-EETUSC01-P20009",crew:[{id:"2",name:"Alex Martin",role:"Installer",designation:"Installer",site:"Vancouver, WA",phone:"+1-555-0102",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"},{id:"3",name:"Maria Rodriguez",role:"Crew Leader",designation:"Crew Leader",site:"Vancouver, WA",phone:"+1-555-0103",productivity:"Efficient in Installation",status:"available",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"}],assignedTrailer:"Alpha Trailer",site:"Vancouver Corporate Plaza",industry:"Commercial Real Estate"},{id:"10",title:"Old Office Building Security",description:"Security film installation for old office building (archived)",status:"Archived",stage:"Archived",startDate:"2024-08-01",endDate:"2024-08-15",createdAt:"2024-07-01T00:00:00Z",updatedAt:"2024-08-20T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:100,vinCode:"TXDA-SJ1BR1-EETUSC01-P20010",crew:[],assignedTrailer:null,site:"Old Seattle Office",industry:"Commercial Real Estate"},{id:"11",title:"Legacy Hospital Security",description:"Security film installation for legacy hospital (archived)",status:"Archived",stage:"Archived",startDate:"2024-07-15",endDate:"2024-07-30",createdAt:"2024-06-01T00:00:00Z",updatedAt:"2024-08-01T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:100,vinCode:"TXDA-SJ1BR1-EETUSC01-P20011",crew:[],assignedTrailer:null,site:"Legacy Medical Center",industry:"Healthcare"}],ge=function(){var e=(0,s.Zp)(),t=(0,ae.A)(),r=t.user,m=(t.hasPermission,(0,ne.c)().isMobile),f="executive"===(null==r?void 0:r.userType),h="project-coordinator"===(null==r?void 0:r.userType),x="lead-supervisor"===(null==r?void 0:r.userType),g=me((0,n.useState)({type:"list"}),2),p=g[0],y=g[1],v=me((0,n.useState)(""),2),j=v[0],N=v[1];(0,n.useEffect)(function(){m&&"table"===p.type&&y({type:"list"})},[m,p.type]);var D,S,P=me((0,n.useState)({status:[],assignedUsers:[]}),2),C=P[0],T=P[1],A=me((0,n.useState)({field:"title",direction:"asc"}),2),O=A[0],k=A[1],E=me((0,n.useState)(!1),2),U=E[0],B=E[1],I=me((0,n.useState)(null),2),F=I[0],W=I[1],L=me((0,n.useState)(!0),2),H=L[0],z=L[1],G=me((0,n.useState)(!1),2),J=G[0],Q=G[1],Y=me((0,n.useState)(null),2),X=Y[0],q=Y[1],K=(0,n.useMemo)(function(){return xe.map(re)},[]),ee=(0,n.useMemo)(function(){if(!x)return null;var e=K.length,t=K.filter(function(e){return["D75","PV90","UB","WB","WIP","QF"].includes(e.status)}).length,r=K.filter(function(e){return"Completed"===e.status}).length;return{totalProjects:e,activeProjects:t,completedProjects:r,completionRate:e>0?r/e*100:0,projectsByStatus:K.reduce(function(e,t){return e[t.status]=(e[t.status]||0)+1,e},{}),averageProgress:K.reduce(function(e,t){return e+(t.progress||0)},0)/e}},[K,x]),te=(0,n.useMemo)(function(){var e,t,a=null!=r&&r.userType?(e=K,t=r.userType,e.filter(function(e){return oe(e.status,t)})):K,n=function(e,t){return e.filter(function(e){if(t.status&&t.status.length>0&&!t.status.includes(e.status))return!1;if(t.searchQuery){var r=t.searchQuery.toLowerCase();if(![e.title,e.description,e.site,e.status,e.vinCode,e.assignedTrailer||""].concat($(e.crew.map(function(e){return e.name}))).join(" ").toLowerCase().includes(r))return!1}return!0})}(0!==C.status.length&&C.status.includes("Archived")?a:a.filter(function(e){return"Archived"!==e.status}),de(de({},C),{},{searchQuery:j}));return function(e,t,r){return $(e).sort(function(e,a){var n=e[t],s=a[t];return"startDate"===t||"endDate"===t?(n=new Date(n).getTime(),s=new Date(s).getTime()):"string"==typeof n&&(n=n.toLowerCase(),s=s.toLowerCase()),"asc"===r?(n||"")<(s||"")?-1:(n||"")>(s||"")?1:0:(n||"")>(s||"")?-1:(n||"")<(s||"")?1:0})}(n,O.field,O.direction)},[K,C,j,O,null==r?void 0:r.userType]),se=function(t){(f||h)&&["D75","PV90","UB","WB"].includes(t.status)?(q(t),Q(!0)):e("/projects/".concat(t.id,"?status=").concat(t.status,"&title=").concat(encodeURIComponent(t.title)))};return(0,a.jsx)("div",{className:"min-h-screen",children:(0,a.jsxs)("div",{className:"w-full py-0",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4 px-2",children:[(0,a.jsxs)("div",{className:"mb-4 lg:mb-0",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:f?"Project Management":"Project Portfolio"}),(0,a.jsxs)("p",{className:"text-base text-gray-500",children:[K.length," Projects",x&&ee&&(0,a.jsxs)("span",{className:"ml-2 text-sm text-green-600",children:["â€¢ ",ee.completionRate.toFixed(1),"% Completion Rate"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[x&&(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2 sm:mb-0",children:(0,a.jsx)(V.$,{variant:"secondary",size:"sm",icon:i.A,onClick:function(){return z(!H)},children:"Analytics"})}),(0,a.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by project name, site, or ID...",value:j,onChange:function(e){return N(e.target.value)},className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:function(){return y({type:"list"})},className:"p-2 rounded-md transition-colors ".concat("list"===p.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Card-based project view",children:(0,a.jsx)(l.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:function(){return y({type:"table"})},className:"p-2 rounded-md transition-colors ".concat("table"===p.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Detailed project table",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:function(){return y({type:"gantt"})},className:"p-2 rounded-md transition-colors ".concat("gantt"===p.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Timeline and resource view",children:(0,a.jsx)(d.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsx)("div",{className:"mb-4 px-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:["All"].concat((S=null!=r&&r.userType?(D=r.userType,["D75","PV90","UB","WB","WIP","QF","Completed","Archived"].filter(function(e){return oe(e,D)})):["D75","PV90","UB","WB","WIP","QF","Completed"],function(e){if(Array.isArray(e))return he(e)}(S)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(S)||fe(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map(function(e){return(0,a.jsx)("button",{onClick:function(){var t="All"===e?"":e;T({status:t?[t]:[],assignedUsers:C.assignedUsers})},className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ".concat("All"===e&&0===C.status.length||"All"!==e&&C.status.includes(e)?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:e},e)})}),(0,a.jsx)("button",{onClick:function(){T({status:["Archived"],assignedUsers:C.assignedUsers})},className:"px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ".concat(C.status.includes("Archived")?"bg-gray-600 text-white shadow-sm":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Archived"})]})}),x&&H&&ee&&(0,a.jsx)("div",{className:"mb-6 px-2",children:(0,a.jsxs)(Z.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Analytics"}),(0,a.jsx)("button",{onClick:function(){return z(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(u.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:ee.totalProjects}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Projects"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:ee.activeProjects}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Active Projects"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[ee.completionRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Completion Rate"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[ee.averageProgress.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Progress"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Projects by Status"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(ee.projectsByStatus).map(function(e){var t=me(e,2),r=t[0],n=t[1];return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:n})]},r)})})]})]})}),"list"===p.type?(0,a.jsx)(b,{projects:te,onProjectClick:se}):"table"!==p.type||m?(0,a.jsx)(M,{projects:te,onProjectClick:se,filters:C,onFiltersChange:T}):(0,a.jsx)(w,{projects:te,onProjectClick:se,sortOptions:O,onSort:function(e){k(function(t){return{field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"}})}}),F&&(0,a.jsx)(R.r,{isOpen:U,onClose:function(){B(!1),W(null)},onConfirm:function(t,r){F&&(console.log("Setting dates for project ".concat(F.title,":"),{startDate:t,endDate:r}),e("/projects/".concat(F.id)))},projectTitle:F.title,projectStatus:F.status,initialStartDate:F.startDate,initialEndDate:F.endDate}),(0,a.jsx)(_,{isOpen:J,onClose:function(){Q(!1),q(null)},project:X,onAssignCoordinator:function(e,t,r,a){console.log("Assigning coordinator ".concat(t," to project ").concat(e)),r&&console.log("Project start date: ".concat(r)),a&&console.log("Project end date: ".concat(a))},userRole:null==r?void 0:r.userType})]})})};r(5954),r(6813),r(7821),r(5331),r(4099),r(5320),r(4372),r(445),r(8503),r(5822),r(3166),r(2080);var pe=r(1819),ye=function(){return(0,pe.KF)([{label:"Project Portfolio",href:"/projects"}]),(0,a.jsx)(ge,{})}}}]);