"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[436],{217:(e,t,s)=>{s.d(t,{n:()=>x});var a=s(4848),r=s(6540),i=s(2460),l=s(3492),n=s(339),c=s(82),o=s(4574),d=s(5919),m=s(2341);const x=({notes:e,onAddNote:t,onEditNote:s,onDeleteNote:x})=>{const[u,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(!0),[b,j]=(0,r.useState)(null),[y,v]=(0,r.useState)(""),f=()=>{b&&y.trim()&&(s(b,y.trim()),j(null),v(""))},N=()=>{j(null),v("")},w=[...e].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," notes"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"is-internal",checked:g,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"is-internal",className:"text-sm text-gray-700",children:"Internal note (only visible to team)"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("textarea",{value:u,onChange:e=>p(e.target.value),placeholder:"Add a note about this project...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>{u.trim()&&(t(u.trim(),g),p(""))},disabled:!u.trim(),className:"self-start",children:"Add"})]})]}),w.length>0?(0,a.jsx)("div",{className:"space-y-4",children:w.map(e=>{return(0,a.jsx)("div",{className:"p-4 rounded-lg border-l-4 "+(e.isInternal?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300"),children:b===e.id?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("textarea",{value:y,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:f,disabled:!y.trim(),children:"Save"}),(0,a.jsx)(d.$,{variant:"secondary",size:"sm",onClick:N,children:"Cancel"})]})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 mb-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(o.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.author})]}),(0,a.jsx)("span",{children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.isInternal&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Internal"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:l.A,onClick:()=>(e=>{j(e.id),v(e.content)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>x(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]})})},e.id);var t})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No notes added yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add notes to track project updates and communication"})]})]})}},894:(e,t,s)=>{s.d(t,{a:()=>l});var a=s(4848),r=s(6540),i=s(9237);const l=({isOpen:e,onClose:t,title:s,children:l,size:n="md"})=>((0,r.useEffect)(()=>{const s=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} p-6`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-h2 font-semibold text-text-primary",children:s}),(0,a.jsx)("button",{onClick:t,className:"btn-icon","aria-label":"Close modal",children:(0,a.jsx)(i.A,{size:20})})]}),(0,a.jsx)("div",{children:l})]})]})}):null)},1747:(e,t,s)=>{s.d(t,{b:()=>o});var a=s(4848),r=s(6540),i=s(9775),l=s(1085),n=s(894),c=s(5919);const o=({isOpen:e,onClose:t,onSave:s,onEdit:o,editingTravel:d,availableTeamMembers:m})=>{const[x,u]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,g]=(0,r.useState)({}),h=!!d;(0,r.useEffect)(()=>{e&&(u(d?{travelType:d.travelType,departureLocation:d.departureLocation,destination:d.destination,departureDate:d.departureDate,returnDate:d.returnDate||"",assignedTeamMembers:d.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),g({}))},[e,d]);const b=(e,t)=>{u(s=>({...s,[e]:t})),p[e]&&g(t=>({...t,[e]:""}))},j=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:h?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),g(e),0===Object.keys(e).length})())return;const a={...x,returnDate:x.returnDate||void 0};h&&o?o(d.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:x.travelType,onChange:e=>b("travelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>b("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:x.destination,onChange:e=>b("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>b("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>b("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),j().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",j().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:j().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void u(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(c.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(c.$,{type:"submit",variant:"primary",icon:i.A,children:h?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,s)=>{s.d(t,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]}]},2341:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(4848);s(6540);const r=({children:e,className:t="",padding:s="md",hover:r=!1,onClick:i})=>{const l=r?"hover:shadow-lg transition-shadow cursor-pointer":"";return(0,a.jsx)("div",{className:`bg-white rounded-lg shadow-card ${{sm:"p-3",md:"p-4",lg:"p-6"}[s]} ${l} ${t}`,onClick:i,children:e})}},2528:(e,t,s)=>{s.d(t,{y:()=>x});var a=s(4848),r=s(6540),i=s(7379),l=s(2761),n=s(339),c=s(82),o=s(1676),d=s(5919),m=s(2341);const x=({documents:e,onUploadDocument:t,onDeleteDocument:s,onDownloadDocument:x})=>{const[u,p]=(0,r.useState)(!1),g=(0,r.useRef)(null),h=[{value:"contract",label:"Contract"},{value:"site-map",label:"Site Map"},{value:"permit",label:"Permit"},{value:"technical",label:"Technical"},{value:"other",label:"Other"}],b=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},j=e=>{t(e,"other")};return(0,a.jsxs)(m.Z,{className:"p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>g.current?.click(),children:"Upload Document"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors mb-6 "+(u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),p(!0)},onDragLeave:e=>{e.preventDefault(),p(!1)},onDrop:e=>{e.preventDefault(),p(!1);const t=Array.from(e.dataTransfer.files);t.length>0&&j(t[0])},children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Drag and drop files here, or"," ",(0,a.jsx)("button",{onClick:()=>g.current?.click(),className:"text-blue-600 hover:text-blue-700 font-medium",children:"browse"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG"}),(0,a.jsx)("input",{ref:g,type:"file",onChange:e=>{const t=e.target.files;t&&t.length>0&&j(t[0])},className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"})]}),e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(r=e.type,r.includes("pdf")?"📄":r.includes("image")?"🖼️":r.includes("word")||r.includes("document")?"📝":r.includes("excel")||r.includes("spreadsheet")?"📊":"📁")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:b(e.size)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(t=e.uploadedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full",children:h.find(t=>t.value===e.category)?.label})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:i.A,onClick:()=>x(e),className:"p-2",children:(0,a.jsx)("span",{className:"sr-only",children:"Download"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>s(e.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]},e.id);var t,r})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No documents uploaded yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload contracts, site maps, and other project files"})]})]})}},2703:(e,t,s)=>{s.d(t,{X:()=>o});var a=s(4848),r=(s(6540),s(3573)),i=s(1397),l=s(904),n=s(5919),c=s(4138);const o=({project:e,onEdit:t,onEditDates:s,isPreparationStage:o=!1})=>{const d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full",children:e.projectId}),(0,a.jsx)(c.W,{status:e.stage,className:`px-3 py-1 text-xs font-medium rounded-full border ${x=e.status,{active:"bg-green-100 text-green-800 border-green-200","on-hold":"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-gray-100 text-gray-800 border-gray-200"}[x]||"bg-gray-100 text-gray-800 border-gray-200"}`})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[d(e.startDate)," - ",d(e.endDate)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Stage:"}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:(m=e.stage,{preparation:"Preparation",wip:"Work in Progress",fer:"Finishing & Execution",completed:"Completed"}[m]||m)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.status.replace("-"," ")})]})]}),e.description&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[o&&s&&(0,a.jsx)(n.$,{variant:"secondary",size:"sm",icon:r.A,onClick:s,children:"Edit Dates"}),(0,a.jsx)(n.$,{variant:"secondary",size:"sm",icon:l.A,onClick:t,children:"Edit Project"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Stage switcher (coming soon)"})]})]})});var m,x}},3436:(e,t,s)=>{s.d(t,{ProjectDetailsPage:()=>f});var a=s(4848),r=s(6540),i=s(7767),l=s(7894);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"VIN-2024-001",stage:"preparation",status:"active",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},c={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var o=s(4722),d=s(5212),m=s(1747),x=s(2321),u=s(2703),p=s(8473),g=s(9726),h=s(2528),b=s(217),j=s(9809),y=s(4266),v=s(894);const f=()=>{const{projectId:e}=(0,i.g)(),{setBreadcrumbs:t}=(0,l.iQ)(),[s]=(0,r.useState)(n),[f,N]=(0,r.useState)(c),[w,S]=(0,r.useState)(!1),[T,D]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1),[k,L]=(0,r.useState)(!1),[E,I]=(0,r.useState)(!1),[P,M]=(0,r.useState)(null),[O,$]=(0,r.useState)(!1),[R,z]=(0,r.useState)(!1),[q,B]=(0,r.useState)(null),[U,W]=(0,r.useState)(!1),[F,V]=(0,r.useState)(null);(0,r.useEffect)(()=>{t([{label:"Dashboard",href:"/dashboard"},{label:"Projects",href:"/projects"},{label:"Project Details",href:`/projects/${e}`}])},[s.name,e]);const Z=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};N(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},H=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};N(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},_=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};N(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},G="preparation"===s.stage||"PV90"===s.status||"UB"===s.status||"WB"===s.status;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(u.X,{project:s,onEdit:()=>{S(!0)},onEditDates:()=>{W(!0)},isPreparationStage:G}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[(0,a.jsx)(p.X,{assignedTeam:f.assignedTeam,logistics:f.logistics,logisticsItems:f.logisticsTravel.logistics,travelPlans:f.logisticsTravel.travelPlans,onViewTeam:()=>{console.log("View team details"),alert("View Team Details - Coming Soon")},onViewLogistics:()=>{console.log("View logistics details"),alert("View Logistics Details - Coming Soon")},onAssignTeam:()=>{D(!0)},onEditTeam:()=>{C(!0)},onAssignLogistics:()=>{const e={partner:"LogiCorp Solutions",eta:new Date(Date.now()+2592e5).toISOString(),notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"};N(t=>({...t,logistics:e,checklist:t.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onSetupTravel:()=>{N(e=>({...e,checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onAddLogistics:()=>{M(null),L(!0)},onEditLogistics:e=>{M(e),I(!0)},onDeleteLogistics:e=>{N(t=>({...t,logisticsTravel:{...t.logisticsTravel,logistics:t.logisticsTravel.logistics.filter(t=>t.id!==e)}}))},onAddTravel:()=>{B(null),$(!0)},onEditTravel:e=>{B(e),z(!0)},onDeleteTravel:e=>{N(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.filter(t=>t.id!==e)}}))}}),G&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(y.s,{assignedTrailer:F,onAssignTrailer:e=>{V(e),N(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)}))},onNotifyHouseManager:e=>{console.log("Notifying house manager:",e)},projectFilmRequirements:[{sheetType:"BR",required:30,available:0,status:"missing"},{sheetType:"Riot+",required:25,available:0,status:"missing"},{sheetType:"Riot",required:20,available:0,status:"missing"},{sheetType:"Riot -",required:15,available:0,status:"missing"},{sheetType:"FER",required:12,available:0,status:"missing"},{sheetType:"Smash",required:10,available:0,status:"missing"},{sheetType:"Tint NI",required:8,available:0,status:"missing"},{sheetType:"Tint Incl",required:6,available:0,status:"missing"},{sheetType:"Anchoring",required:5,available:0,status:"missing"},{sheetType:"Kevlar",required:3,available:0,status:"missing"},{sheetType:"Stripping",required:2,available:0,status:"missing"}]})}),(0,a.jsx)(g.o,{checklist:f.checklist,onToggleItem:e=>{N(t=>({...t,checklist:t.checklist.map(t=>{if(t.id===e){const e={...t,completed:!t.completed};return e.completed?(e.completedAt=(new Date).toISOString(),e.completedBy="Current User"):(e.completedAt=void 0,e.completedBy=void 0),e}return t})}))}}),(0,a.jsx)(h.y,{documents:f.documents,onUploadDocument:(t,s)=>{const a={id:`doc-${Date.now()}`,name:t.name,type:t.type,label:s,size:t.size,url:URL.createObjectURL(t),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User",projectId:e||"",category:s};N(e=>({...e,documents:[...e.documents,a]}))},onDeleteDocument:e=>{N(t=>({...t,documents:t.documents.filter(t=>t.id!==e)}))},onDownloadDocument:e=>{console.log("Downloading document:",e.name),alert(`Downloading ${e.name}`)}}),(0,a.jsx)(b.n,{notes:f.notes,onAddNote:(t,s)=>{const a={id:`note-${Date.now()}`,content:t,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e||"",isInternal:s};N(e=>({...e,notes:[...e.notes,a]}))},onEditNote:(e,t)=>{N(s=>({...s,notes:s.notes.map(s=>s.id===e?{...s,content:t,updatedAt:(new Date).toISOString()}:s)}))},onDeleteNote:e=>{N(t=>({...t,notes:t.notes.filter(t=>t.id!==e)}))}})]}),(0,a.jsx)(v.a,{isOpen:w,onClose:()=>S(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(o.W,{isOpen:T,onClose:()=>D(!1),onAssignTeam:Z,availableMembers:x.N}),(0,a.jsx)(o.W,{isOpen:A,onClose:()=>C(!1),onAssignTeam:Z,availableMembers:x.N,assignedMemberIds:f.assignedTeam?.members.map(e=>e.id)||[]}),(0,a.jsx)(d.C,{isOpen:k,onClose:()=>L(!1),onSave:H}),(0,a.jsx)(d.C,{isOpen:E,onClose:()=>I(!1),onSave:H,onEdit:(e,t)=>{N(s=>({...s,logisticsTravel:{...s.logisticsTravel,logistics:s.logisticsTravel.logistics.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingLogistics:P}),(0,a.jsx)(m.b,{isOpen:O,onClose:()=>$(!1),onSave:_,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(m.b,{isOpen:R,onClose:()=>z(!1),onSave:_,onEdit:(e,t)=>{N(s=>({...s,logisticsTravel:{...s.logisticsTravel,travelPlans:s.logisticsTravel.travelPlans.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingTravel:q,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(j.r,{isOpen:U,onClose:()=>W(!1),onConfirm:(e,t)=>{console.log("Updating project dates:",{startDate:e,endDate:t}),W(!1)},projectTitle:s.name,projectStatus:s.status,initialStartDate:s.startDate,initialEndDate:s.endDate})]})}},4138:(e,t,s)=>{s.d(t,{W:()=>r});var a=s(4848);s(6540);const r=({status:e,size:t="sm",className:s=""})=>{const r=(e=>({UB:{bg:"bg-blue-100",text:"text-blue-800",label:"UB"},WB:{bg:"bg-teal-100",text:"text-teal-800",label:"WB"},WIP:{bg:"bg-amber-100",text:"text-amber-800",label:"WIP"},Completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},planning:{bg:"bg-amber-100",text:"text-amber-800",label:"Planning"},"in-progress":{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},"on-hold":{bg:"bg-gray-100",text:"text-gray-800",label:"On Hold"},available:{bg:"bg-green-100",text:"text-green-800",label:"Available"},busy:{bg:"bg-amber-100",text:"text-amber-800",label:"Busy"},unavailable:{bg:"bg-red-100",text:"text-red-800",label:"Unavailable"},low:{bg:"bg-amber-100",text:"text-amber-800",label:"Low Stock"},"in-use":{bg:"bg-blue-100",text:"text-blue-800",label:"In Use"},maintenance:{bg:"bg-orange-100",text:"text-orange-800",label:"Maintenance"},good:{bg:"bg-green-100",text:"text-green-800",label:"Good"},critical:{bg:"bg-red-100",text:"text-red-800",label:"Critical"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",label:e}))(e),i="sm"===t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return(0,a.jsx)("span",{className:`inline-flex items-center rounded-full font-medium ${r.bg} ${r.text} ${i} ${s}`,children:r.label})}},4266:(e,t,s)=>{s.d(t,{s:()=>h});var a=s(4848),r=s(6540),i=s(5732),l=s(608),n=s(1314),c=s(3175),o=s(7596),d=s(9237),m=s(5919),x=s(2341),u=s(894);const p=[{id:"1",name:"Trailer Alpha",registrationNumber:"REG-001-2024",currentLocation:"Warehouse A",status:"available",inventory:{tools:[{name:"CART",currentStock:6,threshold:6,status:"good"},{name:"BEER TANK W/ HOSE",currentStock:4,threshold:6,status:"low"},{name:"HARD PRESS",currentStock:0,threshold:6,status:"critical"}],filmSheets:[{sheetType:"BR",currentStock:50,threshold:30,status:"good"},{sheetType:"Riot+",currentStock:15,threshold:25,status:"low"},{sheetType:"Riot",currentStock:30,threshold:20,status:"good"}]}},{id:"2",name:"Trailer Beta",registrationNumber:"REG-002-2024",currentLocation:"Warehouse B",status:"unavailable",unavailableUntil:"2024-12-25",inventory:{tools:[{name:"CART",currentStock:6,threshold:6,status:"good"},{name:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{name:"HARD PRESS",currentStock:6,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:100,threshold:30,status:"good"},{sheetType:"Riot+",currentStock:50,threshold:25,status:"good"},{sheetType:"Riot",currentStock:40,threshold:20,status:"good"}]}},{id:"3",name:"Trailer Gamma",registrationNumber:"REG-003-2024",currentLocation:"Warehouse A",status:"low_stock",inventory:{tools:[{name:"CART",currentStock:3,threshold:6,status:"low"},{name:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{name:"HARD PRESS",currentStock:6,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:20,threshold:30,status:"low"},{sheetType:"Riot+",currentStock:10,threshold:25,status:"low"},{sheetType:"Riot",currentStock:15,threshold:20,status:"low"}]}},{id:"4",name:"Trailer Delta",registrationNumber:"REG-004-2024",currentLocation:"Warehouse C",status:"available",inventory:{tools:[{name:"CART",currentStock:6,threshold:6,status:"good"},{name:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{name:"HARD PRESS",currentStock:6,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:80,threshold:30,status:"good"},{sheetType:"Riot+",currentStock:40,threshold:25,status:"good"},{sheetType:"Riot",currentStock:35,threshold:20,status:"good"}]}},{id:"5",name:"Trailer Epsilon",registrationNumber:"REG-005-2024",currentLocation:"Warehouse A",status:"available",inventory:{tools:[{name:"CART",currentStock:6,threshold:6,status:"good"},{name:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{name:"HARD PRESS",currentStock:6,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:60,threshold:30,status:"good"},{sheetType:"Riot+",currentStock:30,threshold:25,status:"good"},{sheetType:"Riot",currentStock:25,threshold:20,status:"good"}]}}],g=({isOpen:e,onClose:t,onAssignTrailer:s})=>{const[l,c]=(0,r.useState)(null);return(0,a.jsx)(u.a,{isOpen:e,onClose:t,title:"Assign Trailer",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Select a trailer for this project. Unavailable trailers cannot be assigned."})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trailer Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>{const t=(e=>{switch(e.status){case"available":return{text:"Available",color:"text-green-600",icon:n.A};case"low_stock":return{text:"Low on Inventory",color:"text-yellow-600",icon:i.A};case"unavailable":return{text:`Unavailable till ${e.unavailableUntil}`,color:"text-red-600",icon:d.A};default:return{text:e.status,color:"text-gray-600",icon:d.A}}})(e),s=(e=>"available"===e.status||"low_stock"===e.status)(e),r=l?.id===e.id,o=t.icon;return(0,a.jsxs)("tr",{className:"cursor-pointer transition-colors "+(s?r?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"),onClick:()=>s&&c(e),children:[(0,a.jsx)("td",{className:"px-4 py-3",children:s?(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"radio",checked:r,onChange:()=>c(e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})}):(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-300"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.registrationNumber}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:`flex items-center space-x-1 ${t.color}`,children:[(0,a.jsx)(o,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:t.text})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.currentLocation})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(m.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(m.$,{variant:"primary",onClick:()=>{l&&(s(l),t())},disabled:!l,children:"Assign Trailer"})]})]})})},h=({assignedTrailer:e,onAssignTrailer:t,onNotifyHouseManager:s,projectFilmRequirements:d})=>{const[u,p]=(0,r.useState)(!1),[h,b]=(0,r.useState)(!1),[j,y]=(0,r.useState)(""),v=e=>{y(e),b(!0),setTimeout(()=>b(!1),3e3)},{sufficient:f,missingItems:N}=(()=>{if(!e)return{sufficient:!1,missingItems:[]};const t=[];let s=!0;return d.forEach(a=>{const r=e.inventory.filmSheets.find(e=>e.sheetType===a.sheetType);(!r||r.currentStock<a.required)&&(s=!1,t.push(a.sheetType))}),{sufficient:s,missingItems:t}})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-amber-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Trailer"})]}),e&&(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>p(!0),icon:c.A,children:"Change Trailer"})]}),e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.registrationNumber})]}),(0,a.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"available":return"text-green-600 bg-green-50";case"low_stock":return"text-yellow-600 bg-yellow-50";case"unavailable":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(e.status)}`,children:(e=>{switch(e.status){case"available":return"Available";case"low_stock":return"Low on Inventory";case"unavailable":return`Unavailable till ${e.unavailableUntil}`;default:return e.status}})(e)})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Location: ",e.currentLocation]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Required Films for this Project"}),(0,a.jsx)("div",{className:"space-y-2",children:d.map((t,s)=>{const r=e.inventory.filmSheets.find(e=>e.sheetType===t.sheetType),l=r?.currentStock||0,c=l>=t.required;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.sheetType}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Required: ",t.required," | Available: ",l]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[c?(0,a.jsx)(n.A,{className:"w-4 h-4 text-green-600"}):(0,a.jsx)(i.A,{className:"w-4 h-4 text-red-600"}),(0,a.jsx)("span",{className:"text-xs font-medium "+(c?"text-green-600":"text-red-600"),children:c?"Sufficient":"Insufficient"})]})]},s)})})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200",children:f?(0,a.jsx)(m.$,{variant:"primary",size:"sm",onClick:()=>{v("Project inventory marked as completed!")},className:"w-full",icon:n.A,children:"Mark Project Inventory Completed"}):(0,a.jsx)(m.$,{variant:"secondary",size:"sm",onClick:()=>{v("Reminder sent to House Manager for missing inventory."),s(`Project requires restocking: ${N.join(", ")}`)},className:"w-full",icon:l.A,children:"Send Reminder to Ship Inventory"})})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"No trailer assigned yet"}),(0,a.jsx)(m.$,{variant:"primary",size:"sm",onClick:()=>p(!0),className:"w-full",children:"Assign Trailer"})]})]}),(0,a.jsx)(g,{isOpen:u,onClose:()=>p(!1),onAssignTrailer:e=>{t(e),"low_stock"===e.status&&(v("House Manager notified to restock trailer inventory."),s(`Trailer ${e.name} (${e.registrationNumber}) needs restocking for project assignment.`))}}),h&&(0,a.jsxs)("div",{className:"fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:j})]})]})}},4722:(e,t,s)=>{s.d(t,{W:()=>c});var a=s(4848),r=s(6540),i=s(799),l=s(5919),n=s(894);const c=({isOpen:e,onClose:t,onAssignTeam:s,availableMembers:c,assignedMemberIds:o=[]})=>{const[d,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[h,b]=(0,r.useState)(o),j=(0,r.useMemo)(()=>c.filter(e=>{const t=e.name.toLowerCase().includes(d.toLowerCase())||e.role.toLowerCase().includes(d.toLowerCase()),s=!x||e.role===x,a=!p||e.status===p;return t&&s&&a}),[c,d,x,p]),y=e=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},v=h.length,f=j.length;return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"})]}),(0,a.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{const e=j.map(e=>e.id);b(e)},children:"Select All"}),(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{b([])},children:"Deselect All"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[f," members found • ",v," selected"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency Badge"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>{return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer "+(h.includes(e.id)?"bg-blue-50":""),onClick:()=>y(e.id),children:[(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>y(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(t=e.name,t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.phone&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.phone})]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),e.availableUntil&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["until ",e.availableUntil]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:e.efficiencyBadge?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.efficiencyBadge}):(0,a.jsx)("span",{className:"text-gray-400",children:"—"})})]},e.id);var t})})]})})}),0===j.length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No team members found matching your criteria."})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(l.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsxs)(l.$,{variant:"primary",onClick:()=>{const e=c.filter(e=>h.includes(e.id));s(e),t()},disabled:0===v,children:["Add Team (",v,")"]})]})]})})}},5212:(e,t,s)=>{s.d(t,{C:()=>c});var a=s(4848),r=s(6540),i=s(1813),l=s(894),n=s(5919);const c=({isOpen:e,onClose:t,onSave:s,onEdit:c,editingLogistics:o})=>{const[d,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,u]=(0,r.useState)({}),p=!!o;(0,r.useEffect)(()=>{e&&(m(o?{name:o.name,type:o.type,description:o.description,quantity:o.quantity,location:o.location,expectedDate:o.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),u({}))},[e,o]);const g=(e,t)=>{m(s=>({...s,[e]:t})),x[e]&&u(t=>({...t,[e]:""}))};return(0,a.jsx)(l.a,{isOpen:e,onClose:t,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return d.name.trim()||(e.name="Logistics name is required"),d.description.trim()||(e.description="Description is required"),d.quantity<=0&&(e.quantity="Quantity must be greater than 0"),d.location.trim()||(e.location="Location is required"),d.expectedDate||(e.expectedDate="Expected date is required"),u(e),0===Object.keys(e).length})())return;const a={...d,quantity:Number(d.quantity)};p&&c?c(o.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:d.name,onChange:e=>g("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:d.type,onChange:e=>g("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:d.description,onChange:e=>g("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:d.quantity,onChange:e=>g("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:d.location,onChange:e=>g("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:d.expectedDate,onChange:e=>g("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",variant:"primary",icon:i.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},8473:(e,t,s)=>{s.d(t,{X:()=>x});var a=s(4848),r=(s(6540),s(1523)),i=s(904),l=s(2053),n=s(9775),c=s(82),o=s(1085),d=s(5919),m=s(2341);const x=({assignedTeam:e,logistics:t,logisticsItems:s,travelPlans:x,onViewTeam:u,onViewLogistics:p,onAssignTeam:g,onEditTeam:h,onAssignLogistics:b,onSetupTravel:j,onAddLogistics:y,onEditLogistics:v,onDeleteLogistics:f,onAddTravel:N,onEditTravel:w,onDeleteTravel:S})=>{const T=e=>{switch(e){case"available":return"text-green-600 bg-green-50";case"busy":return"text-yellow-600 bg-yellow-50";case"unavailable":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},D=e=>{switch(e){case"available":return"Available";case"busy":return"Busy";case"unavailable":return"Unavailable";default:return e}};return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assigned Team"})]}),e&&(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[e.count," member",1!==e.count?"s":""]})]}),e&&e.members.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,3).map((e,t)=>(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-600",title:e.name,children:e.name.split(" ").map(e=>e[0]).join("")},e.id)),e.members.length>3&&(0,a.jsxs)("div",{className:"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-500",children:["+",e.members.length-3]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.leadMember?.name||e.members[0]?.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Team Lead"})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.members.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${T(e.availability)}`,children:D(e.availability)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-gray-400",children:[(0,a.jsx)(l.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"text-xs",children:e.phone})]})]},e.id))}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:u,className:"flex-1 justify-start",children:"View Team Details"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:h,icon:i.A,className:"px-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit Team"})})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(o.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No team assigned yet"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:g,className:"w-full",children:"Assign Team"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.A,{className:"w-5 h-5 text-purple-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Logistics"})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:y,icon:i.A,children:"Add"})]}),s.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[s.length," logistics item",1!==s.length?"s":""," planned"]}),s.slice(0,2).map(e=>{return(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.itemName}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>v(e),className:"p-1 h-6 w-6",children:(0,a.jsx)(i.A,{className:"w-3 h-3"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>f(e.id),className:"p-1 h-6 w-6 text-red-500 hover:text-red-700",children:(0,a.jsx)(c.A,{className:"w-3 h-3"})})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,a.jsxs)("p",{children:["ETA: ",(t=e.eta,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]})]},e.id);var t}),s.length>2&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["+",s.length-2," more items"]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:p,className:"flex-1 justify-start",children:"View All Logistics"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:b,className:"px-3",children:"Manage"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(r.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No logistics planned yet"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:y,className:"w-full",children:"Plan Logistics"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Setup"})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:N,icon:i.A,children:"Add"})]}),x.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[x.length," travel plan",1!==x.length?"s":""," created"]}),x.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"flight"===e.travelMethod?"Flight":"road"===e.travelMethod?"Road Trip":"Other Travel"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>w(e),className:"p-1 h-6 w-6",children:(0,a.jsx)(i.A,{className:"w-3 h-3"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>S(e.id),className:"p-1 h-6 w-6 text-red-500 hover:text-red-700",children:(0,a.jsx)(c.A,{className:"w-3 h-3"})})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("p",{children:["People: ",e.numberOfPeople]}),(0,a.jsxs)("p",{children:["Hotel: ",e.hotelBooking?"Booked":"Not booked"]})]})]},e.id)),x.length>2&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["+",x.length-2," more plans"]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:j,className:"flex-1 justify-start",children:"View All Travel"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:N,className:"px-3",children:"Add More"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No travel plans yet"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:N,className:"w-full",children:"Setup Travel"})]})]})]})}},9726:(e,t,s)=>{s.d(t,{o:()=>l});var a=s(4848),r=(s(6540),s(1314)),i=s(7487);const l=({checklist:e,onToggleItem:t})=>{const s=e.filter(e=>e.completed).length,l=e.length,n=s/l*100;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Preparation Checklist"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[s,"/",l," completed"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>t(e.id),className:"flex-shrink-0 mr-2 text-gray-400 hover:text-blue-600 transition-colors","aria-label":`Toggle ${e.label}`,children:e.completed?(0,a.jsx)(r.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(i.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-xs font-medium "+(e.completed?"text-green-600":"text-gray-600"),children:e.label})]},e.id))})]})}},9809:(e,t,s)=>{s.d(t,{r:()=>c});var a=s(4848),r=s(6540),i=s(3573),l=s(5919),n=s(894);const c=({isOpen:e,onClose:t,onConfirm:s,projectTitle:c,projectStatus:o,initialStartDate:d="",initialEndDate:m=""})=>{const[x,u]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[h,b]=(0,r.useState)({}),[j,y]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(u(d),g(m),b({}),y(null))},[e,d,m]),(0,r.useEffect)(()=>{if(x&&p){const e=new Date(x),t=new Date(p);if(e<t){const s=Math.abs(t.getTime()-e.getTime()),a=Math.ceil(s/864e5);y(`${a} days`)}else y(null)}else y(null)},[x,p]),(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:`Set Project Dates for ${c}`,children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,a.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(o)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${h.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,a.jsx)(i.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),h.startDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>g(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${h.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,a.jsx)(i.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),h.endDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.endDate})]})]}),j&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",j]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(l.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(l.$,{variant:"primary",onClick:()=>{(()=>{const e={},t=(new Date).toISOString().split("T")[0];return x?x<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",b(e),0===Object.keys(e).length})()&&(s(x,p),t())},children:"Save Dates"})]})]})})}}}]);