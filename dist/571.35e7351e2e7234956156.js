/*! For license information please see 571.35e7351e2e7234956156.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[571],{4571:(e,t,r)=>{r.r(t),r.d(t,{Login:()=>S});var n=r(4848),a=r(6540),i=r(7767),s=r(4976),o=r(5262),c=r(5426),l=r(3588),u=r(4574),d=r(1085),m=r(2712),p=r(74),f=r(4655),h=r(4131),y=r(7425),v=r(5644),x=r(2664);function b(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function i(r,n,a,i){var c=n&&n.prototype instanceof o?n:o,l=Object.create(c.prototype);return g(l,"_invoke",function(r,n,a){var i,o,c,l=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return i=t,o=0,c=e,m.n=r,s}};function p(r,n){for(o=r,c=n,t=0;!d&&l&&!a&&t<u.length;t++){var a,i=u[t],p=m.p,f=i[2];r>3?(a=f===n)&&(c=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=p&&((a=r<2&&p<i[1])?(o=0,m.v=n,m.n=i[1]):p<f&&(a=r<3||i[0]>n||n>f)&&(i[4]=r,i[5]=n,m.n=f,o=0))}if(a||r>1)return s;throw d=!0,n}return function(a,u,f){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),o=u,c=f;(t=o<2?e:c)||!d;){i||(o?o<3?(o>1&&(m.n=-1),p(o,c)):m.n=c:m.v=c);try{if(l=2,i){if(o||(a="next"),t=i[a]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=e}else if((t=(d=m.n<0)?c:r.call(n,m))!==s)break}catch(t){i=e,o=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,a,i),!0),l}var s={};function o(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(g(t={},n,function(){return this}),t),d=l.prototype=o.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,g(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,g(d,"constructor",l),g(l,"constructor",c),c.displayName="GeneratorFunction",g(l,a,"GeneratorFunction"),g(d),g(d,a,"Generator"),g(d,n,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(b=function(){return{w:i,m}})()}function g(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}g=function(e,t,r,n){function i(t,r){g(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},g(e,t,r,n)}function j(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function(){var e=x.Ik().shape({email:x.Yj().required("Email is required").email("Please enter a valid email address")}),t=(0,i.Zp)(),r=(0,h.A)(),g=(r.login,r.demoLogin),N=(r.isLoading,r.getAvailableLoginMethods),S=w((0,a.useState)(""),2),O=S[0],W=(S[1],w((0,a.useState)(""),2)),P=(W[0],W[1],w((0,a.useState)(!1),2)),A=(P[0],P[1],w((0,a.useState)(!1),2)),E=A[0],k=A[1],_=w((0,a.useState)(!1),2),L=(_[0],_[1],w((0,a.useState)(""),2)),C=L[0],T=(L[1],w((0,a.useState)(null),2)),I=(T[0],T[1]),D=w((0,a.useState)([]),2),z=(D[0],D[1]),F=w((0,a.useState)(null),2),G=(F[0],F[1]),q=w((0,a.useState)(!1),2),M=q[0],R=q[1];(0,a.useEffect)(function(){if(O&&O.includes("@")){var e,t=N(O);z(t);var r=O.split("@")[0].toLowerCase(),n=(null===(e=O.split("@")[1])||void 0===e||e.toLowerCase(),"execution-team"),a="email",i="Standard email login";r.startsWith("admin@")||"admin"===r||r.startsWith("vp@")||"vp"===r||r.startsWith("vpops@")||"vpops"===r||r.startsWith("ceo@")||"ceo"===r||r.startsWith("cfo@")||"cfo"===r||r.startsWith("cto@")||"cto"===r||r.startsWith("director@")||"director"===r?(n="executive",a="company-based",i="Executive account with full system access and management capabilities"):r.startsWith("pm@")||"pm"===r||r.startsWith("coordinator@")||"coordinator"===r||r.startsWith("manager@")||"manager"===r||r.startsWith("supervisor@")||"supervisor"===r||r.startsWith("lead@")||"lead"===r?(n="project-coordinator",a="company-based",i="Project Coordinator with project management and team coordination access"):r.startsWith("leadsupervisor@")||"leadsupervisor"===r||r.startsWith("lead-supervisor@")||"lead-supervisor"===r||r.startsWith("lead_supervisor@")||"lead_supervisor"===r||r.startsWith("ls@")||"ls"===r?(n="lead-supervisor",a="company-based",i="Lead Supervisor with project, team, and document management access"):(r.startsWith("crew@")||"crew"===r||r.startsWith("team@")||"team"===r||r.startsWith("field@")||"field"===r||r.startsWith("ground@")||"ground"===r||r.startsWith("ops@")||"ops"===r||r.startsWith("logistics@")||"logistics"===r||r.startsWith("production@")||"production"===r||r.startsWith("quality@")||"quality"===r||r.startsWith("safety@")||"safety"===r||r.startsWith("finance@")||"finance"===r||r.startsWith("hr@")||"hr"===r||r.startsWith("it@")||"it"===r)&&(n="execution-team",a="company-based",i="Execution Team member with operational access (no team/trailer access)"),I(n),G({type:a,description:i})}else I(null),z([]),G(null)},[O,N]);var $=function(){var e,r=(e=b().m(function e(r,n){return b().w(function(e){for(;;)switch(e.n){case 0:n.setSubmitting,console.log("click"),t("/");case 1:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){j(i,n,a,s,o,"next",e)}function o(e){j(i,n,a,s,o,"throw",e)}s(void 0)})});return function(e,t){return r.apply(this,arguments)}}(),H=[{id:"executive",title:"Executive Account",description:"Full system access with management capabilities",icon:l.A,color:"bg-red-50 text-red-600 border-red-200 hover:bg-red-100"},{id:"project-coordinator",title:"Project Coordinator",description:"Project management and team coordination access",icon:u.A,color:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},{id:"lead-supervisor",title:"Lead Supervisor",description:"Lead supervision with project and document management access only",icon:m.A,color:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"},{id:"execution-team",title:"Execution Team",description:"Operational access for task execution (no team/trailer access)",icon:d.A,color:"bg-green-50 text-green-600 border-green-200 hover:bg-green-100"}];return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto mb-4",children:(0,n.jsx)(f.g,{size:"xl",textSize:"lg",className:"justify-center"})}),(0,n.jsx)("p",{className:"text-body text-text-secondary mt-2",children:"Project Management System"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-8 max-w-md mx-auto w-full",children:[(0,n.jsx)(y.l1,{initialValues:{email:"",password:""},validationSchema:e,onSubmit:$,children:function(e){var t=e.isSubmitting;return e.errors,e.touched,(0,n.jsxs)(s.lV,{className:"space-y-3",children:[(0,n.jsx)(v.A,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",className:""}),(0,n.jsx)(v.A,{label:"Password",name:"password",type:E?"text":"password",placeholder:"Enter your Password",className:"",isRightIcon:(0,n.jsx)("button",{type:"button",onClick:function(){return k(!E)},className:"absolute inset-y-0  right-0 pr-3 flex items-center text-text-muted hover:text-text-secondary",children:E?(0,n.jsx)(o.A,{size:18}):(0,n.jsx)(c.A,{size:18})})}),(0,n.jsx)("div",{className:"flex items-center justify-end pt-3",children:(0,n.jsx)(s.N_,{to:"/forgot_password",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Forgot password?"})}),C&&(0,n.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:C}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(p.$,{type:"submit",variant:"primary",size:"md",className:"w-full",disabled:t,children:t?"Signing in...":"Log in"})})]})}}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,n.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,n.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,n.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)(p.$,{variant:"secondary",size:"md",className:"w-full",onClick:function(){return R(!M)},children:"Continue with Demo Login"}),M&&(0,n.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-gray-600 text-center mb-3",children:"Try SafeHavenDefense with sample data — no signup required"}),H.map(function(e){return(0,n.jsx)("button",{onClick:function(){return function(e){g(e),t("/")}(e.id)},className:"w-full p-3 rounded-lg border text-left transition-colors ".concat(e.color),children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(e.icon,{size:20}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:e.title}),(0,n.jsx)("div",{className:"text-xs opacity-75",children:e.description})]})]})},e.id)})]})]})]})]}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("p",{className:"text-caption text-text-muted",children:"© 2024 SafeHavenDefense. All rights reserved."})})]})})}},5644:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(4848),a=r(7425);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var s=["label","name","type","placeholder","className","isLeftIcon","isRightIcon"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(e){var t=e.label,r=e.name,i=e.type,o=void 0===i?"text":i,l=e.placeholder,u=e.className,d=void 0===u?"":u,m=e.isLeftIcon,p=e.isRightIcon,f=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s);return(0,n.jsxs)("div",{className:"flex flex-col mb-4 ".concat(d),children:[t&&(0,n.jsx)("label",{htmlFor:r,className:"mb-1 font-medium text-gray-700",children:t}),(0,n.jsxs)("div",{className:"relative",children:[m&&(0,n.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:m}),(0,n.jsx)(a.D0,c({id:r,name:r,type:o,placeholder:l,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none \n            ".concat(m?"pl-10":"","\n            ").concat(p?"pr-10":"")},f)),p&&(0,n.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer",children:p})]}),(0,n.jsx)(a.Kw,{name:r,component:"div",className:"text-red-500 text-sm mt-1"})]})}}}]);