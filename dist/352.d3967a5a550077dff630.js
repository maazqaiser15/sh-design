"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[352],{5352:(e,t,s)=>{s.d(t,{ProjectList:()=>I});var a=s(4848),r=s(6540),i=s(7767),n=s(799),l=s(5891),o=s(3183),c=s(3573),d=s(1397),m=s(1085),x=s(7596);const g={PV75:"bg-gray-100 text-gray-700",PV90:"bg-purple-100 text-purple-700",UB:"bg-blue-100 text-blue-700",WB:"bg-yellow-100 text-yellow-700",WIP:"bg-blue-100 text-blue-700",QF:"bg-orange-100 text-orange-700",Completed:"bg-green-100 text-green-700"},u={PV75:"PV75",PV90:"PV90",UB:"UB",WB:"WB",WIP:"WIP",QF:"QF",Completed:"Completed"},h=({projects:e,onProjectClick:t})=>{const s=e=>{switch(e){case"PV75":return 5;case"PV90":return 15;case"UB":return 25;case"WB":return 40;case"WIP":return 75;case"QF":return 90;case"Completed":return 100;default:return 0}},r=e=>{switch(e){case"PV75":return"bg-gray-500";case"PV90":return"bg-purple-500";case"UB":case"WIP":return"bg-blue-500";case"WB":return"bg-yellow-500";case"QF":return"bg-orange-500";case"Completed":return"bg-green-500";default:return"bg-gray-400"}};return(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>(0,a.jsxs)("div",{onClick:()=>t(e),className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer h-full flex flex-col min-h-[280px]",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex-1 pr-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 leading-tight mb-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:e.vinCode}),(0,a.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${g[e.status]}`,children:u[e.status]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 mb-4",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 mr-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-base truncate",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 mr-3 text-gray-400 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex items-center -space-x-2",children:[e.crew.slice(0,3).map((e,t)=>{return(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center text-sm font-medium text-gray-700",title:e.name,children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(s=e.name,s.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))},e.id);var s}),e.crewCount>3&&(0,a.jsxs)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-sm font-medium text-gray-600",children:["+",e.crewCount-3]})]}),0===e.crewCount&&(0,a.jsx)("span",{className:"text-sm text-gray-400 ml-3",children:"No crew"})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-base truncate max-w-32",children:e.assignedTrailer||"Not Assigned"})]})]}),["WIP","QF","Completed"].includes(e.status)&&(0,a.jsxs)("div",{className:"mt-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-700",children:[s(e.status),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:`h-3 rounded-full transition-all duration-300 ${r(e.status)}`,style:{width:`${s(e.status)}%`}})})]})]},e.id))})})};var p=s(9250),y=s(6749);const f=({projects:e,onProjectClick:t,sortOptions:s,onSort:r})=>{const i=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),n=e=>s.field!==e?(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-400"}):"asc"===s.direction?(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-600"}):(0,a.jsx)(y.A,{className:"w-4 h-4 text-gray-600"});return(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("title"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Project Name",n("title")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("status"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Status",n("status")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("location"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Location",n("location")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("crewCount"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Crew",n("crewCount")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("assignedTrailer"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Trailer",n("assignedTrailer")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("startDate"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["Start Date",n("startDate")]})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>r("endDate"),children:(0,a.jsxs)("div",{className:"flex items-center",children:["End Date",n("endDate")]})})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{onClick:()=>t(e),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,a.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 mt-1",children:e.vinCode}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${g[e.status]}`,children:u[e.status]})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-1 text-gray-400"}),e.location]})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,a.jsxs)("div",{className:"flex items-center -space-x-1",children:[e.crew.slice(0,3).map((e,t)=>{return(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-700",title:e.name,children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(s=e.name,s.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))},e.id);var s}),e.crewCount>3&&(0,a.jsxs)("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-600",children:["+",e.crewCount-3]})]}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",e.crewCount,")"]})]})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-1 text-gray-400"}),e.assignedTrailer||"Not Assigned"]})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-1 text-gray-400"}),i(e.startDate)]})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 mr-1 text-gray-400"}),i(e.endDate)]})})]},e.id))})]})}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(m.A,{className:"w-16 h-16 mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters or search criteria."})]})]})})};var j=s(2793),v=s(4810),b=s(885),w=s(9237);const N=({project:e,startPosition:t,width:s,top:r,height:i,onHover:n,onClick:l,isHovered:o})=>{const c=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,a.jsxs)("div",{className:`absolute rounded-md cursor-pointer transition-all duration-200 ${(e=>{switch(e){case"PV90":return"bg-purple-500 hover:bg-purple-600";case"UB":return"bg-blue-500 hover:bg-blue-600";case"WB":return"bg-yellow-500 hover:bg-yellow-600";case"WIP":return"bg-green-500 hover:bg-green-600";case"QF":return"bg-orange-500 hover:bg-orange-600";case"Completed":return"bg-gray-500 hover:bg-gray-600";default:return"bg-gray-400 hover:bg-gray-500"}})(e.status)} ${o?"ring-2 ring-blue-300 ring-opacity-50":""}`,style:{left:`${t}%`,width:`${s}%`,top:`${r}px`,height:`${i}px`},onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),onClick:()=>l(e),children:[(0,a.jsx)("div",{className:"h-full flex items-center px-1 text-white text-xs font-medium",children:(0,a.jsx)("span",{className:"truncate",children:e.title.length>20?e.title.substring(0,20)+"...":e.title})}),o&&(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-md shadow-lg whitespace-nowrap z-10",children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsxs)("div",{className:"text-gray-300",children:[c(e.startDate)," - ",c(e.endDate)]}),(0,a.jsxs)("div",{className:"text-gray-300",children:["Status: ",e.status," | Crew: ",e.crewCount]}),(0,a.jsxs)("div",{className:"text-gray-300",children:["Location: ",e.location]}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},D=({project:e,viewMode:t,currentDate:s,onProjectHover:i,onProjectClick:n,hoveredProject:l})=>{const o=(0,r.useMemo)(()=>{let a,r;if("day"===t)a=new Date(s),a.setHours(0,0,0,0),r=new Date(s),r.setHours(23,59,59,999);else if("week"===t){const e=new Date(s),t=e.getDay(),i=e.getDate()-t+(0===t?-6:1);e.setDate(i),a=e,r=new Date(e),r.setDate(e.getDate()+6)}else if("month"===t){const e=s.getFullYear(),t=s.getMonth();a=new Date(e,t,1),r=new Date(e,t+1,0)}else{const e=s.getFullYear();a=new Date(e,0,1),r=new Date(e,11,31)}const i=new Date(e.startDate),n=new Date(e.endDate);if(n<a||i>r)return null;const l=r.getTime()-a.getTime(),o=n>r?r:n,c=(i<a?a:i).getTime()-a.getTime(),d=c/l*100,m=(o.getTime()-a.getTime()-c)/l*100;return{startPosition:Math.max(0,d),width:Math.max(2,m),top:2,height:24}},[e,t,s]);return(0,a.jsxs)("div",{className:"flex border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"w-72 p-3 flex-shrink-0 border-r border-gray-200",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate mb-1",children:e.title}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:e.vinCode})]})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("div",{className:"h-16 relative",children:o?(0,a.jsx)(N,{project:e,startPosition:o.startPosition,width:o.width,top:o.top,height:o.height,onHover:i,onClick:n,isHovered:l?.id===e.id}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Outside timeline"})})})]})},C=({viewMode:e,currentDate:t,onDateChange:s})=>{const i=(0,r.useMemo)(()=>{const s=[],a=new Date;if("week"===e){const e=new Date(t),r=e.getDay(),i=e.getDate()-r+(0===r?-6:1);e.setDate(i);for(let t=0;t<7;t++){const r=new Date(e);r.setDate(e.getDate()+t),s.push({date:r,label:r.toLocaleDateString("en-US",{weekday:"short",day:"2-digit"}),isToday:r.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("month"===e){new Date(t.getFullYear(),t.getMonth(),1);const e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();for(let r=1;r<=e;r++){const e=new Date(t.getFullYear(),t.getMonth(),r);s.push({date:e,label:e.toLocaleDateString("en-US",{day:"2-digit"}),isToday:e.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("day"===e){const e=new Date(t);s.push({date:e,label:e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}),isToday:e.toDateString()===a.toDateString(),isCurrentPeriod:!0})}else if("year"===e){new Date(t.getFullYear(),0,1);for(let e=0;e<12;e++){const r=new Date(t.getFullYear(),e,1);s.push({date:r,label:r.toLocaleDateString("en-US",{month:"short"}),isToday:r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear(),isCurrentPeriod:!0})}}return s},[e,t]);return(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200",children:[(0,a.jsx)("div",{className:"px-4 py-2 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:(()=>{switch(e){case"day":return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"week":const e=new Date(t),s=e.getDay(),a=e.getDate()-s+(0===s?-6:1);e.setDate(a);const r=new Date(e);return r.setDate(e.getDate()+6),`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`;case"month":return t.toLocaleDateString("en-US",{year:"numeric",month:"long"});case"year":return t.getFullYear().toString();default:return""}})()})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-72 flex-shrink-0 border-r border-gray-200"}),(0,a.jsx)("div",{className:"flex-1 flex",children:i.map((t,s)=>(0,a.jsxs)("div",{className:"flex-1 border-r border-gray-200 py-1 px-2 text-center "+(t.isToday?"bg-blue-50":""),children:[(0,a.jsx)("div",{className:"text-sm font-medium "+(t.isToday?"text-blue-600":"text-gray-900"),children:t.label}),"day"===e&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:t.date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]},s))})]})]})},T=({projects:e,onProjectClick:t,filters:s={status:[],assignedUsers:[]},onFiltersChange:i})=>{const[n,l]=(0,r.useState)(new Date),[o,d]=(0,r.useState)("month"),[m,x]=(0,r.useState)(null),[g,u]=(0,r.useState)(!1),h=(0,r.useMemo)(()=>{const t=new Set;return e.forEach(e=>{e.crew.forEach(e=>{t.add(e.id)})}),Array.from(t).map(t=>{const s=e.find(e=>e.crew.some(e=>e.id===t)),a=s?.crew.find(e=>e.id===t);return{id:t,name:a?.name||"Unknown User"}})},[e]),p=(0,r.useMemo)(()=>e.filter(e=>{const t=new Date(e.startDate),a=new Date(e.endDate);let r,i;if("day"===o)r=new Date(n),r.setHours(0,0,0,0),i=new Date(n),i.setHours(23,59,59,999);else if("week"===o){const e=new Date(n),t=e.getDay(),s=e.getDate()-t+(0===t?-6:1);e.setDate(s),r=e,i=new Date(e),i.setDate(e.getDate()+6)}else if("month"===o){const e=n.getFullYear(),t=n.getMonth();r=new Date(e,t,1),i=new Date(e,t+1,0)}else{const e=n.getFullYear();r=new Date(e,0,1),i=new Date(e,11,31)}const l=a>=r&&t<=i,c=0===s.status.length||s.status.includes(e.status),d=0===s.assignedUsers.length||s.assignedUsers.some(t=>e.crew.some(e=>e.id===t));return l&&c&&d}),[e,n,o,s]),y=e=>{l(e)};return(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Project Gantt Chart"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[p.length," project",1!==p.length?"s":""," scheduled"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>u(!g),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium rounded-md transition-colors "+(s.status.length>0||s.assignedUsers.length>0?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Filters"}),(s.status.length>0||s.assignedUsers.length>0)&&(0,a.jsx)("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:s.status.length+s.assignedUsers.length})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[{mode:"day",label:"Day"},{mode:"week",label:"Week"},{mode:"month",label:"Month"},{mode:"year",label:"Year"}].map(({mode:e,label:t})=>(0,a.jsx)("button",{onClick:()=>(e=>{d(e)})(e),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+(o===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:t},e))}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{const e=new Date(n);"day"===o?e.setDate(e.getDate()-1):"week"===o?e.setDate(e.getDate()-7):"month"===o?e.setMonth(e.getMonth()-1):e.setFullYear(e.getFullYear()-1),y(e)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:(0,a.jsx)(v.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>y(new Date),className:"px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"Today"}),(0,a.jsx)("button",{onClick:()=>{const e=new Date(n);"day"===o?e.setDate(e.getDate()+1):"week"===o?e.setDate(e.getDate()+7):"month"===o?e.setMonth(e.getMonth()+1):e.setFullYear(e.getFullYear()+1),y(e)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})})]})]})]})}),g&&(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filter Projects"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(s.status.length>0||s.assignedUsers.length>0)&&(0,a.jsx)("button",{onClick:()=>{i&&i({status:[],assignedUsers:[]})},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"}),(0,a.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(w.A,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Status"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["PV75","PV90","UB","WB","WIP","QF","Completed"].map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{if(!i)return;const t=s.status.includes(e)?s.status.filter(t=>t!==e):[...s.status,e];i({...s,status:t})})(e),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+(s.status.includes(e)?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter by Assigned User"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto",children:0===h.length?(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No users assigned to projects"}):(0,a.jsx)("div",{className:"space-y-1",children:h.map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{if(!i)return;const t=s.assignedUsers.includes(e)?s.assignedUsers.filter(t=>t!==e):[...s.assignedUsers,e];i({...s,assignedUsers:t})})(e.id),className:"w-full text-left px-3 py-2 text-sm rounded-md transition-colors "+(s.assignedUsers.includes(e.id)?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-100 text-gray-600 hover:text-gray-900"),children:e.name},e.id))})})]})]})]}),(0,a.jsx)(C,{viewMode:o,currentDate:n,onDateChange:y}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full overflow-y-auto",children:0===p.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(c.A,{className:"mx-auto h-12 w-12"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No projects are scheduled for the selected time period."})]})}):(0,a.jsx)("div",{className:"bg-white",children:p.map(e=>(0,a.jsx)(D,{project:e,viewMode:o,currentDate:n,onProjectHover:x,onProjectClick:t,hoveredProject:m},e.id))})})}),(0,a.jsx)("div",{className:"fixed bottom-0 left-64 right-0 bg-white border-t border-gray-200 p-3 shadow-lg z-50",children:(0,a.jsxs)("div",{className:"max-w-full mx-auto px-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Project Status Legend"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-purple-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"PV90"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"UB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WIP"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-orange-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"QF"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Completed"})]})]})]})})]})};var S=s(9809);const P=e=>{new Date(e.startDate);const t=new Date(e.endDate),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return{...e,crewCount:e.crew?.length||0,daysRemaining:Math.max(0,a)}},A=[{id:"1",title:"Downtown Office Complex Security",description:"Complete security film installation for 15-story office complex downtown",status:"PV75",stage:"PV75",startDate:"2025-09-15",endDate:"2025-09-30",location:"Downtown Seattle, WA",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-15T00:00:00Z",assignedTeam:["1","2","3"],assignedTrailers:["1"],progress:5,vinCode:"TXDA-SJ1BR1-EETUSC01-P20001",crew:[{id:"1",name:"John Smith",role:"Lead Installer",designation:"Lead Installer",location:"Seattle, WA",phone:"+1-555-0101",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"2",name:"Sarah Johnson",role:"Technician",designation:"Technician",location:"Seattle, WA",phone:"+1-555-0102",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"3",name:"Mike Davis",role:"Assistant",designation:"Assistant",location:"Seattle, WA",phone:"+1-555-0103",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Alpha"},{id:"2",title:"Residential Community Protection",description:"Security film installation for luxury residential community",status:"WB",stage:"WB",startDate:"2025-09-20",endDate:"2025-09-25",location:"Bellevue, WA",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["4","5"],assignedTrailers:["2"],progress:40,vinCode:"TXDA-SJ1BR1-EETUSC01-P20002",crew:[{id:"4",name:"Lisa Wilson",role:"Project Manager",designation:"Project Manager",location:"Bellevue, WA",phone:"+1-555-0104",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"5",name:"Tom Brown",role:"Installer",designation:"Installer",location:"Bellevue, WA",phone:"+1-555-0105",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Beta"},{id:"3",title:"Government Building Security",description:"High-security film installation for government facility",status:"UB",stage:"UB",startDate:"2025-09-10",endDate:"2025-09-18",location:"Olympia, WA",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:25,vinCode:"TXDA-SJ1BR1-EETUSC01-P20003",crew:[],assignedTrailer:null},{id:"4",title:"Retail Store Protection",description:"Security film installation for retail chain stores",status:"Completed",stage:"Completed",startDate:"2025-09-05",endDate:"2025-09-12",location:"Tacoma, WA",createdAt:"2024-10-15T00:00:00Z",updatedAt:"2024-11-15T00:00:00Z",assignedTeam:["6","7","8"],assignedTrailers:["3"],progress:100,vinCode:"TXDA-SJ1BR1-EETUSC01-P20004",crew:[{id:"6",name:"Alex Rodriguez",role:"Lead Installer",designation:"Lead Installer",location:"Tacoma, WA",phone:"+1-555-0106",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"7",name:"Emma Thompson",role:"Technician",designation:"Technician",location:"Tacoma, WA",phone:"+1-555-0107",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"8",name:"David Lee",role:"Assistant",designation:"Assistant",location:"Tacoma, WA",phone:"+1-555-0108",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Gamma"},{id:"5",title:"School District Safety",description:"Security film installation for school district buildings",status:"PV90",stage:"PV90",startDate:"2025-09-25",endDate:"2025-10-05",location:"Spokane, WA",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:[],assignedTrailers:[],progress:15,vinCode:"TXDA-SJ1BR1-EETUSC01-P20005",crew:[],assignedTrailer:null},{id:"6",title:"Hospital Security Upgrade",description:"Security film installation for medical facility",status:"WIP",stage:"WIP",startDate:"2025-09-08",endDate:"2025-09-15",location:"Portland, OR",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["9","10"],assignedTrailers:["4"],progress:75,vinCode:"TXDA-SJ1BR1-EETUSC01-P20006",crew:[{id:"9",name:"Jennifer Taylor",role:"Installer",designation:"Installer",location:"Portland, OR",phone:"+1-555-0109",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"10",name:"Robert Garcia",role:"Coordinator",designation:"Coordinator",location:"Portland, OR",phone:"+1-555-0110",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Delta"},{id:"7",title:"Shopping Mall Protection",description:"Security film installation for retail complex",status:"UB",stage:"UB",startDate:"2025-09-22",endDate:"2025-09-28",location:"San Francisco, CA",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-01T00:00:00Z",assignedTeam:["11","12"],assignedTrailers:["5"],progress:25,vinCode:"TXDA-SJ1BR1-EETUSC01-P20007",crew:[{id:"11",name:"Amanda Lee",role:"Lead",designation:"Lead",location:"San Francisco, CA",phone:"+1-555-0111",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"12",name:"Christopher Davis",role:"Installer",designation:"Installer",location:"San Francisco, CA",phone:"+1-555-0112",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Echo"},{id:"8",title:"Quality Assurance Project",description:"Security film installation ready for quality check",status:"QF",stage:"QF",startDate:"2025-09-12",endDate:"2025-09-18",location:"Portland, OR",createdAt:"2024-12-01T00:00:00Z",updatedAt:"2024-12-15T00:00:00Z",assignedTeam:["1","2"],assignedTrailers:["1"],progress:90,vinCode:"TXDA-SJ1BR1-EETUSC01-P20008",crew:[{id:"1",name:"John Smith",role:"Lead Installer",designation:"Lead Installer",location:"Portland, OR",phone:"+1-555-0101",productivity:"Efficient in Installation",status:"available",avatar:void 0},{id:"2",name:"Sarah Johnson",role:"Technician",designation:"Technician",location:"Portland, OR",phone:"+1-555-0102",productivity:"Efficient in Installation",status:"available",avatar:void 0}],assignedTrailer:"Trailer Alpha"}],k=()=>{const e=(0,i.Zp)(),[t,s]=(0,r.useState)({type:"list"}),[d,m]=(0,r.useState)(""),[x,g]=(0,r.useState)({status:[],assignedUsers:[]}),[u,p]=(0,r.useState)({field:"title",direction:"asc"}),[y,j]=(0,r.useState)(!1),[v,b]=(0,r.useState)(null),w=(0,r.useMemo)(()=>A.map(P),[]),N=(0,r.useMemo)(()=>{const e=((e,t)=>e.filter(e=>{if(t.status&&t.status.length>0&&!t.status.includes(e.status))return!1;if(t.searchQuery){const s=t.searchQuery.toLowerCase();if(![e.title,e.description,e.location,e.status,e.vinCode,e.assignedTrailer||"",...e.crew.map(e=>e.name)].join(" ").toLowerCase().includes(s))return!1}return!0}))(w,{...x,searchQuery:d});return t=e,s=u.field,a=u.direction,[...t].sort((e,t)=>{let r=e[s],i=t[s];return"startDate"===s||"endDate"===s?(r=new Date(r).getTime(),i=new Date(i).getTime()):"string"==typeof r&&(r=r.toLowerCase(),i=i.toLowerCase()),"asc"===a?(r||"")<(i||"")?-1:(r||"")>(i||"")?1:0:(r||"")>(i||"")?-1:(r||"")<(i||"")?1:0});var t,s,a},[w,x,d,u]),D=t=>{e(`/projects/${t.id}?status=${t.status}&title=${encodeURIComponent(t.title)}`)};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"w-full px-4 py-0",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"mb-6 lg:mb-0",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Projects"}),(0,a.jsxs)("p",{className:"text-lg text-gray-500 mt-1",children:[w.length," Projects"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search projects...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>s({type:"list"}),className:"p-2 rounded-md transition-colors "+("list"===t.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"List View",children:(0,a.jsx)(l.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>s({type:"table"}),className:"p-2 rounded-md transition-colors "+("table"===t.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Table View",children:(0,a.jsx)(o.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>s({type:"gantt"}),className:"p-2 rounded-md transition-colors "+("gantt"===t.type?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),title:"Gantt Chart View",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:["All","PV75","PV90","UB","WB","WIP","QF","Completed"].map(e=>(0,a.jsx)("button",{onClick:()=>{const t="All"===e?"":e;g({status:t?[t]:[]})},className:"px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 "+("All"===e&&0===x.status.length||"All"!==e&&x.status.includes(e)?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:e},e))})}),"list"===t.type?(0,a.jsx)(h,{projects:N,onProjectClick:D}):"table"===t.type?(0,a.jsx)(f,{projects:N,onProjectClick:D,sortOptions:u,onSort:e=>{p(t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"}))}}):(0,a.jsx)(T,{projects:N,onProjectClick:D,filters:x,onFiltersChange:g}),v&&(0,a.jsx)(S.r,{isOpen:y,onClose:()=>{j(!1),b(null)},onConfirm:(t,s)=>{v&&(console.log(`Setting dates for project ${v.title}:`,{startDate:t,endDate:s}),e(`/projects/${v.id}`))},projectTitle:v.title,projectStatus:v.status,initialStartDate:v.startDate,initialEndDate:v.endDate})]})})};s(2608),s(4138),s(5919),s(894),s(2341),s(3096),s(408),s(3283),s(7235),s(4722),s(5212),s(1747),s(2321),s(2845);var U=s(7894);const I=()=>((0,U.KF)([{label:"Dashboard",href:"/"},{label:"Projects",href:"/projects"}]),(0,a.jsx)(k,{}))}}]);