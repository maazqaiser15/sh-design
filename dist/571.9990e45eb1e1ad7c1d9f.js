/*! For license information please see 571.9990e45eb1e1ad7c1d9f.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[571],{4571:(e,t,r)=>{r.r(t),r.d(t,{Login:()=>S});var s=r(4848),n=r(6540),a=r(7767),i=r(4976),o=r(2186),c=r(5262),l=r(5426),u=r(104),d=r(6770),m=r(3588),p=r(4574),x=r(1085),f=r(2712),h=r(74),v=r(4655),b=r(4131);function y(){var e,t,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,s,n,a){var c=s&&s.prototype instanceof o?s:o,l=Object.create(c.prototype);return g(l,"_invoke",function(r,s,n){var a,o,c,l=0,u=n||[],d=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,o=0,c=e,m.n=r,i}};function p(r,s){for(o=r,c=s,t=0;!d&&l&&!n&&t<u.length;t++){var n,a=u[t],p=m.p,x=a[2];r>3?(n=x===s)&&(c=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(o=0,m.v=s,m.n=a[1]):p<x&&(n=r<3||a[0]>s||s>x)&&(a[4]=r,a[5]=s,m.n=x,o=0))}if(n||r>1)return i;throw d=!0,s}return function(n,u,x){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,x),o=u,c=x;(t=o<2?e:c)||!d;){a||(o?o<3?(o>1&&(m.n=-1),p(o,c)):m.n=c:m.v=c);try{if(l=2,a){if(o||(n="next"),t=a[n]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),o=1);a=e}else if((t=(d=m.n<0)?c:r.call(s,m))!==i)break}catch(t){a=e,o=1,c=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),l}var i={};function o(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][s]?t(t([][s]())):(g(t={},s,function(){return this}),t),d=l.prototype=o.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,g(e,n,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,g(d,"constructor",l),g(l,"constructor",c),c.displayName="GeneratorFunction",g(l,n,"GeneratorFunction"),g(d),g(d,n,"Generator"),g(d,s,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(y=function(){return{w:a,m}})()}function g(e,t,r,s){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}g=function(e,t,r,s){function a(t,r){g(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!s,configurable:!s,writable:!s}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},g(e,t,r,s)}function j(e,t,r,s,n,a,i){try{var o=e[a](i),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(s,n)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,o=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=a.call(r)).done)&&(o.push(s.value),o.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var S=function(){var e=(0,a.Zp)(),t=(0,b.A)(),r=t.login,g=t.demoLogin,N=t.isLoading,S=t.getAvailableLoginMethods,W=w((0,n.useState)(""),2),A=W[0],k=W[1],C=w((0,n.useState)(""),2),O=C[0],E=C[1],_=w((0,n.useState)(!1),2),P=_[0],L=_[1],T=w((0,n.useState)(!1),2),z=T[0],F=T[1],q=w((0,n.useState)(!1),2),D=q[0],G=q[1],I=w((0,n.useState)(""),2),H=I[0],M=I[1],$=w((0,n.useState)(null),2),U=$[0],B=$[1],R=w((0,n.useState)([]),2),Z=(R[0],R[1]),J=w((0,n.useState)(null),2),K=J[0],Q=J[1];(0,n.useEffect)(function(){if(A&&A.includes("@")){var e,t=S(A);Z(t);var r=A.split("@")[0].toLowerCase(),s=(null===(e=A.split("@")[1])||void 0===e||e.toLowerCase(),"execution-team"),n="email",a="Standard email login";r.startsWith("admin@")||"admin"===r||r.startsWith("vp@")||"vp"===r||r.startsWith("vpops@")||"vpops"===r||r.startsWith("ceo@")||"ceo"===r||r.startsWith("cfo@")||"cfo"===r||r.startsWith("cto@")||"cto"===r||r.startsWith("director@")||"director"===r?(s="executive",n="company-based",a="Executive account with full system access and management capabilities"):r.startsWith("pm@")||"pm"===r||r.startsWith("coordinator@")||"coordinator"===r||r.startsWith("manager@")||"manager"===r||r.startsWith("supervisor@")||"supervisor"===r||r.startsWith("lead@")||"lead"===r?(s="project-coordinator",n="company-based",a="Project Coordinator with project management and team coordination access"):r.startsWith("leadsupervisor@")||"leadsupervisor"===r||r.startsWith("lead-supervisor@")||"lead-supervisor"===r||r.startsWith("lead_supervisor@")||"lead_supervisor"===r||r.startsWith("ls@")||"ls"===r?(s="lead-supervisor",n="company-based",a="Lead Supervisor with project, team, and document management access"):(r.startsWith("crew@")||"crew"===r||r.startsWith("team@")||"team"===r||r.startsWith("field@")||"field"===r||r.startsWith("ground@")||"ground"===r||r.startsWith("ops@")||"ops"===r||r.startsWith("logistics@")||"logistics"===r||r.startsWith("production@")||"production"===r||r.startsWith("quality@")||"quality"===r||r.startsWith("safety@")||"safety"===r||r.startsWith("finance@")||"finance"===r||r.startsWith("hr@")||"hr"===r||r.startsWith("it@")||"it"===r)&&(s="execution-team",n="company-based",a="Execution Team member with operational access (no team/trailer access)"),B(s),Q({type:n,description:a})}else B(null),Z([]),Q(null)},[A,S]);var V=function(){var t,s=(t=y().m(function t(s){return y().w(function(t){for(;;)switch(t.p=t.n){case 0:return s.preventDefault(),M(""),G(!0),t.p=1,t.n=2,r(A,O,P);case 2:e("/"),t.n=4;break;case 3:t.p=3,t.v,M("Invalid email or password. Please try again.");case 4:return t.p=4,G(!1),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}),function(){var e=this,r=arguments;return new Promise(function(s,n){var a=t.apply(e,r);function i(e){j(a,s,n,i,o,"next",e)}function o(e){j(a,s,n,i,o,"throw",e)}i(void 0)})});return function(e){return s.apply(this,arguments)}}(),X=[{id:"executive",title:"Executive Account",description:"Full system access with management capabilities",icon:m.A,color:"bg-red-50 text-red-600 border-red-200 hover:bg-red-100"},{id:"project-coordinator",title:"Project Coordinator",description:"Project management and team coordination access",icon:p.A,color:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},{id:"lead-supervisor",title:"Lead Supervisor",description:"Lead supervision with project and document management access only",icon:f.A,color:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"},{id:"execution-team",title:"Execution Team",description:"Operational access for task execution (no team/trailer access)",icon:x.A,color:"bg-green-50 text-green-600 border-green-200 hover:bg-green-100"}];return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4",children:(0,s.jsx)(v.g,{size:"xl",textSize:"lg",className:"justify-center"})}),(0,s.jsx)("p",{className:"text-body text-text-secondary mt-2",children:"Project Management System"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-8 max-w-sm mx-auto w-full",children:[(0,s.jsxs)("form",{onSubmit:V,className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email Address"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:A,onChange:function(e){k(e.target.value),M("")},className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Enter your email"})]}),U&&K&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:"company-based"===K.type?(0,s.jsx)(o.A,{size:16,className:"text-blue-600"}):"domain-based"===K.type?(0,s.jsx)(d.A,{size:16,className:"text-blue-600"}):(0,s.jsx)(u.A,{size:16,className:"text-blue-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:[U.replace("-"," ").replace(/\b\w/g,function(e){return e.toUpperCase()})," Account"]}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:K.description})]})]})}),(0,s.jsxs)("div",{className:"pt-3",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:z?"text":"password",autoComplete:"current-password",required:!0,value:O,onChange:function(e){return E(e.target.value)},className:"w-full px-3 py-2 pr-10 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Enter your password"}),(0,s.jsx)("button",{type:"button",onClick:function(){return F(!z)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-text-muted hover:text-text-secondary",children:z?(0,s.jsx)(c.A,{size:18}):(0,s.jsx)(l.A,{size:18})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:P,onChange:function(e){return L(e.target.checked)},className:"h-4 w-4 text-primary focus:ring-primary border-border rounded"}),(0,s.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-text-secondary",children:"Remember me"})]}),(0,s.jsx)(i.N_,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Forgot password?"})]}),H&&(0,s.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:H}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)(h.$,{type:"submit",variant:"primary",size:"md",className:"w-full",disabled:D||N,children:D?"Signing in...":"Log in"})})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-text-muted",children:"Or"})})]})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h.$,{type:"button",variant:"secondary",size:"md",className:"w-full",title:"Try SafeHavenDefense with sample data — no signup required.",onClick:function(){var e=document.getElementById("demo-personas");e&&(e.style.display="none"===e.style.display?"block":"none")},children:"Continue with Demo Login"})}),(0,s.jsxs)("div",{id:"demo-personas",style:{display:"none"},className:"mt-4 space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-text-primary text-center mb-3",children:"Choose Demo Account"}),X.map(function(t){var r=t.icon;return(0,s.jsx)("button",{onClick:function(){return function(t){g(t),e("/")}(t.id)},className:"w-full p-3 rounded-lg border text-left transition-all duration-200 ".concat(t.color),title:"Try SafeHavenDefense with sample data — no signup required.",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:(0,s.jsx)(r,{size:14})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:t.title}),(0,s.jsx)("p",{className:"text-xs text-text-muted truncate",children:t.description})]})]})},t.id)})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-caption text-text-muted",children:"© 2024 SafeHavenDefense. All rights reserved."})})]})})}}}]);