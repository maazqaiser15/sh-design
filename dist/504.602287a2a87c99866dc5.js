"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[504],{217:(e,t,s)=>{s.d(t,{n:()=>x});var a=s(4848),r=s(6540),l=s(2460),i=s(3492),n=s(339),c=s(82),d=s(4574),o=s(5919),m=s(2341);const x=({notes:e,onAddNote:t,onEditNote:s,onDeleteNote:x})=>{const[u,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(!0),[j,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(""),f=()=>{j&&v.trim()&&(s(j,v.trim()),b(null),y(""))},N=()=>{b(null),y("")},w=[...e].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," notes"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"is-internal",checked:h,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"is-internal",className:"text-sm text-gray-700",children:"Internal note (only visible to team)"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("textarea",{value:u,onChange:e=>p(e.target.value),placeholder:"Add a note about this project...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsx)(o.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>{u.trim()&&(t(u.trim(),h),p(""))},disabled:!u.trim(),className:"self-start",children:"Add"})]})]}),w.length>0?(0,a.jsx)("div",{className:"space-y-4",children:w.map(e=>{return(0,a.jsx)("div",{className:"p-4 rounded-lg border-l-4 "+(e.isInternal?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300"),children:j===e.id?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.$,{variant:"primary",size:"sm",onClick:f,disabled:!v.trim(),children:"Save"}),(0,a.jsx)(o.$,{variant:"secondary",size:"sm",onClick:N,children:"Cancel"})]})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 mb-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.author})]}),(0,a.jsx)("span",{children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.isInternal&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Internal"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,a.jsx)(o.$,{variant:"ghost",size:"sm",icon:i.A,onClick:()=>(e=>{b(e.id),y(e.content)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>x(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]})})},e.id);var t})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No notes added yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add notes to track project updates and communication"})]})]})}},1747:(e,t,s)=>{s.d(t,{b:()=>d});var a=s(4848),r=s(6540),l=s(9775),i=s(1085),n=s(894),c=s(5919);const d=({isOpen:e,onClose:t,onSave:s,onEdit:d,editingTravel:o,availableTeamMembers:m})=>{const[x,u]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,h]=(0,r.useState)({}),g=!!o;(0,r.useEffect)(()=>{e&&(u(o?{travelType:o.travelType,departureLocation:o.departureLocation,destination:o.destination,departureDate:o.departureDate,returnDate:o.returnDate||"",assignedTeamMembers:o.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),h({}))},[e,o]);const j=(e,t)=>{u(s=>({...s,[e]:t})),p[e]&&h(t=>({...t,[e]:""}))},b=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),h(e),0===Object.keys(e).length})())return;const a={...x,returnDate:x.returnDate||void 0};g&&d?d(o.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:x.travelType,onChange:e=>j("travelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>j("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:x.destination,onChange:e=>j("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>j("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>j("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),b().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",b().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void u(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(c.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(c.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,s)=>{s.d(t,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]}]},2528:(e,t,s)=>{s.d(t,{y:()=>x});var a=s(4848),r=s(6540),l=s(7379),i=s(2761),n=s(339),c=s(82),d=s(1676),o=s(5919),m=s(2341);const x=({documents:e,onUploadDocument:t,onDeleteDocument:s,onDownloadDocument:x})=>{const[u,p]=(0,r.useState)(!1),h=(0,r.useRef)(null),g=[{value:"contract",label:"Contract"},{value:"site-map",label:"Site Map"},{value:"permit",label:"Permit"},{value:"technical",label:"Technical"},{value:"other",label:"Other"}],j=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},b=e=>{t(e,"other")};return(0,a.jsxs)(m.Z,{className:"p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)(o.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>h.current?.click(),children:"Upload Document"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors mb-6 "+(u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),p(!0)},onDragLeave:e=>{e.preventDefault(),p(!1)},onDrop:e=>{e.preventDefault(),p(!1);const t=Array.from(e.dataTransfer.files);t.length>0&&b(t[0])},children:[(0,a.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Drag and drop files here, or"," ",(0,a.jsx)("button",{onClick:()=>h.current?.click(),className:"text-blue-600 hover:text-blue-700 font-medium",children:"browse"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG"}),(0,a.jsx)("input",{ref:h,type:"file",onChange:e=>{const t=e.target.files;t&&t.length>0&&b(t[0])},className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"})]}),e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(r=e.type,r.includes("pdf")?"📄":r.includes("image")?"🖼️":r.includes("word")||r.includes("document")?"📝":r.includes("excel")||r.includes("spreadsheet")?"📊":"📁")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:j(e.size)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(t=e.uploadedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full",children:g.find(t=>t.value===e.category)?.label})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.$,{variant:"ghost",size:"sm",icon:l.A,onClick:()=>x(e),className:"p-2",children:(0,a.jsx)("span",{className:"sr-only",children:"Download"})}),(0,a.jsx)(o.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>s(e.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]},e.id);var t,r})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No documents uploaded yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload contracts, site maps, and other project files"})]})]})}},2845:(e,t,s)=>{s.d(t,{Qp:()=>l});var a=s(9803);const r=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),l=()=>a.d.map(r)},4722:(e,t,s)=>{s.d(t,{W:()=>c});var a=s(4848),r=s(6540),l=s(799),i=s(5919),n=s(894);const c=({isOpen:e,onClose:t,onAssignTeam:s,availableMembers:c,assignedMemberIds:d=[]})=>{const[o,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,j]=(0,r.useState)(d),b=(0,r.useMemo)(()=>c.filter(e=>{const t=e.name.toLowerCase().includes(o.toLowerCase())||e.role.toLowerCase().includes(o.toLowerCase()),s=!x||e.role===x,a=!p||e.status===p;return t&&s&&a}),[c,o,x,p]),v=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},y=g.length,f=b.length;return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:o,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"})]}),(0,a.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{const e=b.map(e=>e.id);j(e)},children:"Select All"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{j([])},children:"Deselect All"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[f," members found • ",y," selected"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency Badge"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>{return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer "+(g.includes(e.id)?"bg-blue-50":""),onClick:()=>v(e.id),children:[(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>v(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(t=e.name,t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.phone&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.phone})]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),e.availableUntil&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["until ",e.availableUntil]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:e.efficiencyBadge?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.efficiencyBadge}):(0,a.jsx)("span",{className:"text-gray-400",children:"—"})})]},e.id);var t})})]})})}),0===b.length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No team members found matching your criteria."})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsxs)(i.$,{variant:"primary",onClick:()=>{const e=c.filter(e=>g.includes(e.id));s(e),t()},disabled:0===y,children:["Add Team (",y,")"]})]})]})})}},5212:(e,t,s)=>{s.d(t,{C:()=>c});var a=s(4848),r=s(6540),l=s(1813),i=s(894),n=s(5919);const c=({isOpen:e,onClose:t,onSave:s,onEdit:c,editingLogistics:d})=>{const[o,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,u]=(0,r.useState)({}),p=!!d;(0,r.useEffect)(()=>{e&&(m(d?{name:d.name,type:d.type,description:d.description,quantity:d.quantity,location:d.location,expectedDate:d.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),u({}))},[e,d]);const h=(e,t)=>{m(s=>({...s,[e]:t})),x[e]&&u(t=>({...t,[e]:""}))};return(0,a.jsx)(i.a,{isOpen:e,onClose:t,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return o.name.trim()||(e.name="Logistics name is required"),o.description.trim()||(e.description="Description is required"),o.quantity<=0&&(e.quantity="Quantity must be greater than 0"),o.location.trim()||(e.location="Location is required"),o.expectedDate||(e.expectedDate="Expected date is required"),u(e),0===Object.keys(e).length})())return;const a={...o,quantity:Number(o.quantity)};p&&c?c(d.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:o.name,onChange:e=>h("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:o.type,onChange:e=>h("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:o.description,onChange:e=>h("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:o.quantity,onChange:e=>h("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:o.location,onChange:e=>h("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:o.expectedDate,onChange:e=>h("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",variant:"primary",icon:l.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},7504:(e,t,s)=>{s.d(t,{ProjectDetailsPage:()=>z});var a=s(4848),r=s(6540),l=s(7767),i=s(7894);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"VIN-2024-001",stage:"preparation",status:"active",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},c={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var d=s(4722),o=s(5212),m=s(1747),x=s(2321),u=s(3588),p=s(9152),h=s(799),g=s(5719),j=s(1397),b=s(3573),v=s(1314),y=s(7487),f=s(904),N=s(5919),w=s(4138);const D=({project:e,checklist:t,onEdit:s,onEditDates:r,onToggleItem:l,isPreparationStage:i=!1})=>{const n=t.filter(e=>e.completed).length,c=t.length,d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=[{id:"preparation",label:"Preparation",icon:u.A,completed:n===c},{id:"wip",label:"Work in Progress",icon:p.A,completed:!1},{id:"quality",label:"Quality Check",icon:h.A,completed:!1},{id:"completed",label:"Completed",icon:g.A,completed:!1}];return(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:(0,a.jsxs)("div",{className:"flex p-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0 pr-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900 truncate",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full flex-shrink-0",children:e.projectId}),(0,a.jsx)(w.W,{status:e.stage,className:"px-2 py-1 text-xs font-medium rounded-full border bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0"})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(j.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"truncate",children:e.location})]}),(0,a.jsx)("span",{className:"mx-2 text-gray-400",children:"•"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[d(e.startDate)," – ",d(e.endDate)]})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-1",children:e.description}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Preparation Tasks"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[n,"/",c," completed"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>l(e.id),className:"flex-shrink-0 mr-1.5 text-gray-400 hover:text-blue-600 transition-colors","aria-label":`Toggle ${e.label}`,children:e.completed?(0,a.jsx)(v.A,{className:"w-3 h-3 text-green-500"}):(0,a.jsx)(y.A,{className:"w-3 h-3"})}),(0,a.jsx)("span",{className:"text-xs font-medium "+(e.completed?"text-green-600":"text-gray-600"),children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[i&&r&&(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:b.A,onClick:r,className:"text-xs px-3 py-1 h-7",children:"Edit Dates"}),(0,a.jsx)(N.$,{variant:"secondary",size:"sm",icon:f.A,onClick:s,className:"text-xs px-3 py-1 h-7",children:"Edit"})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 w-48",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"relative",children:o.map((e,t)=>{e.icon;const s="preparation"===e.id,r=e.completed;return(0,a.jsxs)("div",{className:"flex items-start mb-4 last:mb-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2 flex-shrink-0 "+(r?"bg-green-500 border-green-500 text-white":s?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-500"),children:(0,a.jsx)("span",{className:"text-sm font-semibold",children:r?(0,a.jsx)(v.A,{className:"w-5 h-5"}):t+1})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-bold "+(r?"text-green-600":s?"text-blue-600":"text-gray-600"),children:e.label}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["preparation"===e.id&&"Complete all preparation tasks","wip"===e.id&&"Begin project execution and installation","quality"===e.id&&"Review and verify installation quality","completed"===e.id&&"Project successfully completed"]})]}),t<o.length-1&&(0,a.jsx)("div",{className:"absolute left-5 top-10 w-0.5 h-12 bg-gray-200"})]},e.id)})}),(0,a.jsxs)("div",{className:"mt-6 text-center",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Progress"}),(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-700",children:[n,"/",c]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"completed"})]})]})})]})})};var S=s(8473),T=s(2528),C=s(217),A=s(9809),k=s(3729),L=s(5732),M=s(9237),I=s(7596),O=s(1813),P=s(894);const q=({isOpen:e,onClose:t,onAssignTrailer:s,availableTrailers:l,assignedTrailerId:i})=>{const[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[m,x]=(0,r.useState)(i||null),u=(0,r.useMemo)(()=>l.filter(e=>{const t=e.trailerName.toLowerCase().includes(n.toLowerCase())||e.registrationNumber.toLowerCase().includes(n.toLowerCase())||e.currentLocation.toLowerCase().includes(n.toLowerCase()),s=!d||e.status===d;return t&&s}),[l,n,d]),p=()=>{t(),c(""),o(""),x(i||null)},g=e=>{switch(e.status){case"available":return(0,a.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,a.jsx)(k.A,{size:14,className:"mr-1"}),"Available"]});case"low_stock":return(0,a.jsxs)("span",{className:"text-yellow-600 flex items-center",children:[(0,a.jsx)(L.A,{size:14,className:"mr-1"}),"Low Stock"]});case"unavailable":return(0,a.jsxs)("span",{className:"text-red-600 flex items-center",children:[(0,a.jsx)(M.A,{size:14,className:"mr-1"}),"Unavailable until ",e.unavailableUntil]});default:return(0,a.jsx)("span",{className:"text-gray-600",children:e.status})}};return(0,a.jsx)(P.a,{isOpen:e,onClose:p,title:"Assign Trailer to Project",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:n,onChange:e=>c(e.target.value)}),n&&(0,a.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(M.A,{size:16})})]}),(0,a.jsxs)("select",{className:"w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>o(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"})]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:0===u.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(I.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:u.map(e=>{const t=(e=>"available"===e.status)(e),s=m===e.id,r=(e=>({filmSqFt:e.inventory.filmSheets.reduce((e,t)=>e+t.currentStock,0),toolsStatus:e.inventory.tools.filter(e=>"good"===e.status).length===e.inventory.tools.length?"good":"needs_attention"}))(e);return(0,a.jsxs)("div",{className:`p-4 transition-colors ${t?"hover:bg-gray-50 cursor-pointer":"bg-gray-50 cursor-not-allowed opacity-60"} ${s?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>{return t&&(s=e.id,void x(s));var s},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:t?s?(0,a.jsx)(k.A,{className:"w-5 h-5 text-blue-600"}):(0,a.jsx)(y.A,{className:"w-5 h-5 text-gray-300"}):(0,a.jsx)(M.A,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium "+(t?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,a.jsx)("span",{className:"text-xs "+(t?"text-gray-500":"text-gray-400"),children:e.registrationNumber})]}),(0,a.jsx)("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 mr-1"}),(0,a.jsx)("span",{children:e.currentLocation})]})})]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,a.jsx)("div",{className:"text-sm mb-1",children:g(e)}),t&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(O.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Film: ",r.filmSqFt," sq ft"]})]})})]})]}),s&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-white rounded border",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Inventory Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"Tools"}),(0,a.jsx)("div",{className:"space-y-1",children:e.inventory.tools.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-600",children:e.name}),(0,a.jsxs)("span",{className:"font-medium "+("good"===e.status?"text-green-600":"low"===e.status?"text-yellow-600":"text-red-600"),children:[e.currentStock,"/",e.threshold]})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-600 mb-1",children:"Film Sheets"}),(0,a.jsx)("div",{className:"space-y-1",children:e.inventory.filmSheets.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-gray-600",children:e.sheetType}),(0,a.jsxs)("span",{className:"font-medium "+("good"===e.status?"text-green-600":"low"===e.status?"text-yellow-600":"text-red-600"),children:[e.currentStock," sq ft"]})]},t))})]})]})]})]},e.id)})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(N.$,{variant:"secondary",onClick:p,children:"Cancel"}),(0,a.jsx)(N.$,{variant:"primary",onClick:()=>{const e=l.find(e=>e.id===m);e&&(s(e),t())},disabled:!m,children:i?"Update Trailer":"Assign Trailer"})]})]})})};var $=s(2845);const z=()=>{const{projectId:e}=(0,l.g)(),{setBreadcrumbs:t}=(0,i.iQ)(),[s]=(0,r.useState)(n),[u,p]=(0,r.useState)(c),[h,g]=(0,r.useState)(!1),[j,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[L,M]=(0,r.useState)(null),[I,O]=(0,r.useState)(!1),[z,E]=(0,r.useState)(!1),[U,B]=(0,r.useState)(null),[R,F]=(0,r.useState)(!1),[V,Z]=(0,r.useState)(null),[W,J]=(0,r.useState)(!1),[_]=(0,r.useState)((0,$.Qp)());(0,r.useEffect)(()=>{t([{label:"Dashboard",href:"/dashboard"},{label:"Projects",href:"/projects"},{label:"Project Details",href:`/projects/${e}`}])},[s.name,e]);const Q=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};p(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},X=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};p(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},G=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};p(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},H="preparation"===s.stage||"PV90"===s.status||"UB"===s.status||"WB"===s.status;return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,a.jsx)(D,{project:s,checklist:u.checklist,onEdit:()=>{g(!0)},onEditDates:()=>{F(!0)},onToggleItem:e=>{p(t=>({...t,checklist:t.checklist.map(t=>{if(t.id===e){const e={...t,completed:!t.completed};return e.completed?(e.completedAt=(new Date).toISOString(),e.completedBy="Current User"):(e.completedAt=void 0,e.completedBy=void 0),e}return t})}))},isPreparationStage:H}),(0,a.jsx)(S.X,{assignedTeam:u.assignedTeam,travelPlans:u.logisticsTravel.travelPlans,assignedTrailer:V,projectFilmRequirements:[{sheetType:"BR",required:30,available:0,status:"missing"},{sheetType:"Riot+",required:25,available:0,status:"missing"},{sheetType:"Riot",required:20,available:0,status:"missing"},{sheetType:"Riot -",required:15,available:0,status:"missing"},{sheetType:"FER",required:12,available:0,status:"missing"},{sheetType:"Smash",required:10,available:0,status:"missing"},{sheetType:"Tint NI",required:8,available:0,status:"missing"},{sheetType:"Tint Incl",required:6,available:0,status:"missing"},{sheetType:"Anchoring",required:5,available:0,status:"missing"},{sheetType:"Kevlar",required:3,available:0,status:"missing"},{sheetType:"Stripping",required:2,available:0,status:"missing"}],onViewTeam:()=>{console.log("View team details"),alert("View Team Details - Coming Soon")},onAssignTeam:()=>{b(!0)},onEditTeam:()=>{y(!0)},onSetupTravel:()=>{p(e=>({...e,checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onAddTravel:()=>{B(null),O(!0)},onEditTravel:e=>{B(e),E(!0)},onDeleteTravel:e=>{p(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.filter(t=>t.id!==e)}}))},onAssignTrailer:()=>{J(!0)},onNotifyHouseManager:e=>{console.log("Notifying house manager:",e)}}),(0,a.jsx)(T.y,{documents:u.documents,onUploadDocument:(t,s)=>{const a={id:`doc-${Date.now()}`,name:t.name,type:t.type,label:s,size:t.size,url:URL.createObjectURL(t),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User",projectId:e||"",category:s};p(e=>({...e,documents:[...e.documents,a]}))},onDeleteDocument:e=>{p(t=>({...t,documents:t.documents.filter(t=>t.id!==e)}))},onDownloadDocument:e=>{console.log("Downloading document:",e.name),alert(`Downloading ${e.name}`)}}),(0,a.jsx)(C.n,{notes:u.notes,onAddNote:(t,s)=>{const a={id:`note-${Date.now()}`,content:t,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e||"",isInternal:s};p(e=>({...e,notes:[...e.notes,a]}))},onEditNote:(e,t)=>{p(s=>({...s,notes:s.notes.map(s=>s.id===e?{...s,content:t,updatedAt:(new Date).toISOString()}:s)}))},onDeleteNote:e=>{p(t=>({...t,notes:t.notes.filter(t=>t.id!==e)}))}}),(0,a.jsx)(P.a,{isOpen:h,onClose:()=>g(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(d.W,{isOpen:j,onClose:()=>b(!1),onAssignTeam:Q,availableMembers:x.N}),(0,a.jsx)(d.W,{isOpen:v,onClose:()=>y(!1),onAssignTeam:Q,availableMembers:x.N,assignedMemberIds:u.assignedTeam?.members.map(e=>e.id)||[]}),(0,a.jsx)(o.C,{isOpen:f,onClose:()=>N(!1),onSave:X}),(0,a.jsx)(o.C,{isOpen:w,onClose:()=>k(!1),onSave:X,onEdit:(e,t)=>{p(s=>({...s,logisticsTravel:{...s.logisticsTravel,logistics:s.logisticsTravel.logistics.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingLogistics:L}),(0,a.jsx)(m.b,{isOpen:I,onClose:()=>O(!1),onSave:G,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(m.b,{isOpen:z,onClose:()=>E(!1),onSave:G,onEdit:(e,t)=>{p(s=>({...s,logisticsTravel:{...s.logisticsTravel,travelPlans:s.logisticsTravel.travelPlans.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingTravel:U,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(A.r,{isOpen:R,onClose:()=>F(!1),onConfirm:(e,t)=>{console.log("Updating project dates:",{startDate:e,endDate:t}),F(!1)},projectTitle:s.name,projectStatus:s.status,initialStartDate:s.startDate,initialEndDate:s.endDate}),(0,a.jsx)(q,{isOpen:W,onClose:()=>J(!1),onAssignTrailer:e=>{Z(e),p(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),J(!1)},availableTrailers:_,assignedTrailerId:V?.id})]})})}},8473:(e,t,s)=>{s.d(t,{X:()=>u});var a=s(4848),r=(s(6540),s(904)),l=s(2053),i=s(9775),n=s(3175),c=s(82),d=s(7596),o=s(1085),m=s(5919),x=s(2341);const u=({assignedTeam:e,travelPlans:t,assignedTrailer:s,projectFilmRequirements:u,onViewTeam:p,onAssignTeam:h,onEditTeam:g,onSetupTravel:j,onAddTravel:b,onEditTravel:v,onDeleteTravel:y,onAssignTrailer:f,onNotifyHouseManager:N})=>{const w=e=>{switch(e){case"available":return"text-green-600 bg-green-50";case"busy":return"text-yellow-600 bg-yellow-50";case"unavailable":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},D=e=>{switch(e){case"available":return"Available";case"busy":return"Busy";case"unavailable":return"Unavailable";default:return e}};return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(x.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assigned Team"})]}),e&&(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[e.count," member",1!==e.count?"s":""]})]}),e&&e.members.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,3).map((e,t)=>(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-600",title:e.name,children:e.name.split(" ").map(e=>e[0]).join("")},e.id)),e.members.length>3&&(0,a.jsxs)("div",{className:"w-8 h-8 rounded-full bg-gray-100 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-500",children:["+",e.members.length-3]})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.leadMember?.name||e.members[0]?.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Team Lead"})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.members.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${w(e.availability)}`,children:D(e.availability)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-gray-400",children:[(0,a.jsx)(l.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"text-xs",children:e.phone})]})]},e.id))}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:p,className:"flex-1 justify-start",children:"View Team Details"}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:g,icon:r.A,className:"px-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit Team"})})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(o.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No team assigned yet"}),(0,a.jsx)(m.$,{variant:"primary",size:"sm",onClick:h,className:"w-full",children:"Assign Team"})]})]}),(0,a.jsxs)(x.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-amber-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Trailer"})]}),s&&(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:f,icon:n.A,children:"Change"})]}),s?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:s.trailerName}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:s.registrationNumber})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("p",{children:["Location: ",s.location]}),(0,a.jsxs)("p",{children:["Status: ",s.status]})]})]}),(0,a.jsx)("div",{className:"flex space-x-2 pt-2",children:(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:f,className:"flex-1 justify-start",children:"View Details"})})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(d.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No trailer assigned yet"}),(0,a.jsx)(m.$,{variant:"primary",size:"sm",onClick:f,className:"w-full",children:"Assign Trailer"})]})]}),(0,a.jsxs)(x.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Setup"})]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:b,icon:r.A,children:"Add"})]}),t.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[t.length," travel plan",1!==t.length?"s":""," created"]}),t.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"flight"===e.travelMethod?"Flight":"road"===e.travelMethod?"Road Trip":"Other Travel"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>v(e),className:"p-1 h-6 w-6",children:(0,a.jsx)(r.A,{className:"w-3 h-3"})}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>y(e.id),className:"p-1 h-6 w-6 text-red-500 hover:text-red-700",children:(0,a.jsx)(c.A,{className:"w-3 h-3"})})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("p",{children:["People: ",e.numberOfPeople]}),(0,a.jsxs)("p",{children:["Hotel: ",e.hotelBooking?"Booked":"Not booked"]})]})]},e.id)),t.length>2&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["+",t.length-2," more plans"]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:j,className:"flex-1 justify-start",children:"View All Travel"}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:b,className:"px-3",children:"Add More"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No travel plans yet"}),(0,a.jsx)(m.$,{variant:"primary",size:"sm",onClick:b,className:"w-full",children:"Setup Travel"})]})]})]})}},9809:(e,t,s)=>{s.d(t,{r:()=>c});var a=s(4848),r=s(6540),l=s(3573),i=s(5919),n=s(894);const c=({isOpen:e,onClose:t,onConfirm:s,projectTitle:c,projectStatus:d,initialStartDate:o="",initialEndDate:m=""})=>{const[x,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,j]=(0,r.useState)({}),[b,v]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(u(o),h(m),j({}),v(null))},[e,o,m]),(0,r.useEffect)(()=>{if(x&&p){const e=new Date(x),t=new Date(p);if(e<t){const s=Math.abs(t.getTime()-e.getTime()),a=Math.ceil(s/864e5);v(`${a} days`)}else v(null)}else v(null)},[x,p]),(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:`Set Project Dates for ${c}`,children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,a.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(d)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>h(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),b&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",b]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(i.$,{variant:"primary",onClick:()=>{(()=>{const e={},t=(new Date).toISOString().split("T")[0];return x?x<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",j(e),0===Object.keys(e).length})()&&(s(x,p),t())},children:"Save Dates"})]})]})})}}}]);