"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[504],{217:(e,t,a)=>{a.d(t,{n:()=>x});var s=a(4848),r=a(6540),l=a(2460),i=a(3492),n=a(339),c=a(82),o=a(4574),d=a(5919),m=a(2341);const x=({notes:e,onAddNote:t,onEditNote:a,onDeleteNote:x})=>{const[u,p]=(0,r.useState)(""),[h,g]=(0,r.useState)(!0),[b,v]=(0,r.useState)(null),[j,y]=(0,r.useState)(""),f=()=>{b&&j.trim()&&(a(b,j.trim()),v(null),y(""))},N=()=>{v(null),y("")},w=[...e].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,s.jsxs)(m.Z,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{className:"w-5 h-5 text-gray-400"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," notes"]})]})]}),(0,s.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"is-internal",checked:h,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"is-internal",className:"text-sm text-gray-700",children:"Internal note (only visible to team)"})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("textarea",{value:u,onChange:e=>p(e.target.value),placeholder:"Add a note about this project...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,s.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>{u.trim()&&(t(u.trim(),h),p(""))},disabled:!u.trim(),className:"self-start",children:"Add"})]})]}),w.length>0?(0,s.jsx)("div",{className:"space-y-4",children:w.map(e=>{return(0,s.jsx)("div",{className:"p-4 rounded-lg border-l-4 "+(e.isInternal?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300"),children:b===e.id?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("textarea",{value:j,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.$,{variant:"primary",size:"sm",onClick:f,disabled:!j.trim(),children:"Save"}),(0,s.jsx)(d.$,{variant:"secondary",size:"sm",onClick:N,children:"Cancel"})]})]}):(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-gray-900 mb-2",children:e.content}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(o.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:e.author})]}),(0,s.jsx)("span",{children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.isInternal&&(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Internal"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",icon:i.A,onClick:()=>(e=>{v(e.id),y(e.content)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,s.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>x(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)("span",{className:"sr-only",children:"Delete"})})]})]})})},e.id);var t})}):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(l.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{className:"text-sm",children:"No notes added yet"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add notes to track project updates and communication"})]})]})}},1747:(e,t,a)=>{a.d(t,{b:()=>o});var s=a(4848),r=a(6540),l=a(9775),i=a(1085),n=a(894),c=a(5919);const o=({isOpen:e,onClose:t,onSave:a,onEdit:o,editingTravel:d,availableTeamMembers:m})=>{const[x,u]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,h]=(0,r.useState)({}),g=!!d;(0,r.useEffect)(()=>{e&&(u(d?{travelType:d.travelType,departureLocation:d.departureLocation,destination:d.destination,departureDate:d.departureDate,returnDate:d.returnDate||"",assignedTeamMembers:d.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),h({}))},[e,d]);const b=(e,t)=>{u(a=>({...a,[e]:t})),p[e]&&h(t=>({...t,[e]:""}))},v=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,s.jsx)(n.a,{isOpen:e,onClose:t,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),h(e),0===Object.keys(e).length})())return;const s={...x,returnDate:x.returnDate||void 0};g&&o?o(d.id,s):a(s),t()},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,s.jsxs)("select",{value:x.travelType,onChange:e=>b("travelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Flight",children:"Flight"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Train",children:"Train"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,s.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>b("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,s.jsx)("input",{type:"text",value:x.destination,onChange:e=>b("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,s.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>b("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,s.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>b("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),v().length>0&&(0,s.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",v().length,")"]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:v().map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,s.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,s.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void u(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(c.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(c.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,a)=>{a.d(t,{N:()=>s});const s=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},2528:(e,t,a)=>{a.d(t,{y:()=>x});var s=a(4848),r=a(6540),l=a(7379),i=a(2761),n=a(339),c=a(82),o=a(1676),d=a(5919),m=a(2341);const x=({documents:e,onUploadDocument:t,onDeleteDocument:a,onDownloadDocument:x})=>{const[u,p]=(0,r.useState)(!1),h=(0,r.useRef)(null),g=[{value:"contract",label:"Contract"},{value:"site-map",label:"Site Map"},{value:"permit",label:"Permit"},{value:"technical",label:"Technical"},{value:"other",label:"Other"}],b=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},v=e=>{t(e,"other")};return(0,s.jsxs)(m.Z,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,s.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>h.current?.click(),children:"Upload Document"})]}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors mb-6 "+(u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),p(!0)},onDragLeave:e=>{e.preventDefault(),p(!1)},onDrop:e=>{e.preventDefault(),p(!1);const t=Array.from(e.dataTransfer.files);t.length>0&&v(t[0])},children:[(0,s.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Drag and drop files here, or"," ",(0,s.jsx)("button",{onClick:()=>h.current?.click(),className:"text-blue-600 hover:text-blue-700 font-medium",children:"browse"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG"}),(0,s.jsx)("input",{ref:h,type:"file",onChange:e=>{const t=e.target.files;t&&t.length>0&&v(t[0])},className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"})]}),e.length>0?(0,s.jsx)("div",{className:"space-y-3",children:e.map(e=>{return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"text-2xl",children:(r=e.type,r.includes("pdf")?"ðŸ“„":r.includes("image")?"ðŸ–¼ï¸":r.includes("word")||r.includes("document")?"ðŸ“":r.includes("excel")||r.includes("spreadsheet")?"ðŸ“Š":"ðŸ“")}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,s.jsx)("span",{children:b(e.size)}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:(t=e.uploadedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full",children:g.find(t=>t.value===e.category)?.label})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.$,{variant:"ghost",size:"sm",icon:l.A,onClick:()=>x(e),className:"p-2",children:(0,s.jsx)("span",{className:"sr-only",children:"Download"})}),(0,s.jsx)(d.$,{variant:"ghost",size:"sm",icon:c.A,onClick:()=>a(e.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,s.jsx)("span",{className:"sr-only",children:"Delete"})})]})]},e.id);var t,r})}):(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{className:"text-sm",children:"No documents uploaded yet"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload contracts, site maps, and other project files"})]})]})}},2845:(e,t,a)=>{a.d(t,{Qp:()=>l});var s=a(9803);const r=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),l=()=>s.d.map(r)},4722:(e,t,a)=>{a.d(t,{W:()=>u});var s=a(4848),r=a(6540),l=a(3573),i=a(1397),n=a(2053),c=a(799),o=a(4574),d=a(9237),m=a(5919),x=a(894);const u=({isOpen:e,onClose:t,onAssignTeam:a,availableMembers:u,assignedMemberIds:p=[],projectDetails:h})=>{const[g,b]=(0,r.useState)(""),[v,j]=(0,r.useState)(""),[y,f]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[T,S]=(0,r.useState)(p),[D,A]=(0,r.useState)(1),k=15,C=(0,r.useMemo)(()=>u.map(e=>e.location).filter((e,t,a)=>a.indexOf(e)===t&&e).sort(),[u]),M=(0,r.useMemo)(()=>u.filter(e=>{const t=e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase())||e.phone?.toLowerCase().includes(g.toLowerCase()),a=!v||e.role===v,s=!y||e.status===y,r=!N||e.location===N;return t&&a&&s&&r}),[u,g,v,y,N]),L=Math.ceil(M.length/k),O=(0,r.useMemo)(()=>{const e=(D-1)*k;return M.slice(e,e+k)},[M,D,k]),I=e=>{const t=u.find(t=>t.id===e);t&&"Available"===t.status&&S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},q=e=>new Date(e).toLocaleDateString("en-GB"),P=T.length,R=M.length,U=u.filter(e=>T.includes(e.id));return(0,s.jsx)(x.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"xl",children:(0,s.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[h&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,s.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,s.jsx)("span",{className:"font-medium",children:q(h.startDate)}),(0,s.jsx)("span",{className:"mx-2",children:"â†’"}),(0,s.jsx)("span",{className:"font-medium",children:q(h.endDate)})]})]})}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:g,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Roles"}),(0,s.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,s.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,s.jsx)("option",{value:"Installer",children:"Installer"}),(0,s.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,s.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"Available",children:"Available"}),(0,s.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),C.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),P>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",P,")"]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:U.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void S(e=>e.filter(e=>e!==t));var t},className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(d.A,{className:"w-3 h-3"})})]},e.id))})]}),(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[R," members found"]})}),(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(e=>{const t="Unavailable"===e.status,a=T.includes(e.id);return(0,s.jsxs)("tr",{className:`${t?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"} ${a?"bg-blue-50":""}`,onClick:()=>!t&&I(e.id),title:t?`Unavailable until ${e.unavailableUntil?q(e.unavailableUntil):"TBD"} â€” cannot assign.`:"",children:[(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("input",{type:"checkbox",checked:a,disabled:t,onChange:()=>!t&&I(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(r=e.name,r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(n.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.phone||"â€”"})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,s.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",q(e.unavailableUntil)]})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.location||"â€”"})]})})]},e.id);var r})})]})})}),L>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(D-1)*k+1," to ",Math.min(D*k,R)," of ",R," results"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.max(e-1,1)),disabled:1===D,children:"Previous"}),(0,s.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[D," of ",L]}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.min(e+1,L)),disabled:D===L,children:"Next"})]})]}),0===M.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(m.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsxs)(m.$,{variant:"primary",onClick:()=>{const e=u.filter(e=>T.includes(e.id));a(e),t()},disabled:0===P,children:["Add Team Members (",P,")"]})]})]})})}},5212:(e,t,a)=>{a.d(t,{C:()=>c});var s=a(4848),r=a(6540),l=a(1813),i=a(894),n=a(5919);const c=({isOpen:e,onClose:t,onSave:a,onEdit:c,editingLogistics:o})=>{const[d,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,u]=(0,r.useState)({}),p=!!o;(0,r.useEffect)(()=>{e&&(m(o?{name:o.name,type:o.type,description:o.description,quantity:o.quantity,location:o.location,expectedDate:o.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),u({}))},[e,o]);const h=(e,t)=>{m(a=>({...a,[e]:t})),x[e]&&u(t=>({...t,[e]:""}))};return(0,s.jsx)(i.a,{isOpen:e,onClose:t,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return d.name.trim()||(e.name="Logistics name is required"),d.description.trim()||(e.description="Description is required"),d.quantity<=0&&(e.quantity="Quantity must be greater than 0"),d.location.trim()||(e.location="Location is required"),d.expectedDate||(e.expectedDate="Expected date is required"),u(e),0===Object.keys(e).length})())return;const s={...d,quantity:Number(d.quantity)};p&&c?c(o.id,s):a(s),t()},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,s.jsx)("input",{type:"text",value:d.name,onChange:e=>h("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{value:d.type,onChange:e=>h("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Material",children:"Material"}),(0,s.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,s.jsx)("textarea",{value:d.description,onChange:e=>h("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,s.jsx)("input",{type:"number",min:"1",value:d.quantity,onChange:e=>h("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,s.jsx)("input",{type:"text",value:d.location,onChange:e=>h("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,s.jsx)("input",{type:"date",value:d.expectedDate,onChange:e=>h("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(n.$,{type:"submit",variant:"primary",icon:l.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},7504:(e,t,a)=>{a.d(t,{ProjectDetailsPage:()=>U});var s=a(4848),r=a(6540),l=a(7767),i=a(7894);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"VIN-2024-001",stage:"preparation",status:"active",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},c={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var o=a(4722),d=a(5212),m=a(1747),x=a(2321),u=a(3588),p=a(9152),h=a(799),g=a(5719),b=a(1397),v=a(3573),j=a(1314),y=a(7487),f=a(904),N=a(5919),w=a(4138);const T=({project:e,checklist:t,onEdit:a,onEditDates:r,onToggleItem:l,isPreparationStage:i=!1})=>{const n=t.filter(e=>e.completed).length,c=t.length,o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=[{id:"preparation",label:"Preparation",icon:u.A,completed:n===c},{id:"wip",label:"Work in Progress",icon:p.A,completed:!1},{id:"quality",label:"Quality Check",icon:h.A,completed:!1},{id:"completed",label:"Completed",icon:g.A,completed:!1}];return(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm mb-8",children:(0,s.jsxs)("div",{className:"flex py-6 px-6",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0 pr-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900 truncate",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full flex-shrink-0",children:e.projectId}),(0,s.jsx)(w.W,{status:e.stage,className:"px-2 py-1 text-xs font-medium rounded-full border bg-blue-100 text-blue-700 border-blue-200 flex-shrink-0"})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(b.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"truncate",children:e.location})]}),(0,s.jsx)("span",{className:"mx-2 text-gray-400",children:"â€¢"}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(v.A,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:[o(e.startDate)," â€“ ",o(e.endDate)]})]})]}),e.description&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-1",children:e.description}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Preparation Tasks"})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>l(e.id),className:"flex-shrink-0 mr-1.5 text-gray-400 hover:text-blue-600 transition-colors","aria-label":`Toggle ${e.label}`,children:e.completed?(0,s.jsx)(j.A,{className:"w-3 h-3 text-green-500"}):(0,s.jsx)(y.A,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"text-xs font-medium "+(e.completed?"text-green-600":"text-gray-600"),children:e.label})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[i&&r&&(0,s.jsx)(N.$,{variant:"secondary",size:"sm",icon:v.A,onClick:r,className:"text-xs px-3 py-1 h-7",children:"Edit Dates"}),(0,s.jsx)(N.$,{variant:"secondary",size:"sm",icon:f.A,onClick:a,className:"text-xs px-3 py-1 h-7",children:"Edit"})]})]}),(0,s.jsx)("div",{className:"flex-shrink-0",style:{width:"360px"},children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 w-0.5 h-full bg-gray-200"}),(0,s.jsx)("div",{className:"relative pl-4",children:d.map((e,t)=>{e.icon;const a="preparation"===e.id,r=e.completed;return(0,s.jsxs)("div",{className:"flex items-center mb-3 last:mb-0",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center border-2 flex-shrink-0 "+(r?"bg-green-500 border-green-500 text-white":a?"bg-blue-500 border-blue-500 text-white":"bg-white border-gray-300 text-gray-500"),children:(0,s.jsx)("span",{className:"text-xs font-semibold",children:r?(0,s.jsx)(j.A,{className:"w-4 h-4"}):t+1})}),(0,s.jsxs)("div",{className:"ml-3 flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-bold "+(r?"text-green-600":a?"text-blue-600":"text-gray-600"),children:e.label}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-0.5",children:["preparation"===e.id&&"Complete all preparation tasks","wip"===e.id&&"Begin project execution and installation","quality"===e.id&&"Review and verify installation quality","completed"===e.id&&"Project successfully completed"]})]})]},e.id)})})]})})]})})};var S=a(9909),D=a(2528),A=a(217),k=a(9809),C=a(3729),M=a(5732),L=a(9237),O=a(7596),I=a(894);const q=({isOpen:e,onClose:t,onAssignTrailer:a,availableTrailers:l,assignedTrailerId:i})=>{const[n,c]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[u,p]=(0,r.useState)(i||null),g=(0,r.useMemo)(()=>{const e=l.map(e=>e.currentLocation);return[...new Set(e)].sort()},[l]),v=(0,r.useMemo)(()=>l.filter(e=>{const t=e.trailerName.toLowerCase().includes(n.toLowerCase())||e.registrationNumber.toLowerCase().includes(n.toLowerCase())||e.currentLocation.toLowerCase().includes(n.toLowerCase()),a=!o||e.status===o,s=!m||e.currentLocation===m;return t&&a&&s}),[l,n,o,m]),j=()=>{t(),c(""),d(""),p(i||null)};return(0,s.jsx)(I.a,{isOpen:e,onClose:j,title:"Assign Trailer to Project",size:"lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:n,onChange:e=>c(e.target.value)}),n&&(0,s.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,s.jsx)(L.A,{size:16})})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>d(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,s.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),g.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===v.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,s.jsx)(O.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,s.jsx)("div",{className:"space-y-3",children:v.map(e=>{const t=(e=>"available"===e.status)(e),a=u===e.id;return(e=>{e.inventory.filmSheets.reduce((e,t)=>e+t.currentStock,0),e.inventory.tools.filter(e=>"good"===e.status).length,e.inventory.tools.length})(e),(0,s.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 "+(t?a?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>{return t&&(a=e.id,void p(a));var a},children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-1",children:t?a?(0,s.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(C.A,{className:"w-3 h-3 text-white"})}):(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,s.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,s.jsx)(L.A,{className:"w-3 h-3 text-gray-500"})})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,s.jsx)(O.A,{className:"w-6 h-6 text-blue-600"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-1 "+(t?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,s.jsx)("p",{className:"text-sm "+(t?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,s.jsx)(b.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{children:e.currentLocation})]})]}),(0,s.jsx)("div",{className:"flex items-center",children:"available"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,s.jsx)(C.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,s.jsx)(M.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,s.jsx)(L.A,{className:"w-3 h-3 mr-1"}),"Unavailable until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})})]})]})},e.id)})})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(N.$,{variant:"secondary",onClick:j,children:"Cancel"}),(0,s.jsx)(N.$,{variant:"primary",onClick:()=>{const e=l.find(e=>e.id===u);e&&(a(e),t())},disabled:!u,children:i?"Update Trailer":"Assign Trailer"})]})]})})};var P=a(7235),R=a(2845);const U=()=>{const{projectId:e}=(0,l.g)(),{setBreadcrumbs:t}=(0,i.iQ)(),{showToast:a}=(0,P.d)(),[u]=(0,r.useState)(n),[p,h]=(0,r.useState)(c),[g,b]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[y,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!1),[L,O]=(0,r.useState)(null),[U,$]=(0,r.useState)(!1),[z,E]=(0,r.useState)(!1),[F,B]=(0,r.useState)(null),[Z,W]=(0,r.useState)(!1),[J,V]=(0,r.useState)(null),[_,G]=(0,r.useState)(!1),[Q]=(0,r.useState)((0,R.Qp)());(0,r.useEffect)(()=>{t([{label:"Dashboard",href:"/dashboard"},{label:"Projects",href:"/projects"},{label:"Project Details",href:`/projects/${e}`}])},[u.name,e]);const X=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};h(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},K=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};h(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},H=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};h(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},Y="preparation"===u.stage||"PV90"===u.status||"UB"===u.status||"WB"===u.status;return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"w-full px-4 py-6",children:[(0,s.jsx)(T,{project:u,checklist:p.checklist,onEdit:()=>{b(!0)},onEditDates:()=>{W(!0)},onToggleItem:e=>{h(t=>({...t,checklist:t.checklist.map(t=>{if(t.id===e){const e={...t,completed:!t.completed};return e.completed?(e.completedAt=(new Date).toISOString(),e.completedBy="Current User"):(e.completedAt=void 0,e.completedBy=void 0),e}return t})}))},isPreparationStage:Y}),(0,s.jsx)(S.X,{assignedTeam:p.assignedTeam,travelPlans:p.logisticsTravel.travelPlans,assignedTrailer:J,projectFilmRequirements:[{sheetType:"BR",required:30,available:0,status:"missing"},{sheetType:"Riot+",required:25,available:0,status:"missing"},{sheetType:"Riot",required:20,available:0,status:"missing"},{sheetType:"Riot -",required:15,available:0,status:"missing"},{sheetType:"FER",required:12,available:0,status:"missing"},{sheetType:"Smash",required:10,available:0,status:"missing"},{sheetType:"Tint NI",required:8,available:0,status:"missing"},{sheetType:"Tint Incl",required:6,available:0,status:"missing"},{sheetType:"Anchoring",required:5,available:0,status:"missing"},{sheetType:"Kevlar",required:3,available:0,status:"missing"},{sheetType:"Stripping",required:2,available:0,status:"missing"}],onViewTeam:()=>{console.log("View team details"),alert("View Team Details - Coming Soon")},onAssignTeam:()=>{j(!0)},onEditTeam:()=>{f(!0)},onSetupTravel:()=>{h(e=>({...e,checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onAddTravel:()=>{B(null),$(!0)},onEditTravel:e=>{B(e),E(!0)},onDeleteTravel:e=>{h(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.filter(t=>t.id!==e)}}))},onAssignTrailer:()=>{G(!0)},onNotifyHouseManager:e=>{console.log("Notifying house manager:",e),a(e)},onUploadReceipt:e=>{console.log("Uploading shipment receipt:",e.name)},onRemoveReceipt:e=>{console.log("Removing receipt:",e)},onMarkCompleted:()=>{console.log("Marking inventory as completed")},onUpdatePreparationTask:(e,t)=>{h(a=>({...a,checklist:a.checklist.map(a=>{if(a.label===e){const e={...a,completed:t};return t?(e.completedAt=(new Date).toISOString(),e.completedBy="Current User"):(e.completedAt=void 0,e.completedBy=void 0),e}return a})}))}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(D.y,{documents:p.documents,onUploadDocument:(t,a)=>{const s={id:`doc-${Date.now()}`,name:t.name,type:t.type,label:a,size:t.size,url:URL.createObjectURL(t),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User",projectId:e||"",category:a};h(e=>({...e,documents:[...e.documents,s]}))},onDeleteDocument:e=>{h(t=>({...t,documents:t.documents.filter(t=>t.id!==e)}))},onDownloadDocument:e=>{console.log("Downloading document:",e.name),alert(`Downloading ${e.name}`)}}),(0,s.jsx)(A.n,{notes:p.notes,onAddNote:(t,a)=>{const s={id:`note-${Date.now()}`,content:t,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e||"",isInternal:a};h(e=>({...e,notes:[...e.notes,s]}))},onEditNote:(e,t)=>{h(a=>({...a,notes:a.notes.map(a=>a.id===e?{...a,content:t,updatedAt:(new Date).toISOString()}:a)}))},onDeleteNote:e=>{h(t=>({...t,notes:t.notes.filter(t=>t.id!==e)}))}})]}),(0,s.jsx)(I.a,{isOpen:g,onClose:()=>b(!1),title:"Edit Project",size:"md",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,s.jsx)("div",{className:"flex justify-end space-x-3",children:(0,s.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,s.jsx)(o.W,{isOpen:v,onClose:()=>j(!1),onAssignTeam:X,availableMembers:x.N,projectDetails:u}),(0,s.jsx)(o.W,{isOpen:y,onClose:()=>f(!1),onAssignTeam:X,availableMembers:x.N,assignedMemberIds:p.assignedTeam?.members.map(e=>e.id)||[],projectDetails:u}),(0,s.jsx)(d.C,{isOpen:N,onClose:()=>w(!1),onSave:K}),(0,s.jsx)(d.C,{isOpen:C,onClose:()=>M(!1),onSave:K,onEdit:(e,t)=>{h(a=>({...a,logisticsTravel:{...a.logisticsTravel,logistics:a.logisticsTravel.logistics.map(a=>a.id===e?{...a,...t,updatedAt:(new Date).toISOString()}:a)}}))},editingLogistics:L}),(0,s.jsx)(m.b,{isOpen:U,onClose:()=>$(!1),onSave:H,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,s.jsx)(m.b,{isOpen:z,onClose:()=>E(!1),onSave:H,onEdit:(e,t)=>{h(a=>({...a,logisticsTravel:{...a.logisticsTravel,travelPlans:a.logisticsTravel.travelPlans.map(a=>a.id===e?{...a,...t,updatedAt:(new Date).toISOString()}:a)}}))},editingTravel:F,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,s.jsx)(k.r,{isOpen:Z,onClose:()=>W(!1),onConfirm:(e,t)=>{console.log("Updating project dates:",{startDate:e,endDate:t}),W(!1)},projectTitle:u.name,projectStatus:u.status,initialStartDate:u.startDate,initialEndDate:u.endDate}),(0,s.jsx)(q,{isOpen:_,onClose:()=>G(!1),onAssignTrailer:e=>{V(e),h(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),G(!1)},availableTrailers:Q,assignedTrailerId:J?.id})]})})}},9809:(e,t,a)=>{a.d(t,{r:()=>c});var s=a(4848),r=a(6540),l=a(3573),i=a(5919),n=a(894);const c=({isOpen:e,onClose:t,onConfirm:a,projectTitle:c,projectStatus:o,initialStartDate:d="",initialEndDate:m=""})=>{const[x,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,b]=(0,r.useState)({}),[v,j]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(u(d),h(m),b({}),j(null))},[e,d,m]),(0,r.useEffect)(()=>{if(x&&p){const e=new Date(x),t=new Date(p);if(e<t){const a=Math.abs(t.getTime()-e.getTime()),s=Math.ceil(a/864e5);j(`${s} days`)}else j(null)}else j(null)},[x,p]),(0,s.jsx)(n.a,{isOpen:e,onClose:t,title:`Set Project Dates for ${c}`,children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,s.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(o)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,s.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>h(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,s.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),v&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-green-800",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",v]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(i.$,{variant:"primary",onClick:()=>{(()=>{const e={},t=(new Date).toISOString().split("T")[0];return x?x<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",b(e),0===Object.keys(e).length})()&&(a(x,p),t())},children:"Save Dates"})]})]})})}},9909:(e,t,a)=>{a.d(t,{X:()=>D});var s=a(4848),r=a(6540),l=a(1085),i=a(2053),n=a(7596),c=a(3175),o=a(9775),d=a(775),m=a(1314),x=a(339),u=a(3459),p=a(904),h=a(1415),g=a(5919),b=a(2341),v=a(1813),j=a(9237),y=a(1676);const f=({filmRequirements:e,assignedTrailer:t,onUploadReceipt:a,onRemoveReceipt:l,onMarkCompleted:i,onUpdatePreparationTask:n})=>{const[c,o]=(0,r.useState)([]),[d,x]=(0,r.useState)(!1),p=(0,r.useRef)(null),h=e=>t&&{BR:15,"Riot+":10,Riot:8,"Riot -":5,FER:3,Smash:2,"Tint NI":1,"Tint Incl":1,Anchoring:0,Kevlar:0}[e]||0;return(0,s.jsxs)(b.Z,{className:"p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-purple-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Logistics"})]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:t?`${t.trailerName}`:"No trailer"})]}),(0,s.jsx)("div",{className:"mb-4 pb-3 border-b border-gray-200",children:(0,s.jsx)("div",{className:"flex items-center justify-between text-xs",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("span",{className:"text-gray-600",children:[e.reduce((e,t)=>e+t.required,0)," required"]}),(0,s.jsxs)("span",{className:"text-gray-600",children:[e.reduce((e,t)=>e+h(t.sheetType),0)," in trailer"]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4 mb-4 pb-2 border-b border-gray-200",children:[(0,s.jsx)("div",{className:"col-span-5",children:(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Required"})}),(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"In Trailer"})}),(0,s.jsx)("div",{className:"col-span-4",children:(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Need to Ship"})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)("div",{className:"space-y-2",children:e.slice(0,4).map(e=>{const t=h(e.sheetType),a=((e,t)=>Math.max(0,e-t))(e.required,t);return(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center py-2",children:[(0,s.jsx)("div",{className:"col-span-5",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.sheetType}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[e.required," sheets"]})]})}),(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[t," sheets"]})}),(0,s.jsx)("div",{className:"col-span-4",children:(0,s.jsxs)("span",{className:"text-sm font-medium "+(a>0?"text-amber-600":"text-green-600"),children:[a," sheets"]})})]},e.sheetType)})}),e.length>4&&(0,s.jsx)("div",{className:"text-center py-2",children:(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.length-4," more film types"]})})]}),(0,s.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Receipt"}),c.length>0?(0,s.jsx)("div",{className:"space-y-2",children:c.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg border border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"w-3 h-3 text-green-600"}),(0,s.jsx)("span",{className:"text-xs text-green-800 truncate",children:e.fileName}),(0,s.jsxs)("span",{className:"text-xs text-green-600",children:["(",new Date(e.uploadedAt).toLocaleDateString(),")"]})]}),(0,s.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,o(e=>e.filter(e=>e.id!==t)),void l(t);var t},className:"p-1 h-5 w-5 text-red-500 hover:text-red-700",title:"Remove attachment",children:(0,s.jsx)(j.A,{className:"w-3 h-3"})})]},e.id))}):(0,s.jsx)("div",{className:"text-center py-4 text-gray-500 text-xs",children:"No attachments uploaded"})]}),(0,s.jsx)("div",{className:"mt-auto pt-4",children:d?(0,s.jsxs)("div",{className:"flex items-center justify-center p-2 bg-green-100 rounded-lg border border-green-200",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 text-green-600 mr-2"}),(0,s.jsx)("span",{className:"text-xs text-green-800 font-medium",children:"Inventory Completed"})]}):(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>p.current?.click(),className:"flex-1",children:[(0,s.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Add Attachment"]}),c.length>0&&(0,s.jsxs)(g.$,{variant:"primary",size:"sm",onClick:()=>{x(!0),i(),n&&n("Logistics Confirmed",!0)},className:"flex-1",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Mark Completed"]})]})}),(0,s.jsx)("input",{ref:p,type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const t=e.target.files;t&&t.length>0&&(e=>{const t={id:`receipt-${Date.now()}`,fileName:e.name,fileUrl:URL.createObjectURL(e),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User"};o(e=>[...e,t]),a(e)})(t[0])},className:"hidden"})]})]})};var N=a(82),w=a(894);const T=({isOpen:e,onClose:t,onSave:a,travelType:l,numberOfMembers:i})=>{const[n,c]=(0,r.useState)({travelFrom:"",travelTo:"",numberOfTickets:i,tickets:[]}),[o,d]=(0,r.useState)({});r.useEffect(()=>{if(e){const e=Array.from({length:i},(e,t)=>({id:`ticket-${t+1}`,ticketNumber:"",attachment:void 0,attachmentName:void 0}));c(t=>({...t,numberOfTickets:i,tickets:e})),d({})}},[e,i]);const m=(e,t)=>{c(a=>({...a,[e]:t})),o[e]&&d(t=>({...t,[e]:""}))};return(0,s.jsx)(w.a,{isOpen:e,onClose:t,size:"lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Add Travel Details - ","air"===l?"Air Travel":"Road Travel"]}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(j.A,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"travelFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel From *"}),(0,s.jsx)("input",{type:"text",id:"travelFrom",value:n.travelFrom,onChange:e=>m("travelFrom",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.travelFrom?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),o.travelFrom&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.travelFrom})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"travelTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel To *"}),(0,s.jsx)("input",{type:"text",id:"travelTo",value:n.travelTo,onChange:e=>m("travelTo",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.travelTo?"border-red-300":"border-gray-300"),placeholder:"Enter destination location"}),o.travelTo&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.travelTo})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"numberOfTickets",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Tickets *"}),(0,s.jsx)("input",{type:"number",id:"numberOfTickets",min:"1",max:"50",value:n.numberOfTickets,onChange:e=>(e=>{const t=Math.max(1,Math.min(50,e));c(e=>{const a=e.tickets,s=[...a];if(t>a.length)for(let e=a.length;e<t;e++)s.push({id:`ticket-${e+1}`,ticketNumber:"",attachment:void 0,attachmentName:void 0});else t<a.length&&s.splice(t);return{...e,numberOfTickets:t,tickets:s}})})(parseInt(e.target.value)||1),className:"w-20 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o.numberOfTickets?"border-red-300":"border-gray-300")}),o.numberOfTickets&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.numberOfTickets})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tickets"}),(0,s.jsx)("div",{className:"space-y-4",children:n.tickets.map((e,t)=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Ticket ",t+1]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Number *"}),(0,s.jsx)("input",{type:"text",value:e.ticketNumber,onChange:t=>((e,t)=>{c(a=>({...a,tickets:a.tickets.map(a=>a.id===e?{...a,ticketNumber:t}:a)}));const a=n.tickets.findIndex(t=>t.id===e);o[`ticket-${a}`]&&d(e=>({...e,[`ticket-${a}`]:""}))})(e.id,t.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(o[`ticket-${t}`]?"border-red-300":"border-gray-300"),placeholder:"Enter ticket number"}),o[`ticket-${t}`]&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o[`ticket-${t}`]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:e.attachment?(0,s.jsxs)("div",{className:"flex items-center space-x-2 flex-1",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.attachmentName}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void c(e=>({...e,tickets:e.tickets.map(e=>e.id===t?{...e,attachment:void 0,attachmentName:void 0}:e)}));var t},className:"text-red-600 hover:text-red-800",children:(0,s.jsx)(N.A,{className:"w-4 h-4"})})]}):(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("input",{type:"file",id:`file-${e.id}`,onChange:t=>{const a=t.target.files?.[0];a&&((e,t)=>{c(a=>({...a,tickets:a.tickets.map(a=>a.id===e?{...a,attachment:t,attachmentName:t.name}:a)}))})(e.id,a)},className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),(0,s.jsxs)("label",{htmlFor:`file-${e.id}`,className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Upload attachment"})]})]})})]})]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsx)(g.$,{variant:"outline",onClick:t,children:"Cancel"}),(0,s.jsx)(g.$,{variant:"primary",onClick:()=>{(()=>{const e={};return n.travelFrom.trim()||(e.travelFrom="Travel from location is required"),n.travelTo.trim()||(e.travelTo="Travel to location is required"),n.numberOfTickets<1&&(e.numberOfTickets="At least 1 ticket is required"),n.tickets.forEach((t,a)=>{t.ticketNumber.trim()||(e[`ticket-${a}`]="Ticket number is required")}),d(e),0===Object.keys(e).length})()&&(a(n),t())},children:"Save Travel Details"})]})]})})};var S=a(7235);const D=({assignedTeam:e,travelPlans:t,assignedTrailer:a,projectFilmRequirements:v,onViewTeam:j,onAssignTeam:y,onEditTeam:N,onSetupTravel:w,onAddTravel:D,onEditTravel:A,onDeleteTravel:k,onAssignTrailer:C,onNotifyHouseManager:M,onUploadReceipt:L,onRemoveReceipt:O,onMarkCompleted:I,onUpdatePreparationTask:q})=>{const{showToast:P}=(0,S.d)(),[R,U]=(0,r.useState)({travelRequired:!1,travelType:null,airTravelMembers:1,roadTravelMembers:1,hotelRequired:!1}),[$,z]=(0,r.useState)(!1),[E,F]=(0,r.useState)(!1),[B,Z]=(0,r.useState)(!1),[W,J]=(0,r.useState)(!1),[V,_]=(0,r.useState)(null),G=e=>{switch(e){case"available":return"text-green-600 bg-green-50";case"busy":return"text-yellow-600 bg-yellow-50";case"unavailable":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Q=e=>{switch(e){case"available":return"Available";case"busy":return"Busy";case"unavailable":return"Unavailable";default:return e}},X=e=>{U(t=>({...t,travelType:e}))};return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8 items-stretch",children:[(0,s.jsxs)(b.Z,{className:"p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assigned Team"})]}),e&&(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[e.count," member",1!==e.count?"s":""]})]}),e&&e.members.length>0?(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3 mb-4",children:e.members.map(e=>{return(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center text-xs font-medium text-blue-600",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.role})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${G(e.status)}`,children:Q(e.status)}),"Unavailable"===e.status&&e.unavailableUntil&&(0,s.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:["until ",(t=e.unavailableUntil,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-gray-400",children:[(0,s.jsx)(i.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"text-xs",children:e.phone})]})]})]})},e.id);var t})})}):(0,s.jsxs)("div",{className:"text-center py-8 flex-1 flex flex-col justify-center",children:[(0,s.jsx)(l.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"No team assigned yet"}),(0,s.jsx)(g.$,{variant:"primary",size:"sm",onClick:y,className:"w-full mt-auto",children:"Assign Team"})]})]}),(0,s.jsxs)(b.Z,{className:"p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.A,{className:"w-5 h-5 text-amber-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assign Trailer"})]}),a&&(0,s.jsx)(g.$,{variant:"ghost",size:"sm",onClick:C,icon:c.A,children:"Change"})]}),a?(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:a.trailerName}),(0,s.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:a.registrationNumber})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Location:"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:a.location})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("available"===a.status?"bg-green-100 text-green-800":"in-use"===a.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:a.status})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Films in Trailer:"}),(0,s.jsx)("div",{className:"space-y-1",children:(a?[{type:"BR",quantity:15},{type:"Riot+",quantity:10},{type:"Riot",quantity:8},{type:"Riot -",quantity:5},{type:"FER",quantity:3},{type:"Smash",quantity:2},{type:"Tint NI",quantity:1},{type:"Tint Incl",quantity:1}].filter(e=>e.quantity>0):[]).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-gray-600",children:e.type}),(0,s.jsxs)("span",{className:"text-gray-500",children:[e.quantity," sheets"]})]},t))})]}),a.notes&&(0,s.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Notes:"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:a.notes})]})]})]})}):(0,s.jsxs)("div",{className:"text-center py-8 flex-1 flex flex-col justify-center",children:[(0,s.jsx)(n.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"No trailer assigned yet"}),(0,s.jsx)(g.$,{variant:"primary",size:"sm",onClick:C,className:"w-full mt-auto",children:"Assign Trailer"})]})]}),(0,s.jsx)(f,{filmRequirements:v,assignedTrailer:a,onUploadReceipt:L,onRemoveReceipt:O,onMarkCompleted:I,onUpdatePreparationTask:q}),(0,s.jsxs)(b.Z,{className:"p-6 flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel & Accommodation"})]})}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"travel-required",checked:R.travelRequired,onChange:e=>{return t=e.target.checked,U(e=>({...e,travelRequired:t,travelType:t?e.travelType:null})),void(t?(z(!0),F(!0)):z(!1));var t},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),(0,s.jsx)("label",{htmlFor:"travel-required",className:"text-sm font-medium text-gray-700",children:"Travel Required"})]}),R.travelRequired&&(0,s.jsxs)("div",{className:"ml-7 space-y-3 border-l-2 border-gray-200 pl-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",id:"travel-road",name:"travel-type",checked:"road"===R.travelType,onChange:()=>X("road"),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"}),(0,s.jsxs)("label",{htmlFor:"travel-road",className:"flex items-center space-x-2 text-sm text-gray-700",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Travel by Road"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"radio",id:"travel-air",name:"travel-type",checked:"air"===R.travelType,onChange:()=>X("air"),className:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"}),(0,s.jsxs)("label",{htmlFor:"travel-air",className:"flex items-center space-x-2 text-sm text-gray-700",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Travel by Air"})]})]})]}),"road"===R.travelType&&(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"road-members",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of team members requiring road travel"}),(0,s.jsx)("input",{type:"number",id:"road-members",min:"1",max:"50",value:R.roadTravelMembers,onChange:e=>{return t=parseInt(e.target.value)||1,void U(e=>({...e,roadTravelMembers:Math.max(1,Math.min(50,t))}));var t},className:"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),"air"===R.travelType&&(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"air-members",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of team members requiring air travel"}),(0,s.jsx)("input",{type:"number",id:"air-members",min:"1",max:"50",value:R.airTravelMembers,onChange:e=>{return t=parseInt(e.target.value)||1,void U(e=>({...e,airTravelMembers:Math.max(1,Math.min(50,t))}));var t},className:"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),R.travelType&&!B&&(0,s.jsxs)(g.$,{variant:"primary",size:"sm",onClick:()=>{"road"===R.travelType?(M(),P(`Road travel arranged for ${R.roadTravelMembers} team members`)):"air"===R.travelType&&(M(),P(`Air travel arranged for ${R.airTravelMembers} team members`)),q?.("Travel Setup",!0),Z(!0)},className:"w-full",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Submit Travel Arrangement"]}),B&&R.travelType&&(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsxs)(g.$,{variant:"secondary",size:"sm",onClick:()=>{J(!0)},className:"w-full",children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Add Travel Details"]})})]}),V&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Reservation Details Added"})]}),(0,s.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>{J(!0)},className:"text-blue-600 hover:text-blue-800",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-blue-700",children:"Route:"}),(0,s.jsxs)("span",{className:"text-blue-900 font-medium",children:[V.travelFrom," â†’ ",V.travelTo]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-blue-700",children:"Tickets:"}),(0,s.jsxs)("span",{className:"text-blue-900 font-medium",children:[V.numberOfTickets," ticket",1!==V.numberOfTickets?"s":""]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-blue-700",children:"Attachments:"}),(0,s.jsxs)("span",{className:"text-blue-900 font-medium",children:[V.tickets.filter(e=>e.attachment).length," file",1!==V.tickets.filter(e=>e.attachment).length?"s":""]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"hotel-required",checked:R.hotelRequired,onChange:e=>{return t=e.target.checked,U(e=>({...e,hotelRequired:t})),void(t&&(P("Reminder sent to house manager to do arrangement"),M(),q?.("Travel Setup",!0),F(!0),z(!0)));var t},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),(0,s.jsxs)("label",{htmlFor:"hotel-required",className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Hotel Reservation Required"})]})]}),R.hotelRequired&&(0,s.jsx)("div",{className:"ml-7",children:(0,s.jsxs)(g.$,{variant:"secondary",size:"sm",onClick:()=>{console.log("Add reservation details clicked")},className:"w-full",children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Add Reservation Details"]})})]})})]}),(0,s.jsx)(T,{isOpen:W,onClose:()=>{J(!1)},onSave:e=>{_(e),P("Travel details saved successfully")},travelType:R.travelType||"air",numberOfMembers:"air"===R.travelType?R.airTravelMembers:R.roadTravelMembers})]})}}}]);