/*! For license information please see 653.c993991144c5fcfc5811.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[653],{2369:(e,t,r)=>{r.d(t,{A:()=>o});var n,a=r(4848),s=r(3757),i=r(7581);const o=function(e){var t,r,o=e.title,l=e.columns,c=e.data,d=e.selectableRows,u=e.progressPending,m=e.paginationPerPage,f=e.pagination,h=e.highlightOnHover,x=e.striped,p=e.onRowClicked,y=i.default.div(n||(t=["\n  .rdt_Pagination{\n  padding-right: 50px\n  }\n  .rdt_Pagination #pagination-first-page,\n  .rdt_Pagination #pagination-last-page {\n    display: none !important;\n  }\n"],r||(r=t.slice(0)),n=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))));return(0,a.jsx)(y,{children:(0,a.jsx)("div",{style:{minWidth:"1800px"},children:(0,a.jsx)(s.Ay,{title:o,columns:l,data:c,selectableRows:d,pagination:f,highlightOnHover:h,striped:x,onRowClicked:p,paginationIconFirstPage:!1,paginationIconLastPage:null,progressPending:u,paginationPerPage:m,customStyles:{table:{style:{backgroundColor:"transparent",tableLayout:"fixed"}},headRow:{style:{backgroundColor:"#fff",border:0,minHeight:"48px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}},headCells:{style:{color:"#475569",fontSize:"16px",backgroundColor:"transparent",fontWeight:400,paddingLeft:"16px",paddingRight:"16px",whiteSpace:"nowrap"}},cells:{style:{paddingLeft:"16px",paddingRight:"16px",whiteSpace:"nowrap"}},rows:{style:{minHeight:"56px",backgroundColor:"transparent"}},pagination:{style:{backgroundColor:"transparent",borderTopStyle:"solid",borderTopWidth:"1px",borderTopColor:"#d1d5db",minHeight:"56px"},pageButtonsStyle:{borderRadius:"50%",border:"1px solid #1E293B",height:"32px",width:"32px",padding:"4px",margin:"0 4px",cursor:"pointer",transition:"all 0.25s",color:"#1f2937",fill:"#1f2937","&:hover":{backgroundColor:"#dbeafe"}},'&[id="pagination-first-page"], &[id="pagination-last-page"]':{display:"none !important",margin:0,padding:0,border:"none",width:0,height:0},"&:disabled":{cursor:"unset",color:"#9ca3af",fill:"#9ca3af",border:"1px solid #9ca3af",opacity:.6},noData:{style:{backgroundColor:"transparent",color:"#1d4ed8",fontSize:"16px",fontWeight:"500",padding:"24px"}}}}})})})}},5644:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(4848),a=r(7425);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var i=["label","name","type","placeholder","className","isLeftIcon","isRightIcon"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=function(e){var t=e.label,r=e.name,s=e.type,o=void 0===s?"text":s,c=e.placeholder,d=e.className,u=void 0===d?"":d,m=e.isLeftIcon,f=e.isRightIcon,h=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i);return(0,n.jsxs)("div",{className:"flex flex-col mb-4 ".concat(u),children:[t&&(0,n.jsx)("label",{htmlFor:r,className:"mb-1 font-medium text-gray-700",children:t}),(0,n.jsxs)("div",{className:"relative",children:[m&&(0,n.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:m}),(0,n.jsx)(a.D0,l({id:r,name:r,type:o,placeholder:c,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none \n            ".concat(m?"pl-10":"","\n            ").concat(f?"pr-10":"")},h)),f&&(0,n.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer",children:f})]}),(0,n.jsx)(a.Kw,{name:r,component:"div",className:"text-red-500 text-sm mt-1"})]})}},6090:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(4848),a=r(6749);const s=function(e){var t=e.className,r=e.label,s=e.value,i=e.onChange,o=e.placeholder,l=e.options;return(0,n.jsxs)("div",{className:"relative flex flex-col ".concat(t),children:[r&&(0,n.jsx)("label",{className:"mb-1 text-sm font-medium text-gray-700",children:r}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",{value:s,onChange:i,className:"w-full px-3 py-2 pr-10  border-0 rounded-md focus:outline-none appearance-none",children:[o&&(0,n.jsx)("option",{value:"",children:o}),l.map(function(e){return(0,n.jsx)("option",{value:e.value,children:e.label},e.value)})]}),(0,n.jsx)(a.A,{size:20,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#9ca3af] z-[0]"})]})]})}},6398:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(4848),a=r(799);const s=function(e){var t=e.className,r=e.iconSize,s=e.value,i=e.onChange,o=e.placeholder;return(0,n.jsxs)("div",{className:"relative ".concat(t),children:[(0,n.jsx)("input",{type:"text",value:s,onChange:i,placeholder:o,className:"w-full pl-4 border-0 pr-4 py-2  border-gray-300 rounded-lg  outline-none"}),(0,n.jsx)(a.A,{size:r,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})}},7653:(e,t,r)=>{r.r(t),r.d(t,{Trailers:()=>Ae});var n=r(4848),a=r(6540),s=r(7767),i=r(7596),o=r(339),l=r(1813),c=r(6913),d=r(1397),u=r(1314),m=r(5732),f=r(8954),h=r(5426),x=r(3492),p=r(82),y=r(8931),g=r(6368),v=r(74),b=r(6813),j=r(4186),N=r(3774),w=r(2369);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t=e.trailers,r=(e.onCreateTrailer,e.onViewTrailer),s=e.onEditTrailer,o=e.onArchiveTrailer,l=e.isExecutive,c=void 0!==l&&l,u=e.selectedTrailers,m=void 0===u?[]:u,f=e.onSelectTrailer,y=e.onSelectAllTrailers,w=(e.onBulkAction,(0,j.c)().isMobile),S=k((0,a.useState)(""),2),T=S[0],A=(S[1],k((0,a.useState)(""),2)),O=A[0],P=(A[1],k((0,a.useState)(""),2)),L=P[0],G=(P[1],k((0,a.useState)("trailerName"),2)),E=G[0],I=G[1],R=k((0,a.useState)("asc"),2),B=R[0],D=R[1],z=k((0,a.useState)(1),2),M=z[0],_=z[1],F=k((0,a.useState)(10),2),W=F[0],H=(F[1],k((0,a.useState)(null),2)),U=H[0],$=H[1],q=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=function(e){q.current&&!q.current.contains(e.target)&&$(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var Z=(0,a.useMemo)(function(){var e=(0,N.Hc)(t,{status:O||void 0,state:L||void 0,search:T||void 0});return(0,N.LB)(e,E,B)},[t,T,O,L,E,B]),K=Z.length,V=(Math.ceil(K/W),(M-1)*W),Y=V+W,X=Z.slice(V,Y);return a.useEffect(function(){_(1)},[T,O,L]),(0,n.jsxs)("div",{className:"space-y-6",children:[!w&&(0,n.jsx)(C,{trailers:X,sortBy:E,sortOrder:B,onSort:function(e){E===e?D("asc"===B?"desc":"asc"):(I(e),D("asc"))},onViewTrailer:r,onEditTrailer:s,onArchiveTrailer:o,activeDropdown:U,onDropdownToggle:function(e){$(U===e?null:e)},onMenuAction:function(e,t){switch($(null),e){case"view":r(t);break;case"edit":s(t);break;case"delete":o(t)}},dropdownRef:q,isExecutive:c,selectedTrailers:m,onSelectTrailer:f,onSelectAllTrailers:y}),w&&(0,n.jsx)("div",{className:"space-y-4",children:X.map(function(e){return(0,n.jsxs)(g.Z,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.trailerName}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.registrationNumber})]}),(0,n.jsx)(b.W,{status:e.status})]}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:e.parkingAddress})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end mt-4 gap-2",children:[(0,n.jsx)(v.$,{variant:"ghost",size:"sm",onClick:function(){return r(e)},icon:h.A,children:"View"}),(0,n.jsx)(v.$,{variant:"ghost",size:"sm",onClick:function(){return s(e)},icon:x.A,children:"Edit"}),(0,n.jsx)(v.$,{variant:"ghost",size:"sm",onClick:function(){return o(e)},icon:p.A,className:"text-red-600 hover:text-red-700",children:"Archive"})]})]},e.id)})})]})},C=function(e){var t=e.trailers,r=(e.sortBy,e.sortOrder,e.onSort,e.onViewTrailer,e.onEditTrailer,e.onArchiveTrailer,e.activeDropdown),a=e.onDropdownToggle,s=e.onMenuAction,o=e.dropdownRef;if(e.isExecutive,e.selectedTrailers,e.onSelectTrailer,e.onSelectAllTrailers,0===t.length)return(0,n.jsx)(g.Z,{children:(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"text-gray-400 mb-4",children:(0,n.jsx)(i.A,{size:48,className:"mx-auto"})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});var l=function(e){switch(e){case"Available":return"text-green-600 bg-green-50";case"Unavailable":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},c=[{name:"Trailer Name",selector:function(e){return e.trailerName}},{name:"Registration",selector:function(e){return e.registrationNumber}},{name:"Status",selector:function(e){return e.status},cell:function(e){return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,n.jsx)("span",{className:"inline-flex px-2 py-0.5 text-xs font-medium rounded-full ".concat(l(e.status)),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,n.jsxs)("span",{className:"text-caption text-text-muted",children:["Until ",e.unavailableUntil]})]})})}},{name:"location",selector:function(e){return e.state}},{name:"Actions",selector:function(e){return e.action},cell:function(e){return(0,n.jsxs)("div",{className:"relative inline-block text-left",ref:r===e.id?o:null,onClick:function(e){return e.stopPropagation()},children:[(0,n.jsx)("button",{type:"button",className:"flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:function(t){t.stopPropagation(),a(e.id)},id:"menu-button-".concat(e.id),"aria-expanded":r===e.id,"aria-haspopup":"true",children:(0,n.jsx)(y.A,{size:20})}),r===e.id&&(0,n.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",onClick:function(e){return e.stopPropagation()},children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),s("view",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,n.jsx)(h.A,{size:16,className:"mr-2"}),"View Details"]}),(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),s("edit",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,n.jsx)(x.A,{size:16,className:"mr-2"}),"Edit Trailer"]}),(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),s("delete",e)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,n.jsx)(p.A,{size:16,className:"mr-2"}),"Delete Trailer"]})]})})]})}}];return(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(w.A,{title:"",columns:c,data:t,selectableRows:void 0,pagination:!0,highlightOnHover:void 0,striped:void 0,onRowClicked:void 0,progressPending:void 0,paginationPerPage:void 0})})},A=r(8252),O=r(1951),P=r(904),L=r(7720),G=r(4574),E=[{name:"Beer Tank W/ Hose",threshold:5,inventoryLeft:6,status:"Good on stock"},{name:"Hard Press",threshold:3,inventoryLeft:5,status:"Good on stock"},{name:"Red Card",threshold:6,inventoryLeft:8,status:"Good on stock"},{name:"Olfa",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Olfa Blade Pack",threshold:8,inventoryLeft:12,status:"Good on stock"},{name:"Scrapers",threshold:4,inventoryLeft:2,status:"Low on stock"},{name:"Scraper Blade Pack",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"Pick",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"1 Qrt Acetone",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Phillips Head SD",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Window Squeegee",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Sharps Containers",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Headlamps",threshold:3,inventoryLeft:5,status:"Good on stock"},{name:"Batteries for Headlamps (Pack)",threshold:5,inventoryLeft:8,status:"Good on stock"}],I=[{name:"Rolls of Painters Tape",threshold:6,inventoryLeft:8,status:"Good on stock"},{name:"Caulk Sausage Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Caulk Gun (Sausage)",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Pack Nitrile Gloves",threshold:10,inventoryLeft:15,status:"Good on stock"},{name:"Case of Blue Towels",threshold:5,inventoryLeft:3,status:"Low on stock"},{name:"Tub O' Towels",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Crocodile Wipes",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"Caulking Gun Tips",threshold:8,inventoryLeft:12,status:"Good on stock"}],R=[{name:"Cordless Drill",threshold:1,inventoryLeft:2,status:"Good on stock"},{name:"Allen Key Set",threshold:2,inventoryLeft:4,status:"Good on stock"},{name:"Channel Lock Pliers",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Drill Bit Kit",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Generator W/ Cord",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Micro Fiber Package",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"5 Gal Gas Can",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Air Compressor W/ Hose",threshold:1,inventoryLeft:2,status:"Good on stock"},{name:"Trash Can",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"55 Gal Trash Bags Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Bath Towel",threshold:4,inventoryLeft:5,status:"Good on stock"},{name:"Towel Clips for Hanging",threshold:6,inventoryLeft:9,status:"Good on stock"},{name:"5 Gal Buckets",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Sharpie Pack",threshold:5,inventoryLeft:8,status:"Good on stock"},{name:"Dry Erase Marker Pack",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Square",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Non Serated Scissors",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Ladders",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Tank Fix Kits",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"Extras Spray Nozzles",threshold:4,inventoryLeft:5,status:"Good on stock"},{name:"Broom and Dust Pan",threshold:2,inventoryLeft:2,status:"Good on stock"},{name:"Scotch Brite Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Sos Pad Box",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Glass Thickness Gauge",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"PPE Bin/SDS Binder",threshold:2,inventoryLeft:2,status:"Good on stock"},{name:"Spare Cutter Blades (Box)",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"Tire Patch Kit",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Parking Cones",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Wheel Chalks",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Tongue Lock",threshold:2,inventoryLeft:1,status:"Low on stock"}];function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var z=function(e){var t=e.trailer,r=e.onBack,s=(e.onEdit,e.onArchive,e.onRestock,B((0,a.useState)("cart"),2)),o=s[0],l=s[1],c=B((0,a.useState)(t),2),d=c[0],u=(c[1],[{name:"Tool Name",selector:function(e){return e.name}},{name:"Min Threshold",selector:function(e){return e.threshold}},{name:"Current Inventory",selector:function(e){return e.inventoryLeft}},{name:"Status & Stock Level",selector:function(e){return e.status},cell:function(e){return(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("span",{className:"inline-flex px-2 py-1 mt-1 text-xs font-semibold rounded-full ".concat("Good on stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("Good on stock"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.inventoryLeft/e.threshold*100,100),"%")}})}),(0,n.jsx)("div",{className:"text-xs text-gray-600",children:e.inventoryLeft>e.threshold?(0,n.jsxs)("span",{className:"text-green-600",children:["+",e.inventoryLeft-e.threshold," above threshold"]}):e.inventoryLeft===e.threshold?(0,n.jsx)("span",{className:"text-yellow-600",children:"At threshold"}):0===e.inventoryLeft?(0,n.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,n.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.inventoryLeft," below threshold"]})})]})})}}]);return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsx)(v.$,{variant:"ghost",onClick:r,icon:A.A,className:"p-2",children:"Back"})})}),(0,n.jsxs)(g.Z,{children:[(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,n.jsx)(i.A,{size:30,className:"text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-gray-900",children:d.trailerName}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Name"})]})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(v.$,{icon:O.A,className:"bg-transparent text-[#334155] hover:bg-transparent",children:"  Archive"}),(0,n.jsxs)("button",{className:"bg-transparent rounded-lg hover:bg-transparent text-[#334155] border border-[#CBD5E1] p-2",children:[" ",(0,n.jsx)(P.A,{size:20})," "]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,n.jsx)("div",{className:"font-medium text-gray-900",children:d.registrationNumber})]})}),(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Parking Address"}),(0,n.jsx)("div",{className:"font-medium text-gray-900",children:d.parkingAddress})]})}),(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Project Location"}),(0,n.jsx)("div",{className:"font-medium text-gray-500",children:"-"})]})})]})]}),(0,n.jsx)("div",{className:"absolute inset-[-1px] pointer-events-none shadow-[-5px_-5px_250px_0px_inset_rgba(255,255,255,0.02)]"})]}),(0,n.jsx)(g.Z,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"})}),(0,n.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,n.jsx)("button",{onClick:function(){return l("cart")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("cart"===o?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Cart Item"}),(0,n.jsx)("button",{onClick:function(){return l("caulking")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("caulking"===o?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Caulking Supplies"}),(0,n.jsx)("button",{onClick:function(){return l("trailer")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("trailer"===o?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Trailer Item"}),(0,n.jsx)("button",{onClick:function(){return l("film")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("film"===o?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Film"})]}),"cart"===o&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Cart Item"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each cart item."}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(w.A,{title:"",columns:u,data:E,selectableRows:void 0,pagination:!1,highlightOnHover:void 0,striped:void 0,onRowClicked:void 0,progressPending:void 0,paginationPerPage:void 0})})]}),"caulking"===o&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Caulking Supplies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each caulking supply item."}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(w.A,{title:"",columns:u,data:I,selectableRows:void 0,pagination:!1,highlightOnHover:void 0,striped:void 0,onRowClicked:void 0,progressPending:void 0,paginationPerPage:void 0})})]}),"trailer"===o&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Trailer Item"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each trailer item."}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(w.A,{title:"",columns:u,data:R,selectableRows:void 0,pagination:!1,highlightOnHover:void 0,striped:void 0,onRowClicked:void 0,progressPending:void 0,paginationPerPage:void 0})})]}),"film"===o&&(0,n.jsx)("div",{className:"space-y-4",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsx)(w.A,{title:"",columns:u,data:R,selectableRows:void 0,pagination:!1,highlightOnHover:void 0,striped:void 0,onRowClicked:void 0,progressPending:void 0,paginationPerPage:void 0})})})]})}),(0,n.jsx)(g.Z,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(L.A,{size:20,className:"text-gray-600"}),(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===d.activityLogs.length?(0,n.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,n.jsx)("div",{className:"space-y-3",children:d.activityLogs.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()}).map(function(e){return(0,n.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"p-1 rounded-full ".concat(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,n.jsx)(L.A,{size:14,className:"text-blue-600"}):(0,n.jsx)(G.A,{size:14,className:"text-green-600"})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,n.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,n.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var t})})]})})]})},M=r(9237),_=r(6628),F=r(5644),W=r(7425),H=r(6749);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){Z(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const V=function(e){var t,r,a=e.name,s=e.label,i=e.placeholder,o=e.className,l=void 0===o?"":o,c=e.options,d=e.onChangeOverride,u=(t=(0,W.Mt)(a),r=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=u[0],f=u[1],h=u[2],x=function(e){return e.map(function(e){return"string"==typeof e?{value:e,label:e}:e})}(c);return(0,n.jsxs)("div",{className:"relative flex flex-col ".concat(l),children:[s&&(0,n.jsx)("label",{className:"mb-1  font-medium text-gray-700",children:s}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",q(q({id:a},m),{},{onChange:function(e){h.setValue(e.target.value),d&&d(e.target.value)},className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none appearance-none",children:[i&&(0,n.jsx)("option",{value:"",children:i}),x.map(function(e){return(0,n.jsx)("option",{value:e.value,children:e.label},e.value)})]})),(0,n.jsx)(H.A,{size:20,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-[#9ca3af] z-[0]"})]}),f.touched&&f.error?(0,n.jsx)("div",{className:"text-red-500 text-sm mt-1",children:f.error}):null]})};var Y=r(2664);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,a,s){var l=n&&n.prototype instanceof o?n:o,c=Object.create(l.prototype);return J(c,"_invoke",function(r,n,a){var s,o,l,c=0,d=a||[],u=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return s=t,o=0,l=e,m.n=r,i}};function f(r,n){for(o=r,l=n,t=0;!u&&c&&!a&&t<d.length;t++){var a,s=d[t],f=m.p,h=s[2];r>3?(a=h===n)&&(l=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=e):s[0]<=f&&((a=r<2&&f<s[1])?(o=0,m.v=n,m.n=s[1]):f<h&&(a=r<3||s[0]>n||n>h)&&(s[4]=r,s[5]=n,m.n=h,o=0))}if(a||r>1)return i;throw u=!0,n}return function(a,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,h),o=d,l=h;(t=o<2?e:l)||!u;){s||(o?o<3?(o>1&&(m.n=-1),f(o,l)):m.n=l:m.v=l);try{if(c=2,s){if(o||(a="next"),t=s[a]){if(!(t=t.call(s,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=s.return)&&t.call(s),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);s=e}else if((t=(u=m.n<0)?l:r.call(n,m))!==i)break}catch(t){s=e,o=1,l=t}finally{c=1}}return{value:t,done:u}}}(r,a,s),!0),c}var i={};function o(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(J(t={},n,function(){return this}),t),u=c.prototype=o.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,J(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,J(u,"constructor",c),J(c,"constructor",l),l.displayName="GeneratorFunction",J(c,a,"GeneratorFunction"),J(u),J(u,a,"Generator"),J(u,n,function(){return this}),J(u,"toString",function(){return"[object Generator]"}),(Q=function(){return{w:s,m}})()}function J(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}J=function(e,t,r,n){function s(t,r){J(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(s("next",0),s("throw",1),s("return",2))},J(e,t,r,n)}function ee(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t,r,n,a,s,i){try{var o=e[s](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){ae(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ae(e,t,r){return(t=function(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var le=function(e){var t=e.trailer,r=e.onSave,s=e.onCancel,i=e.existingTrailerNumbers,o=!!t,l=se((0,a.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,10))},{})}),2),c=l[0],d=l[1],u=se((0,a.useState)(N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,0))},{})),2),m=u[0],f=u[1],h=se((0,a.useState)(N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,0))},{})),2),x=h[0],p=h[1],y=se((0,a.useState)({}),2),b=y[0],j=y[1],w=se((0,a.useState)(!1),2),k=w[0],S=w[1],T=se((0,a.useState)([]),2),C=T[0],A=T[1],O=se((0,a.useState)("cart"),2),P=O[0],L=O[1];(0,a.useEffect)(function(){c.state?(A(N.mV[c.state]||[]),d(function(e){return ne(ne({},e),{},{city:""})})):A([])},[c.state]),(0,a.useEffect)(function(){if(t){var e,r,n,a,s,i,o,l,c=N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,t.defaultThreshold))},{});(null!==(e=null===(r=t.inventory)||void 0===r?void 0:r.tools)&&void 0!==e?e:[]).forEach(function(e){c[e.toolName]=e.threshold});var u=N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,10))},{});(null!==(n=null===(a=t.inventory)||void 0===a?void 0:a.filmSheets)&&void 0!==n?n:[]).forEach(function(e){u[e.sheetType]=e.threshold}),d({trailerName:t.trailerName,registrationNumber:t.registrationNumber,parkingAddress:t.parkingAddress||"",state:t.state||"",city:t.city||"",toolThresholds:c,filmSheetThresholds:u});var m=N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,0))},{});(null!==(s=null===(i=t.inventory)||void 0===i?void 0:i.tools)&&void 0!==s?s:[]).forEach(function(e){m[e.toolName]=e.currentStock}),f(m);var h=N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,0))},{});(null!==(o=null===(l=t.inventory)||void 0===l?void 0:l.filmSheets)&&void 0!==o?o:[]).forEach(function(e){h[e.sheetType]=e.currentStock}),p(h)}else d({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,10))},{})}),f(N.w9.reduce(function(e,t){return ne(ne({},e),{},ae({},t.name,0))},{})),p(N.LT.reduce(function(e,t){return ne(ne({},e),{},ae({},t,0))},{})),j({})},[t]);var G=function(e,t){d(function(r){return ne(ne({},r),{},ae({},e,t))}),b[e]&&j(function(t){var r=ne({},t);return delete r[e],r})},E=function(){var e,n=(e=Q().m(function e(n){var a,s,l,d,u,f,h,p,y,g,v,b,w;return Q().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),S(!0),a=(0,N.is)(c),s=c.trailerName.trim(),(o?i.filter(function(e){return e!==(null==t?void 0:t.trailerName)}):i).includes(s)&&(a.errors.trailerName="Trailer name already exists",a.isValid=!1),a.isValid){e.n=1;break}return j(a.errors),S(!1),e.a(2);case 1:try{l=N.w9.map(function(e){return{toolName:e.name,currentStock:m[e.name],threshold:c.toolThresholds[e.name],status:0===m[e.name]?"critical":m[e.name]<=c.toolThresholds[e.name]?"low":"good"}}),d=N.LT.map(function(e){return{sheetType:e,currentStock:x[e],threshold:c.filmSheetThresholds[e],status:0===x[e]?"critical":x[e]<=c.filmSheetThresholds[e]?"low":"good"}}),u={tools:l,filmSheets:d},(new Date).toISOString(),f=t?ee(t.activityLogs):[],o&&t?(t.trailerName!==s&&f.push((0,N.WR)("updated","Trailer name changed from ".concat(t.trailerName," to ").concat(s),void 0,!0)),t.registrationNumber!==c.registrationNumber&&f.push((0,N.WR)("updated","Registration number updated",void 0,!0)),t.parkingAddress!==c.parkingAddress&&f.push((0,N.WR)("address_changed","Parking address changed from ".concat(t.parkingAddress," to ").concat(c.parkingAddress),void 0,!0)),t.state!==c.state&&f.push((0,N.WR)("state_changed","State changed from ".concat(t.state," to ").concat(c.state),void 0,!0)),t.city!==c.city&&f.push((0,N.WR)("city_changed","City changed from ".concat(t.city," to ").concat(c.city),void 0,!0)),v=(null!==(h=null===(p=t.inventory)||void 0===p?void 0:p.tools)&&void 0!==h?h:[]).some(function(e){var t=l.find(function(t){return t.toolName===e.toolName});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),b=(null!==(y=null===(g=t.inventory)||void 0===g?void 0:g.filmSheets)&&void 0!==y?y:[]).some(function(e){var t=d.find(function(t){return t.sheetType===e.sheetType});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),(v||b)&&f.push((0,N.WR)("inventory_updated","Inventory levels updated",void 0,!0))):f.push((0,N.WR)("created","Trailer ".concat(s," created"),void 0,!0)),w={trailerName:s,registrationNumber:c.registrationNumber.trim(),parkingAddress:c.parkingAddress.trim(),state:c.state,city:c.city,inventory:u,status:"available",activityLogs:f},r(w),j({})}catch(e){console.error("Error saving trailer:",e)}finally{S(!1)}case 2:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function i(e){te(s,n,a,i,o,"next",e)}function o(e){te(s,n,a,i,o,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return(0,n.jsx)("div",{className:"min-h-scree",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:o?"Edit Trailer ".concat(null==t?void 0:t.trailerName):"Add New Trailer"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:o?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(v.$,{type:"button",variant:"secondary",onClick:s,disabled:k,icon:M.A,children:"Cancel"}),(0,n.jsx)(v.$,{type:"submit",form:"trailer-form",disabled:k,icon:_.A,children:k?"Saving...":o?"Update Trailer":"Create Trailer"})]})]}),(0,n.jsxs)("form",{id:"trailer-form",onSubmit:E,className:"space-y-8",children:[(0,n.jsx)(g.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,n.jsx)(W.l1,{enableReinitialize:!0,initialValues:{trailerName:c.trailerName,registrationNumber:c.registrationNumber,parkingAddress:c.parkingAddress,state:c.state,city:c.city},validationSchema:Y.Ik({trailerName:Y.Yj().trim().required("Trailer name is required"),registrationNumber:Y.Yj().trim().required("Registration number is required"),parkingAddress:Y.Yj().trim().required("Parking address is required"),state:Y.Yj().trim().required("State is required"),city:Y.Yj().trim().required("City is required")}),onSubmit:function(){},children:function(e){var t=e.values,r=e.handleChange;return(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsx)(F.A,{name:"trailerName",type:"text",placeholder:"Enter trailer name",label:"Trailer Name *",onChange:function(e){r(e),G("trailerName",e.target.value)},value:t.trailerName}),(0,n.jsx)(F.A,{name:"registrationNumber",type:"text",placeholder:"Enter registration number",label:"Registration Number *",onChange:function(e){r(e),G("registrationNumber",e.target.value)},value:t.registrationNumber}),(0,n.jsx)(F.A,{name:"parkingAddress",type:"text",placeholder:"Enter parking address",label:"Parking Address *",onChange:function(e){r(e),G("parkingAddress",e.target.value)},value:t.parkingAddress}),(0,n.jsx)(V,{name:"state",label:"State *",placeholder:"Select State",options:N.hj,onChangeOverride:function(e){return G("state",e)}}),(0,n.jsx)(V,{name:"city",label:"City *",placeholder:"Select City",options:C,onChangeOverride:function(e){return G("city",e)}})]})}})]})}),(0,n.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return L("cart")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("cart"===P?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Cart Item"}),(0,n.jsx)("button",{type:"button",onClick:function(){return L("caulking")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("caulking"===P?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Caulking Supplies"}),(0,n.jsx)("button",{type:"button",onClick:function(){return L("trailer")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("trailer"===P?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Trailer Item"}),(0,n.jsx)("button",{type:"button",onClick:function(){return L("film")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("film"===P?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Film"})]}),(0,n.jsx)(g.Z,{children:(0,n.jsxs)("div",{className:"p-6 min-h-[400px]",children:["cart"===P&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Cart Item"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each cart item. The system will alert when stock falls below threshold levels."}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Item Name"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Min Threshold"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Current Inventory"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:["Beer Tank W/ Hose","Hard Press","Red Card","Olfa","Olfa Blade Pack","Scrapers","Scraper Blade Pack","Pick","1 Qrt Acetone","Phillips Head SD","Window Squeegee","Sharps Containers","Headlamps","Batteries for Headlamps (Pack)"].map(function(e){return(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]},e)})})]}),"caulking"===P&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Caulking Supplies"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each caulking supply item. The system will alert when stock falls below threshold levels."}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Item Name"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Min Threshold"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Current Inventory"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:["Rolls of Painters tape","Caulk Sausage Case","Caulk Gun (Sausage)","Pack Nitrile Gloves","Case of Blue Towels","Tub O' Towels","Crocodile Wipes","Caulking Gun Tips"].map(function(e){return(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]},e)})})]}),"trailer"===P&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Trailer Item"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each trailer item. The system will alert when stock falls below threshold levels."}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Item Name"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Min Threshold"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Current Inventory"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-96 overflow-y-auto",children:["Cordless Drill","Allen Key Set","Channel Lock Pliers","Drill Bit Kit","Generator W/ Cord","Micro Fiber Package","5 Gal Gas Can","Air Compressor W/ Hose","Trash Can","55 Gal Trash Bags Case","Bath Towel","Towel Clips for hanging","5 Gal Buckets","Sharpie Pack","Dry Erase Marker Pack","Square","Non Serated Scissors","Ladders","Tank Fix Kits","Extras Spray Nozzles","Broom and Dust Pan","Scotch Brite Case","Sos Pad Box","Glass Thickness Gauge","PPE Bin/SDS Binder","Spare Cutter Blades (Box)","Tire Patch Kit","Parking Cones","Wheel Chalks","Tongue Lock"].map(function(e){return(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]},e)})})]}),"film"===P&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Film"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each film type. The system will alert when stock falls below threshold levels."}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h4",{className:"text-md font-medium text-gray-800",children:"Protective Films"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Film Type"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Min Threshold"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"48"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"60"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"72"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["SW450","SW440BR","SW600BR","CL700 EXT"].map(function(e){return(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]},e)})})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h4",{className:"text-md font-medium text-gray-800",children:"Tint Films"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Film Type"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Min Threshold"})}),(0,n.jsx)("div",{className:"w-20 text-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Current Inventory"})})]})]})}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Madico SG20 E Tint","Madico RS20 E Tint","Suntek SXT-20","Suntek SXT-35","Suntek IXT-20","Suntek IXT-35","Suntek Frost"].map(function(e){return(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,n.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]},e)})})]})]})]})})]})]})})},ce=r(7821);function de(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,a,s){var l=n&&n.prototype instanceof o?n:o,c=Object.create(l.prototype);return ue(c,"_invoke",function(r,n,a){var s,o,l,c=0,d=a||[],u=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return s=t,o=0,l=e,m.n=r,i}};function f(r,n){for(o=r,l=n,t=0;!u&&c&&!a&&t<d.length;t++){var a,s=d[t],f=m.p,h=s[2];r>3?(a=h===n)&&(l=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=e):s[0]<=f&&((a=r<2&&f<s[1])?(o=0,m.v=n,m.n=s[1]):f<h&&(a=r<3||s[0]>n||n>h)&&(s[4]=r,s[5]=n,m.n=h,o=0))}if(a||r>1)return i;throw u=!0,n}return function(a,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,h),o=d,l=h;(t=o<2?e:l)||!u;){s||(o?o<3?(o>1&&(m.n=-1),f(o,l)):m.n=l:m.v=l);try{if(c=2,s){if(o||(a="next"),t=s[a]){if(!(t=t.call(s,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=s.return)&&t.call(s),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);s=e}else if((t=(u=m.n<0)?l:r.call(n,m))!==i)break}catch(t){s=e,o=1,l=t}finally{c=1}}return{value:t,done:u}}}(r,a,s),!0),c}var i={};function o(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(ue(t={},n,function(){return this}),t),u=c.prototype=o.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ue(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,ue(u,"constructor",c),ue(c,"constructor",l),l.displayName="GeneratorFunction",ue(c,a,"GeneratorFunction"),ue(u),ue(u,a,"Generator"),ue(u,n,function(){return this}),ue(u,"toString",function(){return"[object Generator]"}),(de=function(){return{w:s,m}})()}function ue(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}ue=function(e,t,r,n){function s(t,r){ue(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(s("next",0),s("throw",1),s("return",2))},ue(e,t,r,n)}function me(e,t,r,n,a,s,i){try{var o=e[s](i),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var he=function(e){var t,r,s=e.isOpen,i=e.onClose,o=e.trailer,l=e.onConfirmArchive,c=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],u=c[1],f=function(){var e,t=(e=de().m(function e(){var t;return de().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o){e.n=1;break}return e.a(2);case 1:return u(!0),e.p=2,e.n=3,l(o);case 3:i(),e.n=5;break;case 4:e.p=4,t=e.v,console.error("Error archiving trailer:",t);case 5:return e.p=5,u(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function i(e){me(s,n,a,i,o,"next",e)}function o(e){me(s,n,a,i,o,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return o?(0,n.jsx)(ce.a,{isOpen:s,onClose:i,title:"Archive Trailer?",size:"sm",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,n.jsx)(m.A,{size:24,className:"text-red-600"})})}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-900",children:["This will archive ",(0,n.jsxs)("strong",{children:["Trailer ",o.trailerName]})," and move it to archived status. The trailer will no longer be available for new assignments but records will be preserved."]}),(0,n.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Registration:"})," ",o.registrationNumber]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Location:"})," ",o.location]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",o.inventory.length," film types"]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",o.activityLogs.length," entries"]})]})]})})]}),(0,n.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)(m.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,n.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,n.jsx)("strong",{children:"Note:"})," If this trailer is currently assigned to any projects, it will remain assigned but marked as archived."]})]})}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,n.jsx)(v.$,{type:"button",variant:"secondary",onClick:i,disabled:d,children:"Cancel"}),(0,n.jsx)(v.$,{type:"button",onClick:f,disabled:d,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:d?"Archiving...":"Archive Trailer"})]})]})}):null},xe=r(1819),pe=r(4131),ye=r(4159),ge=r(6398),ve=r(6090);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function je(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach(function(t){ke(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ke(e,t,r){return(t=function(e){var t=function(e){if("object"!=be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,i,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ae=function(){var e=(0,s.g)().trailerId,t=(0,s.Zp)(),r=(0,pe.A)(),h=r.user,x=(r.hasPermission,"executive"===(null==h?void 0:h.userType)),p=Se((0,a.useState)(ye.d),2),y=p[0],b=p[1],j=Se((0,a.useState)(!1),2),w=j[0],k=j[1],S=Se((0,a.useState)(null),2),C=S[0],A=S[1],O=Se((0,a.useState)("list"),2),P=O[0],L=O[1],G=Se((0,a.useState)(null),2),E=G[0],I=G[1],R=Se((0,a.useState)([]),2),B=R[0],D=R[1],M=Se((0,a.useState)(!1),2),_=M[0],F=(M[1],Se((0,a.useState)(!1),2)),W=(F[0],F[1],Se((0,a.useState)(""),2)),H=W[0],U=W[1],$=Se((0,a.useState)(""),2),q=$[0],Z=$[1],K=Se((0,a.useState)(""),2),V=K[0],Y=K[1],X=Se((0,a.useState)(!1),2),Q=X[0],J=(X[1],y.map(function(e){return e.trailerName})),ee=(0,a.useMemo)(function(){return y.filter(function(e){var t=!H||e.trailerName.toLowerCase().includes(H.toLowerCase())||e.registrationNumber.toLowerCase().includes(H.toLowerCase()),r=!q||e.status===q,n=!V||e.state===V;return t&&r&&n})},[y,H,q,V,Q]),te=(0,a.useMemo)(function(){if(!x)return null;var e=y.length,t=y.filter(function(e){return"available"===e.status}).length,r=y.filter(function(e){return"low"===e.status}).length,n=y.filter(function(e){return"unavailable"===e.status}).length,a=y.reduce(function(e,t){return e[t.status]=(e[t.status]||0)+1,e},{}),s=y.reduce(function(e,t){return e[t.state]=(e[t.state]||0)+1,e},{}),i=y.reduce(function(e,t){var r,n;return e+(null!==(r=null===(n=t.inventory.tools)||void 0===n?void 0:n.reduce(function(e,t){return e+t.currentStock},0))&&void 0!==r?r:0)},0),o=y.reduce(function(e,t){var r,n;return e+(null!==(r=null===(n=t.inventory.filmSheets)||void 0===n?void 0:n.reduce(function(e,t){return e+t.currentStock},0))&&void 0!==r?r:0)},0);return{totalTrailers:e,availableTrailers:t,lowStockTrailers:r,unavailableTrailers:n,trailersByStatus:a,trailersByState:s,totalTools:i,totalFilmSheets:o,averageUtilization:e>0?(t+r)/e*100:0}},[y,x]),re=e?y.find(function(t){return t.id===e}):null;(0,a.useEffect)(function(){e&&re?L("detail"):e||L(function(e){return"create"===e||"edit"===e?e:"list"})},[e,re]),(0,xe.KF)("detail"===P&&re?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Trailer ".concat(re.trailerName)}]:"create"===P?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Add New Trailer"}]:"edit"===P&&E?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Edit Trailer ".concat(E.trailerName)}]:[{label:"Trailers",icon:i.A}],[P,re,E]),(0,a.useEffect)(function(){e&&!re&&t("/trailers",{replace:!0})},[e,re,t]);var ne=(0,a.useCallback)(function(e){var t,r,n=(new Date).toISOString(),a=(0,N.A6)({tools:null!==(t=e.inventory.tools)&&void 0!==t?t:[],filmSheets:null!==(r=e.inventory.filmSheets)&&void 0!==r?r:[]}),s=(0,N.yS)(a),i=we(we({},e),{},{id:crypto.randomUUID(),inventory:a,status:s,createdAt:n,updatedAt:n});b(function(e){return[].concat(je(e),[i])}),L("list")},[]),ae=(0,a.useCallback)(function(e){t("/trailers/".concat(e.id))},[t]),se=(0,a.useCallback)(function(){t("/trailers"),L("list")},[t]),ie=(0,a.useCallback)(function(e){I(e),L("edit")},[]),oe=(0,a.useCallback)(function(e){var t=(new Date).toISOString(),r=we(we({},e),{},{id:(null==E?void 0:E.id)||crypto.randomUUID(),createdAt:(null==E?void 0:E.createdAt)||t,updatedAt:t});b(function(e){return e.map(function(e){return e.id===r.id?r:e})}),L("list"),I(null)},[E]),ce=(0,a.useCallback)(function(){L("create")},[]),de=(0,a.useCallback)(function(){L("list"),I(null)},[]),ue=(0,a.useCallback)(function(e){A(e),k(!0)},[]),me=(0,a.useCallback)(function(r){b(function(e){return e.map(function(e){return e.id===r.id?we(we({},e),{},{status:"archived"}):e})}),e===r.id&&t("/trailers")},[e,t]),fe=(0,a.useCallback)(function(){k(!1),A(null)},[]),be=(0,a.useCallback)(function(e){D(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(je(t),[e])})},[]),Ne=(0,a.useCallback)(function(){B.length===y.length?D([]):D(y.map(function(e){return e.id}))},[B.length,y]),ke=(0,a.useCallback)(function(e){console.log("Bulk action: ".concat(e," on trailers:"),B)},[B]);return(0,a.useCallback)(function(){console.log("Export all trailers data")},[]),(0,a.useCallback)(function(){console.log("Refresh inventory status for all trailers")},[]),0===y.length&&"list"===P?(0,n.jsx)("div",{className:"min-h-screen bg-transparent flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,n.jsxs)(g.Z,{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,n.jsx)(i.A,{size:48,className:"text-blue-600"})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Trailers Yet"}),(0,n.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first trailer to manage inventory, track locations, and streamline your operations."}),(0,n.jsx)(v.$,{variant:"primary",size:"lg",onClick:ce,icon:o.A,className:"mb-8",children:"Create Your First Trailer"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(l.A,{size:24,className:"text-green-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tool Management"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Track tools and equipment with real-time inventory levels"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(c.A,{size:24,className:"text-purple-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Film Inventory"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor film sheet stock and get low inventory alerts"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(d.A,{size:24,className:"text-orange-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location Tracking"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of trailer locations and parking addresses"})]})]})]}),(0,n.jsxs)(g.Z,{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started Tips"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"1"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Set up basic information"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Add trailer name, registration number, and parking address"})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"2"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Configure inventory thresholds"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Set minimum stock levels for tools and film sheets"})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"3"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Start tracking"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor inventory levels and get automated alerts"})]})]})]})]})]})}):(0,n.jsxs)("div",{className:" bg-transparent",children:["detail"===P&&re?(0,n.jsx)(z,{trailer:re,onBack:se,onEdit:ie,onArchive:ue,onRestock:function(e){b(function(t){return t.map(function(t){return t.id===e.id?e:t})})}}):"create"===P?(0,n.jsx)(le,{trailer:null,onSave:ne,onCancel:de,existingTrailerNumbers:J}):"edit"===P&&E?(0,n.jsx)(le,{trailer:E,onSave:oe,onCancel:de,existingTrailerNumbers:J.filter(function(e){return e!==(null==E?void 0:E.trailerName)})}):(0,n.jsxs)(g.Z,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(ge.A,{className:"",iconSize:20,value:H,onChange:function(e){return U(e.target.value)},placeholder:"Search"})}),(0,n.jsx)(ve.A,{className:"h-[42px]",label:"",value:q,onChange:function(e){return Z(e.target.value)},placeholder:"",options:[{value:"available",label:"Available"},{value:"low",label:"Low Stock"},{value:"unavailable",label:"Unavailable"}]}),(0,n.jsx)(ve.A,{className:"h-[42px]",label:"",value:V,onChange:function(e){return Y(e.target.value)},placeholder:"",options:[{value:"CA",label:"California"},{value:"TX",label:"Texas"},{value:"NY",label:"New York"},{value:"FL",label:"Florida"},{value:"IL",label:"Illinois"}]}),(0,n.jsx)(v.$,{icon:o.A,variant:"primary",onClick:ce,children:"Create new"})]})]}),x&&_&&te&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsx)(g.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Trailers"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:te.totalTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,n.jsx)(i.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,n.jsx)(g.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-600",children:te.availableTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,n.jsx)(u.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,n.jsx)(g.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:te.lowStockTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,n.jsx)(m.A,{className:"w-6 h-6 text-orange-600"})})]})}),(0,n.jsx)(g.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilization"}),(0,n.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[te.averageUtilization.toFixed(1),"%"]})]}),(0,n.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,n.jsx)(f.A,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,n.jsx)(T,{trailers:ee,onCreateTrailer:ce,onViewTrailer:ae,onEditTrailer:ie,onArchiveTrailer:ue,isExecutive:x,selectedTrailers:B,onSelectTrailer:be,onSelectAllTrailers:Ne,onBulkAction:ke})]}),(0,n.jsx)(he,{isOpen:w,onClose:fe,trailer:C,onConfirmArchive:me})]})}}}]);