"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[681],{9681:(e,s,t)=>{t.d(s,{ResetPassword:()=>p});var a=t(4848),r=t(6540),n=t(7767),l=t(4976),o=t(1116),i=t(8252),c=t(1314),d=t(5262),m=t(5426),x=t(5919),u=t(5622);const p=()=>{const e=(0,n.Zp)(),[s]=(0,l.ok)(),t=s.get("token"),[p,h]=(0,r.useState)({password:"",confirmPassword:""}),[w,g]=(0,r.useState)(!1),[j,f]=(0,r.useState)(!1),[b,N]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[P,C]=(0,r.useState)(""),[k,z]=(0,r.useState)({});(0,r.useEffect)(()=>{t||C("Invalid or missing reset token. Please request a new password reset.")},[t]);const S=(e,s)=>{h(t=>({...t,[e]:s})),k[e]&&z(s=>({...s,[e]:void 0}))};return y?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(u.g,{size:"lg",textSize:"lg",className:"text-blue-600 mx-auto"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-8 text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:(0,a.jsx)(c.A,{size:32,className:"text-green-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Successfully!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Your password has been updated. You will be redirected to the login page shortly."}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Redirecting in 3 seconds..."}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(l.N_,{to:"/login",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:[(0,a.jsx)(i.A,{size:16,className:"mr-1"}),"Go to Login"]})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"© Copyright 2024 Safe Haven Defense"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(u.g,{size:"lg",textSize:"lg",className:"text-blue-600 mx-auto"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create New Password"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Enter your new password below. Make sure it's strong and secure."})]}),(0,a.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),C(""),(()=>{const e={},s=(e=>{const s=[];return e.length<8&&s.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||s.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||s.push("Password must contain at least one lowercase letter"),/\d/.test(e)||s.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||s.push("Password must contain at least one special character"),s})(p.password);return s.length>0&&(e.password=s[0]),p.password!==p.confirmPassword&&(e.confirmPassword="Passwords do not match"),z(e),0===Object.keys(e).length})()){N(!0);try{if(await new Promise(e=>setTimeout(e,2e3)),!t||t.length<10)throw new Error("Invalid reset token");v(!0),setTimeout(()=>{e("/login")},3e3)}catch(e){C(e instanceof Error?e.message:"Failed to reset password")}finally{N(!1)}}},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:p.password,onChange:e=>S("password",e.target.value),className:"w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(k.password?"border-red-300":"border-gray-300"),placeholder:"Enter new password"}),(0,a.jsx)("button",{type:"button",onClick:()=>g(!w),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600",children:w?(0,a.jsx)(d.A,{size:20}):(0,a.jsx)(m.A,{size:20})})]}),k.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",autoComplete:"new-password",required:!0,value:p.confirmPassword,onChange:e=>S("confirmPassword",e.target.value),className:"w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(k.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm new password"}),(0,a.jsx)("button",{type:"button",onClick:()=>f(!j),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600",children:j?(0,a.jsx)(d.A,{size:20}):(0,a.jsx)(m.A,{size:20})})]}),k.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.confirmPassword})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Password Requirements:"}),(0,a.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,a.jsx)("li",{children:"• At least 8 characters long"}),(0,a.jsx)("li",{children:"• Contains uppercase and lowercase letters"}),(0,a.jsx)("li",{children:"• Contains at least one number"}),(0,a.jsx)("li",{children:"• Contains at least one special character"})]})]}),P&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:[(0,a.jsx)(o.A,{size:16}),(0,a.jsx)("span",{children:P})]}),(0,a.jsx)(x.$,{type:"submit",variant:"primary",size:"lg",className:"w-full",disabled:b||!t,children:b?"Updating Password...":"Update Password"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)(l.N_,{to:"/login",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:[(0,a.jsx)(i.A,{size:16,className:"mr-1"}),"Back to Login"]})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"© Copyright 2024 Safe Haven Defense"})})]})})}}}]);