"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[448],{448:(e,t,s)=>{s.d(t,{Login:()=>j});var a=s(4848),r=s(6540),i=s(7767),l=s(4976),n=s(2186),o=s(5262),c=s(5426),d=s(104),m=s(6770),p=s(3588),u=s(4574),x=s(1085),h=s(2712),b=s(5919),g=s(5622),v=s(8085);const j=()=>{const e=(0,i.Zp)(),{login:t,demoLogin:s,isLoading:j,getAvailableLoginMethods:y}=(0,v.A)(),[f,N]=(0,r.useState)(""),[w,W]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[k,A]=(0,r.useState)(!1),[L,z]=(0,r.useState)(!1),[E,_]=(0,r.useState)(""),[q,D]=(0,r.useState)(null),[P,F]=(0,r.useState)([]),[T,H]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(f&&f.includes("@")){const e=y(f);F(e);const t=f.split("@")[0].toLowerCase();f.split("@")[1]?.toLowerCase();let s="execution-team",a="email",r="Standard email login";t.startsWith("admin@")||"admin"===t||t.startsWith("vp@")||"vp"===t||t.startsWith("vpops@")||"vpops"===t||t.startsWith("ceo@")||"ceo"===t||t.startsWith("cfo@")||"cfo"===t||t.startsWith("cto@")||"cto"===t||t.startsWith("director@")||"director"===t?(s="executive",a="company-based",r="Executive account with full system access and management capabilities"):t.startsWith("pm@")||"pm"===t||t.startsWith("coordinator@")||"coordinator"===t||t.startsWith("manager@")||"manager"===t||t.startsWith("supervisor@")||"supervisor"===t||t.startsWith("lead@")||"lead"===t?(s="project-coordinator",a="company-based",r="Project Coordinator with project management and team coordination access"):t.startsWith("leadsupervisor@")||"leadsupervisor"===t||t.startsWith("lead-supervisor@")||"lead-supervisor"===t||t.startsWith("lead_supervisor@")||"lead_supervisor"===t||t.startsWith("ls@")||"ls"===t?(s="lead-supervisor",a="company-based",r="Lead Supervisor with project and document management access only"):(t.startsWith("crew@")||"crew"===t||t.startsWith("team@")||"team"===t||t.startsWith("field@")||"field"===t||t.startsWith("ground@")||"ground"===t||t.startsWith("ops@")||"ops"===t||t.startsWith("logistics@")||"logistics"===t||t.startsWith("production@")||"production"===t||t.startsWith("quality@")||"quality"===t||t.startsWith("safety@")||"safety"===t||t.startsWith("finance@")||"finance"===t||t.startsWith("hr@")||"hr"===t||t.startsWith("it@")||"it"===t)&&(s="execution-team",a="company-based",r="Execution Team member with operational access (no team/trailer access)"),D(s),H({type:a,description:r})}else D(null),F([]),H(null)},[f,y]);const $=[{id:"executive",title:"Executive Account",description:"Full system access with management capabilities",icon:p.A,color:"bg-red-50 text-red-600 border-red-200 hover:bg-red-100"},{id:"project-coordinator",title:"Project Coordinator",description:"Project management and team coordination access",icon:u.A,color:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},{id:"lead-supervisor",title:"Lead Supervisor",description:"Lead supervision with project and document management access only",icon:h.A,color:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"},{id:"execution-team",title:"Execution Team",description:"Operational access for task execution (no team/trailer access)",icon:x.A,color:"bg-green-50 text-green-600 border-green-200 hover:bg-green-100"}];return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4",children:(0,a.jsx)(g.g,{size:"xl",textSize:"lg",className:"justify-center"})}),(0,a.jsx)("p",{className:"text-body text-text-secondary mt-2",children:"Project Management System"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-card p-8 max-w-sm mx-auto w-full",children:[(0,a.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),_(""),z(!0);try{await t(f,w,S),e("/")}catch(e){_("Invalid email or password. Please try again.")}finally{z(!1)}},className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email Address"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:f,onChange:e=>{N(e.target.value),_("")},className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Enter your email"})]}),q&&T&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:"company-based"===T.type?(0,a.jsx)(n.A,{size:16,className:"text-blue-600"}):"domain-based"===T.type?(0,a.jsx)(m.A,{size:16,className:"text-blue-600"}):(0,a.jsx)(d.A,{size:16,className:"text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:[q.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())," Account"]}),(0,a.jsx)("p",{className:"text-xs text-blue-700",children:T.description})]})]})}),(0,a.jsxs)("div",{className:"pt-3",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:k?"text":"password",autoComplete:"current-password",required:!0,value:w,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 pr-10 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",onClick:()=>A(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-text-muted hover:text-text-secondary",children:k?(0,a.jsx)(o.A,{size:18}):(0,a.jsx)(c.A,{size:18})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:S,onChange:e=>C(e.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-border rounded"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-text-secondary",children:"Remember me"})]}),(0,a.jsx)(l.N_,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Forgot password?"})]}),E&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:E}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(b.$,{type:"submit",variant:"primary",size:"md",className:"w-full",disabled:L||j,children:L?"Signing in...":"Log in"})})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-text-muted",children:"Or"})})]})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(b.$,{type:"button",variant:"secondary",size:"md",className:"w-full",title:"Try SafeHavenDefense with sample data — no signup required.",onClick:()=>{const e=document.getElementById("demo-personas");e&&(e.style.display="none"===e.style.display?"block":"none")},children:"Continue with Demo Login"})}),(0,a.jsxs)("div",{id:"demo-personas",style:{display:"none"},className:"mt-4 space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-text-primary text-center mb-3",children:"Choose Demo Account"}),$.map(t=>{const r=t.icon;return(0,a.jsx)("button",{onClick:()=>(t=>{s(t),e("/")})(t.id),className:`w-full p-3 rounded-lg border text-left transition-all duration-200 ${t.color}`,title:"Try SafeHavenDefense with sample data — no signup required.",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:(0,a.jsx)(r,{size:14})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:t.title}),(0,a.jsx)("p",{className:"text-xs text-text-muted truncate",children:t.description})]})]})},t.id)})]})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-caption text-text-muted",children:"© 2024 SafeHavenDefense. All rights reserved."})})]})})}}}]);