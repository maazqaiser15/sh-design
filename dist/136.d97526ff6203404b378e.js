"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[136],{894:(e,t,s)=>{s.d(t,{a:()=>i});var a=s(4848),r=s(6540),l=s(9237);const i=({isOpen:e,onClose:t,title:s,children:i,size:n="md"})=>((0,r.useEffect)(()=>{const s=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} p-6`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-h2 font-semibold text-text-primary",children:s}),(0,a.jsx)("button",{onClick:t,className:"btn-icon","aria-label":"Close modal",children:(0,a.jsx)(l.A,{size:20})})]}),(0,a.jsx)("div",{children:i})]})]})}):null)},2341:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(4848);s(6540);const r=({children:e,className:t="",padding:s="md",hover:r=!1,onClick:l})=>{const i=r?"hover:shadow-lg transition-shadow cursor-pointer":"";return(0,a.jsx)("div",{className:`bg-white rounded-lg shadow-card ${{sm:"p-3",md:"p-4",lg:"p-6"}[s]} ${i} ${t}`,onClick:l,children:e})}},4136:(e,t,s)=>{s.d(t,{Trailers:()=>V});var a=s(4848),r=s(6540),l=s(7767),i=s(7596),n=s(339),o=s(1813),d=s(6913),c=s(1397),m=s(799),h=s(4810),x=s(885),u=s(8931),g=s(5426),p=s(3492),y=s(82),N=s(2341),b=s(5919),v=s(4138);const f=[{name:"CART",defaultThreshold:6},{name:"BEER TANK W/ HOSE",defaultThreshold:6},{name:"HARD PRESS",defaultThreshold:6},{name:"RED CARD",defaultThreshold:6},{name:"OLFA",defaultThreshold:6},{name:"OLFA BLADE PACK",defaultThreshold:6},{name:"SCRAPERS",defaultThreshold:6},{name:"SCRAPER BLADE PACK",defaultThreshold:6},{name:"PICK KIT",defaultThreshold:6},{name:"1 QRT ACETONE",defaultThreshold:6},{name:"PHILLIPS HEAD SD",defaultThreshold:6},{name:"FLAT HEAD SD",defaultThreshold:6},{name:"WINDOW SQUEEGEE",defaultThreshold:6},{name:"CORDLESS DRILL",defaultThreshold:1},{name:"DRILL BIT KIT",defaultThreshold:1},{name:"GENERATOR W/ CORD",defaultThreshold:1},{name:"CAULK SAUSAGE CASE",defaultThreshold:2},{name:"9 PK BLUE TAPE",defaultThreshold:1},{name:"MICRO FIBER PACKAGE",defaultThreshold:2},{name:"5 GAL GAS CAN",defaultThreshold:1},{name:"12 GAL WATER",defaultThreshold:1},{name:"AIR COMP W/ HOSE",defaultThreshold:1},{name:"TRASH CAN",defaultThreshold:1},{name:"55 GAL TRASH BAGS CASE",defaultThreshold:1},{name:"BATH TOWEL",defaultThreshold:8},{name:"5 GAL BUCKETS",defaultThreshold:20},{name:"SHARPIE PACK",defaultThreshold:1},{name:"DRY ERASE MARKER PACK",defaultThreshold:1},{name:"CAULK GUN (Sausage)",defaultThreshold:2},{name:"PACK NITRILE GLOVES",defaultThreshold:1},{name:"CASE OF BLUE TOWELS",defaultThreshold:1},{name:"TRIANGLE SQUARE",defaultThreshold:1},{name:"NON SERATED SCISSORS",defaultThreshold:1},{name:"TUB O' TOWELS",defaultThreshold:1},{name:"LADDERS",defaultThreshold:4},{name:"TANK FIX KITS",defaultThreshold:2},{name:"EXTRAS SPRAY NOZZLES",defaultThreshold:2}],j=["BR","Riot+","Riot","Riot -","FER","Smash","Tint NI","Tint Incl","Anchoring","Kevlar","Stripping"],k=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],S={Alabama:["Birmingham","Montgomery","Mobile","Huntsville","Tuscaloosa"],Alaska:["Anchorage","Fairbanks","Juneau","Sitka","Ketchikan"],Arizona:["Phoenix","Tucson","Mesa","Chandler","Scottsdale"],Arkansas:["Little Rock","Fort Smith","Fayetteville","Springdale","Jonesboro"],California:["Los Angeles","San Diego","San Jose","San Francisco","Fresno","Sacramento","Long Beach","Oakland"],Colorado:["Denver","Colorado Springs","Aurora","Fort Collins","Lakewood"],Connecticut:["Bridgeport","New Haven","Hartford","Stamford","Waterbury"],Delaware:["Wilmington","Dover","Newark","Middletown","Smyrna"],Florida:["Jacksonville","Miami","Tampa","Orlando","St. Petersburg","Hialeah","Tallahassee","Fort Lauderdale"],Georgia:["Atlanta","Augusta","Columbus","Savannah","Athens"],Hawaii:["Honolulu","Pearl City","Hilo","Kailua","Kaneohe"],Idaho:["Boise","Nampa","Meridian","Idaho Falls","Pocatello"],Illinois:["Chicago","Aurora","Rockford","Joliet","Naperville","Springfield","Peoria","Elgin"],Indiana:["Indianapolis","Fort Wayne","Evansville","South Bend","Carmel"],Iowa:["Des Moines","Cedar Rapids","Davenport","Sioux City","Iowa City"],Kansas:["Wichita","Overland Park","Kansas City","Topeka","Olathe"],Kentucky:["Louisville","Lexington","Bowling Green","Owensboro","Covington"],Louisiana:["New Orleans","Baton Rouge","Shreveport","Lafayette","Lake Charles"],Maine:["Portland","Lewiston","Bangor","South Portland","Auburn"],Maryland:["Baltimore","Frederick","Rockville","Gaithersburg","Bowie"],Massachusetts:["Boston","Worcester","Springfield","Cambridge","Lowell"],Michigan:["Detroit","Grand Rapids","Warren","Sterling Heights","Lansing"],Minnesota:["Minneapolis","Saint Paul","Rochester","Duluth","Bloomington"],Mississippi:["Jackson","Gulfport","Southaven","Hattiesburg","Biloxi"],Missouri:["Kansas City","Saint Louis","Springfield","Independence","Columbia"],Montana:["Billings","Missoula","Great Falls","Bozeman","Butte"],Nebraska:["Omaha","Lincoln","Bellevue","Grand Island","Kearney"],Nevada:["Las Vegas","Henderson","Reno","North Las Vegas","Sparks"],"New Hampshire":["Manchester","Nashua","Concord","Derry","Rochester"],"New Jersey":["Newark","Jersey City","Paterson","Elizabeth","Edison"],"New Mexico":["Albuquerque","Las Cruces","Rio Rancho","Santa Fe","Roswell"],"New York":["New York City","Buffalo","Rochester","Yonkers","Syracuse","Albany","New Rochelle","Mount Vernon"],"North Carolina":["Charlotte","Raleigh","Greensboro","Durham","Winston-Salem"],"North Dakota":["Fargo","Bismarck","Grand Forks","Minot","West Fargo"],Ohio:["Columbus","Cleveland","Cincinnati","Toledo","Akron","Dayton","Parma","Canton"],Oklahoma:["Oklahoma City","Tulsa","Norman","Broken Arrow","Lawton"],Oregon:["Portland","Salem","Eugene","Gresham","Hillsboro"],Pennsylvania:["Philadelphia","Pittsburgh","Allentown","Erie","Reading"],"Rhode Island":["Providence","Warwick","Cranston","Pawtucket","East Providence"],"South Carolina":["Columbia","Charleston","North Charleston","Mount Pleasant","Rock Hill"],"South Dakota":["Sioux Falls","Rapid City","Aberdeen","Brookings","Watertown"],Tennessee:["Nashville","Memphis","Knoxville","Chattanooga","Clarksville"],Texas:["Houston","San Antonio","Dallas","Austin","Fort Worth","El Paso","Arlington","Corpus Christi"],Utah:["Salt Lake City","West Valley City","Provo","West Jordan","Orem"],Vermont:["Burlington","Essex","South Burlington","Colchester","Rutland"],Virginia:["Virginia Beach","Norfolk","Chesapeake","Richmond","Newport News"],Washington:["Seattle","Spokane","Tacoma","Vancouver","Bellevue"],"West Virginia":["Charleston","Huntington","Parkersburg","Morgantown","Wheeling"],Wisconsin:["Milwaukee","Madison","Green Bay","Kenosha","Racine"],Wyoming:["Cheyenne","Casper","Laramie","Gillette","Rock Springs"]},w=(e,t)=>0===e?"critical":e<=t?"low":"good",T=(e,t,s,a=!1)=>({id:crypto.randomUUID(),timestamp:(new Date).toISOString(),type:e,description:t,user:s,systemGenerated:a}),A=({trailers:e,onCreateTrailer:t,onViewTrailer:s,onEditTrailer:l,onDeleteTrailer:i})=>{const[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[y,v]=(0,r.useState)("trailerName"),[f,j]=(0,r.useState)("asc"),[S,w]=(0,r.useState)(1),[T,A]=(0,r.useState)(10),[R,E]=(0,r.useState)(null),L=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{L.current&&!L.current.contains(e.target)&&E(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const D=(0,r.useMemo)(()=>{const t=((e,t)=>e.filter(e=>{if(t.status&&e.status!==t.status)return!1;if(t.state&&e.state!==t.state)return!1;if(t.city&&e.city!==t.city)return!1;if(t.search){const s=t.search.toLowerCase();return e.trailerName.toLowerCase().includes(s)||e.registrationNumber.toLowerCase().includes(s)||e.parkingAddress.toLowerCase().includes(s)||e.state.toLowerCase().includes(s)||e.city.toLowerCase().includes(s)}return!0}))(e,{status:c||void 0,state:g||void 0,search:o||void 0});return((e,t,s="asc")=>[...e].sort((e,a)=>{let r=e[t],l=a[t];return"string"==typeof r&&(r=r.toLowerCase(),l=l.toLowerCase()),r<l?"asc"===s?-1:1:r>l?"asc"===s?1:-1:0}))(t,y,f)},[e,o,c,g,y,f]),M=D.length,I=Math.ceil(M/T),P=(S-1)*T,B=P+T,O=D.slice(P,B);return r.useEffect(()=>{w(1)},[o,c,g]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,a.jsx)(b.$,{onClick:t,icon:n.A,children:"Add New Trailer"})]}),(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.A,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search trailers by name or registration number..",value:o,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,a.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Statuses"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"low",children:"Low Stock"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{value:g,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All States"}),k.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})}),(0,a.jsx)(C,{trailers:O,sortBy:y,sortOrder:f,onSort:e=>{y===e?j("asc"===f?"desc":"asc"):(v(e),j("asc"))},onViewTrailer:s,onEditTrailer:l,onDeleteTrailer:i,activeDropdown:R,onDropdownToggle:e=>{E(R===e?null:e)},onMenuAction:(e,t)=>{switch(E(null),e){case"view":s(t);break;case"edit":l(t);break;case"delete":i(t)}},dropdownRef:L}),I>1&&(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{htmlFor:"itemsPerPage",className:"text-sm text-gray-600",children:"Items per page:"}),(0,a.jsxs)("select",{id:"itemsPerPage",value:T,onChange:e=>{return t=Number(e.target.value),A(t),void w(1);var t},className:"px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:20,children:"20"}),(0,a.jsx)("option",{value:50,children:"50"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",P+1,"-",Math.min(B,M)," of ",M," trailers"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.$,{variant:"secondary",size:"sm",onClick:()=>{S>1&&w(S-1)},disabled:1===S,className:"p-2",children:(0,a.jsx)(h.A,{size:16})}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:I},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{w(e)})(e),className:"px-3 py-1 text-sm rounded "+(S===e?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:e},e))}),(0,a.jsx)(b.$,{variant:"secondary",size:"sm",onClick:()=>{S<I&&w(S+1)},disabled:S===I,className:"p-2",children:(0,a.jsx)(x.A,{size:16})})]})]})})]})},C=({trailers:e,sortBy:t,sortOrder:s,onSort:r,onViewTrailer:l,onEditTrailer:n,onDeleteTrailer:o,activeDropdown:d,onDropdownToggle:m,onMenuAction:h,dropdownRef:x})=>{if(0===e.length)return(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(i.A,{size:48,className:"mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});const b=({field:e,children:l})=>(0,a.jsxs)("button",{onClick:()=>r(e),className:"flex items-center gap-1 text-left hover:text-primary transition-colors",children:[l,t===e&&(0,a.jsx)("span",{className:"text-primary",children:"asc"===s?"↑":"↓"})]});return(0,a.jsx)(N.Z,{padding:"sm",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"trailerName",children:"Trailer Name"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"registrationNumber",children:"Registration"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"city",children:"City"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"state",children:"State"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"parkingAddress",children:"Parking Address"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"currentLocation",children:"Current Location"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)(b,{field:"status",children:"Status"})}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(e),children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.trailerName})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.registrationNumber})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.city})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.state})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.parkingAddress})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(c.A,{size:16,className:"mr-1"}),(0,a.jsx)("span",{children:"-"})]})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)(v.W,{status:e.status})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"relative inline-block text-left",ref:d===e.id?x:null,onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{type:"button",className:"flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:t=>{t.stopPropagation(),m(e.id)},id:`menu-button-${e.id}`,"aria-expanded":d===e.id,"aria-haspopup":"true",children:(0,a.jsx)(u.A,{size:20})}),d===e.id&&(0,a.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),h("view",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(g.A,{size:16,className:"mr-2"}),"View Details"]}),(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),h("edit",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(p.A,{size:16,className:"mr-2"}),"Edit Trailer"]}),(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),h("delete",e)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,a.jsx)(y.A,{size:16,className:"mr-2"}),"Delete Trailer"]})]})})]})})]},e.id))})]})})})};var R=s(8252),E=s(3459),L=s(7348),D=s(7720),M=s(4574);const I=({trailer:e,onBack:t,onEdit:s,onDelete:l,onRestock:m})=>{const[h,x]=(0,r.useState)("tools"),[u,g]=(0,r.useState)(e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(b.$,{variant:"ghost",onClick:t,icon:R.A,className:"p-2",children:"Back"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:u.trailerName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Registration: ",u.registrationNumber]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["available"===u.status&&(0,a.jsx)(b.$,{variant:"primary",onClick:()=>{console.log("Assign trailer to project:",u.trailerName)},icon:n.A,children:"Assign to Project"}),(0,a.jsx)(b.$,{variant:"secondary",onClick:()=>s(u),icon:p.A,children:"Edit Trailer"}),(0,a.jsx)(b.$,{variant:"ghost",onClick:()=>l(u),icon:y.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})]}),(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,a.jsx)(v.W,{status:u.status,size:"md"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(i.A,{size:20,className:"text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Name"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:u.trailerName})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(E.A,{size:20,className:"text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:u.registrationNumber})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(c.A,{size:20,className:"text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Address"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:u.parkingAddress})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,a.jsx)(c.A,{size:20,className:"text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Current Location"}),(0,a.jsx)("div",{className:"font-medium text-gray-500",children:"-"})]})]})]})]})}),(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"}),(0,a.jsx)(b.$,{variant:"secondary",onClick:()=>{const e={...u,inventory:{tools:u.inventory.tools.map(e=>({...e,currentStock:e.threshold,status:"good"})),filmSheets:u.inventory.filmSheets.map(e=>({...e,currentStock:e.threshold,status:"good"}))},status:"available",updatedAt:(new Date).toISOString(),activityLogs:[...u.activityLogs,{id:`restock-${Date.now()}`,type:"inventory_updated",description:"Trailer inventory restocked to threshold levels",timestamp:(new Date).toISOString(),systemGenerated:!0,user:"System"}]};g(e),m?.(e)},icon:L.A,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:"Mark Restocked"})]}),(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>x("tools"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("tools"===h?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(o.A,{size:16}),"Tools (",u.inventory.tools.length,")"]})}),(0,a.jsx)("button",{onClick:()=>x("sheets"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("sheets"===h?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(d.A,{size:16}),"Film Sheets (",u.inventory.filmSheets.length,")"]})})]}),"tools"===h&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.inventory.tools.map((e,t)=>(0,a.jsx)(P,{item:e},t))})]})}),"sheets"===h&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sheet Type"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.inventory.filmSheets.map((e,t)=>(0,a.jsx)(B,{item:e},t))})]})})]})}),(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{size:20,className:"text-gray-600"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===u.activityLogs.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,a.jsx)("div",{className:"space-y-3",children:u.activityLogs.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).map(e=>{return(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"p-1 rounded-full "+(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,a.jsx)(D.A,{size:14,className:"text-blue-600"}):(0,a.jsx)(M.A,{size:14,className:"text-green-600"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,a.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var t})})]})})]})},P=({item:e})=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.toolName})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v.W,{status:e.status}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.currentStock>e.threshold?(0,a.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,a.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,a.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,a.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})})]}),B=({item:e})=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.sheetType})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,a.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v.W,{status:e.status}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.currentStock>e.threshold?(0,a.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,a.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,a.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,a.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})})]});var O=s(9237),W=s(6628);const G=({trailer:e,onSave:t,onCancel:s,existingTrailerNumbers:l})=>{const i=!!e,[n,o]=(0,r.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:f.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{}),filmSheetThresholds:j.reduce((e,t)=>({...e,[t]:10}),{})}),[d,c]=(0,r.useState)(f.reduce((e,t)=>({...e,[t.name]:0}),{})),[m,h]=(0,r.useState)(j.reduce((e,t)=>({...e,[t]:0}),{})),[x,u]=(0,r.useState)({}),[g,p]=(0,r.useState)(!1),[y,v]=(0,r.useState)([]);(0,r.useEffect)(()=>{n.state?(v(S[n.state]||[]),o(e=>({...e,city:""}))):v([])},[n.state]),(0,r.useEffect)(()=>{if(e){const t=f.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{});e.inventory.tools.forEach(e=>{t[e.toolName]=e.threshold});const s=j.reduce((e,t)=>({...e,[t]:10}),{});e.inventory.filmSheets.forEach(e=>{s[e.sheetType]=e.threshold}),o({trailerName:e.trailerName,registrationNumber:e.registrationNumber,parkingAddress:e.parkingAddress||"",state:e.state||"",city:e.city||"",toolThresholds:t,filmSheetThresholds:s});const a=f.reduce((e,t)=>({...e,[t.name]:0}),{});e.inventory.tools.forEach(e=>{a[e.toolName]=e.currentStock}),c(a);const r=j.reduce((e,t)=>({...e,[t]:0}),{});e.inventory.filmSheets.forEach(e=>{r[e.sheetType]=e.currentStock}),h(r)}else o({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:f.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{}),filmSheetThresholds:j.reduce((e,t)=>({...e,[t]:10}),{})}),c(f.reduce((e,t)=>({...e,[t.name]:0}),{})),h(j.reduce((e,t)=>({...e,[t]:0}),{})),u({})},[e]);const w=(e,t)=>{o(s=>({...s,[e]:t})),x[e]&&u(t=>{const s={...t};return delete s[e],s})};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:i?`Edit Trailer ${e?.trailerName}`:"Add New Trailer"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:i?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(b.$,{type:"button",variant:"secondary",onClick:s,disabled:g,icon:O.A,children:"Cancel"}),(0,a.jsx)(b.$,{type:"submit",form:"trailer-form",disabled:g,icon:W.A,children:g?"Saving...":i?"Update Trailer":"Create Trailer"})]})]}),(0,a.jsx)("form",{id:"trailer-form",onSubmit:async s=>{s.preventDefault(),p(!0);const a=(e=>{const t={};return e.trailerName.trim()||(t.trailerName="Trailer name is required"),e.registrationNumber.trim()||(t.registrationNumber="Registration number is required"),e.parkingAddress.trim()||(t.parkingAddress="Parking address is required"),e.state.trim()||(t.state="State is required"),e.city.trim()||(t.city="City is required"),f.forEach(s=>{const a=e.toolThresholds[s.name];void 0!==a&&a<0&&(t[`tool_${s.name}`]="Threshold cannot be negative")}),j.forEach(s=>{const a=e.filmSheetThresholds[s];void 0!==a&&a<0&&(t[`sheet_${s}`]="Threshold cannot be negative")}),{isValid:0===Object.keys(t).length,errors:t}})(n),r=n.trailerName.trim();if((i?l.filter(t=>t!==e?.trailerName):l).includes(r)&&(a.errors.trailerName="Trailer name already exists",a.isValid=!1),!a.isValid)return u(a.errors),void p(!1);try{const s=f.map(e=>({toolName:e.name,currentStock:d[e.name],threshold:n.toolThresholds[e.name],status:0===d[e.name]?"critical":d[e.name]<=n.toolThresholds[e.name]?"low":"good"})),a=j.map(e=>({sheetType:e,currentStock:m[e],threshold:n.filmSheetThresholds[e],status:0===m[e]?"critical":m[e]<=n.filmSheetThresholds[e]?"low":"good"})),l={tools:s,filmSheets:a},o=((new Date).toISOString(),e?[...e.activityLogs]:[]);if(i&&e){e.trailerName!==r&&o.push(T("updated",`Trailer name changed from ${e.trailerName} to ${r}`,void 0,!0)),e.registrationNumber!==n.registrationNumber&&o.push(T("updated","Registration number updated",void 0,!0)),e.parkingAddress!==n.parkingAddress&&o.push(T("address_changed",`Parking address changed from ${e.parkingAddress} to ${n.parkingAddress}`,void 0,!0)),e.state!==n.state&&o.push(T("state_changed",`State changed from ${e.state} to ${n.state}`,void 0,!0)),e.city!==n.city&&o.push(T("city_changed",`City changed from ${e.city} to ${n.city}`,void 0,!0));const t=e.inventory.tools.some(e=>{const t=s.find(t=>t.toolName===e.toolName);return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),l=e.inventory.filmSheets.some(e=>{const t=a.find(t=>t.sheetType===e.sheetType);return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)});(t||l)&&o.push(T("inventory_updated","Inventory levels updated",void 0,!0))}else o.push(T("created",`Trailer ${r} created`,void 0,!0));const c={trailerName:r,registrationNumber:n.registrationNumber.trim(),parkingAddress:n.parkingAddress.trim(),state:n.state,city:n.city,inventory:l,status:"available",activityLogs:o};t(c),u({})}catch(e){console.error("Error saving trailer:",e)}finally{p(!1)}},className:"space-y-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"trailerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Trailer Name *"}),(0,a.jsx)("input",{type:"text",id:"trailerName",value:n.trailerName,onChange:e=>w("trailerName",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(x.trailerName?"border-red-300":"border-gray-300"),placeholder:"Enter trailer name"}),x.trailerName&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x.trailerName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),(0,a.jsx)("input",{type:"text",id:"registrationNumber",value:n.registrationNumber,onChange:e=>w("registrationNumber",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(x.registrationNumber?"border-red-300":"border-gray-300"),placeholder:"Enter registration number"}),x.registrationNumber&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x.registrationNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"parkingAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Address *"}),(0,a.jsx)("input",{type:"text",id:"parkingAddress",value:n.parkingAddress,onChange:e=>w("parkingAddress",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(x.parkingAddress?"border-red-300":"border-gray-300"),placeholder:"Enter parking address"}),x.parkingAddress&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x.parkingAddress})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,a.jsxs)("select",{id:"state",value:n.state,onChange:e=>w("state",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(x.state?"border-red-300":"border-gray-300"),children:[(0,a.jsx)("option",{value:"",children:"Select state"}),k.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),x.state&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x.state})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,a.jsxs)("select",{id:"city",value:n.city,onChange:e=>w("city",e.target.value),disabled:!n.state,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${x.city?"border-red-300":"border-gray-300"} ${n.state?"":"bg-gray-100 cursor-not-allowed"}`,children:[(0,a.jsx)("option",{value:"",children:"Select city"}),y.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),x.city&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:x.city})]})]})]})]})}),(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Film Sheets Inventory"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each film sheet type."}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:j.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Current Stock"}),(0,a.jsx)("input",{type:"number",min:"0",value:m[e],onChange:t=>((e,t)=>{h(s=>({...s,[e]:Math.max(0,t)}))})(e,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Threshold"}),(0,a.jsx)("input",{type:"number",min:"0",value:n.filmSheetThresholds[e]||10,onChange:t=>((e,t)=>{o(s=>({...s,filmSheetThresholds:{...s.filmSheetThresholds,[e]:Math.max(0,t)}}));const s=`sheet_${e}`;x[s]&&u(e=>{const t={...e};return delete t[s],t})})(e,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e))})]})})]}),(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsx)(N.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Tools Inventory"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each tool. The system will alert when stock falls below threshold levels."}),(0,a.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:f.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Default threshold: ",e.defaultThreshold]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Current Stock"}),(0,a.jsx)("input",{type:"number",min:"0",value:d[e.name],onChange:t=>{return s=e.name,a=parseInt(t.target.value)||0,void c(e=>({...e,[s]:Math.max(0,a)}));var s,a},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Threshold"}),(0,a.jsx)("input",{type:"number",min:"0",value:n.toolThresholds[e.name]||e.defaultThreshold,onChange:t=>((e,t)=>{o(s=>({...s,toolThresholds:{...s.toolThresholds,[e]:Math.max(0,t)}}));const s=`tool_${e}`;x[s]&&u(e=>{const t={...e};return delete t[s],t})})(e.name,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e.name))})]})})})]})})]})})};var Z=s(5732),H=s(894);const $=({isOpen:e,onClose:t,trailer:s,onConfirmDelete:l})=>{const[i,n]=(0,r.useState)(!1);return s?(0,a.jsx)(H.a,{isOpen:e,onClose:t,title:"Delete Trailer?",size:"sm",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,a.jsx)(Z.A,{size:24,className:"text-red-600"})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["This will permanently remove ",(0,a.jsxs)("strong",{children:["Trailer ",s.trailerName]})," and its records. This action cannot be undone."]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Registration:"})," ",s.registrationNumber]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"})," ",s.location]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",s.inventory.length," film types"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",s.activityLogs.length," entries"]})]})]})})]}),(0,a.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(Z.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,a.jsx)("strong",{children:"Warning:"})," If this trailer is currently assigned to any projects, you may need to reassign them to other trailers before deletion."]})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(b.$,{type:"button",variant:"secondary",onClick:t,disabled:i,children:"Cancel"}),(0,a.jsx)(b.$,{type:"button",onClick:async()=>{if(s){n(!0);try{await l(s),t()}catch(e){console.error("Error deleting trailer:",e)}finally{n(!1)}}},disabled:i,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:i?"Deleting...":"Delete Trailer"})]})]})}):null};var z=s(7894);const F=()=>f.map(e=>({toolName:e.name,currentStock:Math.floor(Math.random()*(2*e.defaultThreshold))+1,threshold:e.defaultThreshold,status:Math.random()>.7?"low":Math.random()>.9?"critical":"good"})),K=()=>j.map(e=>({sheetType:e,currentStock:Math.floor(50*Math.random())+5,threshold:10,status:Math.random()>.7?"low":Math.random()>.9?"critical":"good"})),U=[{id:"1",trailerName:"Alpha Trailer",registrationNumber:"REG-001-2024",parkingAddress:"123 Main Street",state:"California",city:"Los Angeles",inventory:{tools:F(),filmSheets:K()},status:"unavailable",activityLogs:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:20:00Z"},{id:"2",trailerName:"Beta Trailer",registrationNumber:"REG-002-2024",parkingAddress:"456 Industrial Blvd",state:"Texas",city:"Houston",inventory:{tools:F(),filmSheets:K()},status:"available",activityLogs:[],createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-14T09:15:00Z"},{id:"3",trailerName:"Gamma Trailer",registrationNumber:"REG-003-2024",parkingAddress:"789 Service Road",state:"Florida",city:"Miami",inventory:{tools:F(),filmSheets:K()},status:"low",activityLogs:[],createdAt:"2024-01-13T16:45:00Z",updatedAt:"2024-01-13T16:45:00Z"},{id:"4",trailerName:"Delta Trailer",registrationNumber:"REG-004-2024",parkingAddress:"321 Oak Avenue",state:"New York",city:"New York",inventory:{tools:F(),filmSheets:K()},status:"available",activityLogs:[],createdAt:"2024-01-12T08:30:00Z",updatedAt:"2024-01-12T08:30:00Z"},{id:"5",trailerName:"Echo Trailer",registrationNumber:"REG-005-2024",parkingAddress:"654 Pine Street",state:"Illinois",city:"Chicago",inventory:{tools:F(),filmSheets:K()},status:"low",activityLogs:[],createdAt:"2024-01-11T14:20:00Z",updatedAt:"2024-01-11T14:20:00Z"},{id:"6",trailerName:"Foxtrot Trailer",registrationNumber:"REG-006-2024",parkingAddress:"987 Elm Drive",state:"Arizona",city:"Phoenix",inventory:{tools:F(),filmSheets:K()},status:"available",activityLogs:[],createdAt:"2024-01-10T11:45:00Z",updatedAt:"2024-01-10T11:45:00Z"},{id:"7",trailerName:"Golf Trailer",registrationNumber:"REG-007-2024",parkingAddress:"147 Cedar Lane",state:"Colorado",city:"Denver",inventory:{tools:F(),filmSheets:K()},status:"low",activityLogs:[],createdAt:"2024-01-09T16:10:00Z",updatedAt:"2024-01-09T16:10:00Z"},{id:"8",trailerName:"Hotel Trailer",registrationNumber:"REG-008-2024",parkingAddress:"258 Maple Court",state:"Washington",city:"Seattle",inventory:{tools:F(),filmSheets:K()},status:"available",activityLogs:[],createdAt:"2024-01-08T09:25:00Z",updatedAt:"2024-01-08T09:25:00Z"},{id:"9",trailerName:"India Trailer",registrationNumber:"REG-009-2024",parkingAddress:"369 Birch Street",state:"Oregon",city:"Portland",inventory:{tools:F(),filmSheets:K()},status:"low",activityLogs:[],createdAt:"2024-01-07T13:40:00Z",updatedAt:"2024-01-07T13:40:00Z"},{id:"10",trailerName:"Juliet Trailer",registrationNumber:"REG-010-2024",parkingAddress:"741 Spruce Avenue",state:"Nevada",city:"Las Vegas",inventory:{tools:[{toolName:"CART",currentStock:7,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:6,threshold:6,status:"good"},{toolName:"RED CARD",currentStock:7,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:30,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:22,threshold:20,status:"good"},{sheetType:"Riot",currentStock:16,threshold:15,status:"good"}]},status:"available",activityLogs:[],createdAt:"2024-01-06T10:15:00Z",updatedAt:"2024-01-06T10:15:00Z"},{id:"11",trailerName:"Kilo Trailer",registrationNumber:"REG-011-2024",parkingAddress:"852 Willow Way",state:"Utah",city:"Salt Lake City",inventory:{tools:[{toolName:"CART",currentStock:3,threshold:6,status:"low"},{toolName:"BEER TANK W/ HOSE",currentStock:2,threshold:6,status:"low"},{toolName:"HARD PRESS",currentStock:1,threshold:6,status:"low"},{toolName:"RED CARD",currentStock:2,threshold:6,status:"low"}],filmSheets:[{sheetType:"BR",currentStock:6,threshold:20,status:"low"},{sheetType:"Riot+",currentStock:4,threshold:20,status:"low"},{sheetType:"Riot",currentStock:2,threshold:15,status:"low"}]},status:"low",activityLogs:[],createdAt:"2024-01-05T15:30:00Z",updatedAt:"2024-01-05T15:30:00Z"},{id:"12",trailerName:"Lima Trailer",registrationNumber:"REG-012-2024",parkingAddress:"963 Poplar Drive",state:"Montana",city:"Billings",inventory:{tools:[{toolName:"CART",currentStock:6,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:6,threshold:6,status:"good"},{toolName:"RED CARD",currentStock:6,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:25,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:20,threshold:20,status:"good"},{sheetType:"Riot",currentStock:15,threshold:15,status:"good"}]},status:"available",activityLogs:[],createdAt:"2024-01-04T12:00:00Z",updatedAt:"2024-01-04T12:00:00Z"},{id:"13",trailerName:"Mike Trailer",registrationNumber:"REG-013-2024",parkingAddress:"159 Ash Street",state:"Wyoming",city:"Cheyenne",inventory:{tools:[{toolName:"CART",currentStock:5,threshold:6,status:"low"},{toolName:"BEER TANK W/ HOSE",currentStock:4,threshold:6,status:"low"},{toolName:"HARD PRESS",currentStock:3,threshold:6,status:"low"},{toolName:"RED CARD",currentStock:5,threshold:6,status:"low"}],filmSheets:[{sheetType:"BR",currentStock:12,threshold:20,status:"low"},{sheetType:"Riot+",currentStock:8,threshold:20,status:"low"},{sheetType:"Riot",currentStock:6,threshold:15,status:"low"}]},status:"low",activityLogs:[],createdAt:"2024-01-03T14:45:00Z",updatedAt:"2024-01-03T14:45:00Z"},{id:"14",trailerName:"November Trailer",registrationNumber:"REG-014-2024",parkingAddress:"357 Hickory Lane",state:"Idaho",city:"Boise",inventory:{tools:[{toolName:"CART",currentStock:8,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:7,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:8,threshold:6,status:"good"},{toolName:"RED CARD",currentStock:9,threshold:6,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:38,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:32,threshold:20,status:"good"},{sheetType:"Riot",currentStock:24,threshold:15,status:"good"}]},status:"available",activityLogs:[],createdAt:"2024-01-02T08:20:00Z",updatedAt:"2024-01-02T08:20:00Z"},{id:"15",trailerName:"Oscar Trailer",registrationNumber:"REG-015-2024",parkingAddress:"468 Chestnut Road",state:"New Mexico",city:"Albuquerque",inventory:{tools:[{toolName:"CART",currentStock:4,threshold:6,status:"low"},{toolName:"BEER TANK W/ HOSE",currentStock:3,threshold:6,status:"low"},{toolName:"HARD PRESS",currentStock:2,threshold:6,status:"low"},{toolName:"RED CARD",currentStock:4,threshold:6,status:"low"}],filmSheets:[{sheetType:"BR",currentStock:10,threshold:20,status:"low"},{sheetType:"Riot+",currentStock:7,threshold:20,status:"low"},{sheetType:"Riot",currentStock:5,threshold:15,status:"low"}]},status:"low",activityLogs:[],createdAt:"2024-01-01T11:10:00Z",updatedAt:"2024-01-01T11:10:00Z"}],V=()=>{const{trailerId:e}=(0,l.g)(),t=(0,l.Zp)(),[s,m]=(0,r.useState)(U),[h,x]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),[p,y]=(0,r.useState)("list"),[N,b]=(0,r.useState)(null),v=s.map(e=>e.trailerName),f=e?s.find(t=>t.id===e):null;(0,r.useEffect)(()=>{e&&f?y("detail"):e||y(e=>"create"===e||"edit"===e?e:"list")},[e,f]),(0,z.KF)("detail"===p&&f?[{label:"Trailers",href:"/trailers",icon:i.A},{label:`Trailer ${f.trailerName}`}]:"create"===p?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Add New Trailer"}]:"edit"===p&&N?[{label:"Trailers",href:"/trailers",icon:i.A},{label:`Edit Trailer ${N.trailerName}`}]:[{label:"Trailers",icon:i.A}],[p,f,N]),(0,r.useEffect)(()=>{e&&!f&&t("/trailers",{replace:!0})},[e,f,t]);const j=(0,r.useCallback)(e=>{const t=(new Date).toISOString(),s={tools:(a=e.inventory).tools.map(e=>({...e,status:w(e.currentStock,e.threshold)})),filmSheets:a.filmSheets.map(e=>({...e,status:w(e.currentStock,e.threshold)}))};var a;const r=(e=>{const t=[...e.tools,...e.filmSheets];return t.some(e=>0===e.currentStock)?"unavailable":t.some(e=>e.currentStock<=e.threshold)?"low":"available"})(s),l={...e,id:crypto.randomUUID(),inventory:s,status:r,createdAt:t,updatedAt:t};m(e=>[...e,l]),y("list")},[]),k=(0,r.useCallback)(e=>{t(`/trailers/${e.id}`)},[t]),S=(0,r.useCallback)(()=>{t("/trailers"),y("list")},[t]),T=(0,r.useCallback)(e=>{b(e),y("edit")},[]),C=(0,r.useCallback)(e=>{const t=(new Date).toISOString(),s={...e,id:N?.id||crypto.randomUUID(),createdAt:N?.createdAt||t,updatedAt:t};m(e=>e.map(e=>e.id===s.id?s:e)),y("list"),b(null)},[N]),R=(0,r.useCallback)(()=>{y("create")},[]),E=(0,r.useCallback)(()=>{y("list"),b(null)},[]),L=(0,r.useCallback)(e=>{g(e),x(!0)},[]),D=(0,r.useCallback)(s=>{m(e=>e.filter(e=>e.id!==s.id)),e===s.id&&t("/trailers")},[e,t]),M=(0,r.useCallback)(()=>{x(!1),g(null)},[]);return 0===s.length&&"list"===p?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,a.jsxs)(Card,{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,a.jsx)(i.A,{size:48,className:"text-blue-600"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Trailers Yet"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first trailer to manage inventory, track locations, and streamline your operations."}),(0,a.jsx)(Button,{variant:"primary",size:"lg",onClick:R,icon:n.A,className:"mb-8",children:"Create Your First Trailer"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(o.A,{size:24,className:"text-green-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tool Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Track tools and equipment with real-time inventory levels"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(d.A,{size:24,className:"text-purple-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Film Inventory"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor film sheet stock and get low inventory alerts"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(c.A,{size:24,className:"text-orange-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location Tracking"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of trailer locations and parking addresses"})]})]})]}),(0,a.jsxs)(Card,{className:"mt-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started Tips"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Set up basic information"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Add trailer name, registration number, and parking address"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Configure inventory thresholds"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Set minimum stock levels for tools and film sheets"})]})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,a.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Start tracking"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor inventory levels and get automated alerts"})]})]})]})]})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["detail"===p&&f?(0,a.jsx)(I,{trailer:f,onBack:S,onEdit:T,onDelete:L,onRestock:e=>{m(t=>t.map(t=>t.id===e.id?e:t))}}):"create"===p?(0,a.jsx)(G,{trailer:null,onSave:j,onCancel:E,existingTrailerNumbers:v}):"edit"===p&&N?(0,a.jsx)(G,{trailer:N,onSave:C,onCancel:E,existingTrailerNumbers:v.filter(e=>e!==N?.trailerName)}):(0,a.jsx)(A,{trailers:s,onCreateTrailer:R,onViewTrailer:k,onEditTrailer:T,onDeleteTrailer:L}),(0,a.jsx)($,{isOpen:h,onClose:M,trailer:u,onConfirmDelete:D})]})}},4138:(e,t,s)=>{s.d(t,{W:()=>r});var a=s(4848);s(6540);const r=({status:e,size:t="sm",className:s=""})=>{const r=(e=>({UB:{bg:"bg-blue-100",text:"text-blue-800",label:"UB"},WB:{bg:"bg-teal-100",text:"text-teal-800",label:"WB"},WIP:{bg:"bg-amber-100",text:"text-amber-800",label:"WIP"},Completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},planning:{bg:"bg-amber-100",text:"text-amber-800",label:"Planning"},"in-progress":{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},"on-hold":{bg:"bg-gray-100",text:"text-gray-800",label:"On Hold"},available:{bg:"bg-green-100",text:"text-green-800",label:"Available"},busy:{bg:"bg-amber-100",text:"text-amber-800",label:"Busy"},unavailable:{bg:"bg-red-100",text:"text-red-800",label:"Unavailable"},low:{bg:"bg-amber-100",text:"text-amber-800",label:"Low Stock"},"in-use":{bg:"bg-blue-100",text:"text-blue-800",label:"In Use"},maintenance:{bg:"bg-orange-100",text:"text-orange-800",label:"Maintenance"},good:{bg:"bg-green-100",text:"text-green-800",label:"Good"},critical:{bg:"bg-red-100",text:"text-red-800",label:"Critical"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",label:e}))(e),l="sm"===t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return(0,a.jsx)("span",{className:`inline-flex items-center rounded-full font-medium ${r.bg} ${r.text} ${l} ${s}`,children:r.label})}}}]);