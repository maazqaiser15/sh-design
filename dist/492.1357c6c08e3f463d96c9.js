"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[492],{408:(e,t,a)=>{a.d(t,{xw:()=>s});const s=[{id:"win-001",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:3,status:"Pending",assignedTeamMembers:[],installationBreakdown:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",projectId:"proj-001"},{id:"win-002",windowName:"Conference Room Window",filmType:"Riot+",length:200,width:100,layers:2,status:"In Progress",assignedTeamMembers:["tm-001","tm-002"],installationBreakdown:[{layerNumber:1,layerName:"Interior Layer",installerName:"John Smith",installerId:"tm-001",installedAt:"2024-01-16T09:00:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T09:00:00Z",projectId:"proj-001"},{id:"win-003",windowName:"Reception Area Window",filmType:"Security",length:150,width:90,layers:1,status:"Complete",assignedTeamMembers:["tm-003"],installationBreakdown:[{layerNumber:1,layerName:"Security Film",installerName:"Mike Lee",installerId:"tm-003",installedAt:"2024-01-16T14:30:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:30:00Z",projectId:"proj-001"},...Array.from({length:57},(e,t)=>{const a=t+4,s=["BR","Riot","Riot+","Security","Privacy","Decorative","Other"],r=["Pending","Updated","In Progress","Complete","Reinstallation Needed"],l=s[t%s.length],i=r[t%r.length],n=Math.floor(3*Math.random())+1,o="In Progress"===i||"Complete"===i?["tm-001","tm-002","tm-003","tm-004","tm-005"].slice(0,Math.floor(3*Math.random())+1):[],d="Complete"===i||"In Progress"===i?Array.from({length:n},(e,t)=>({layerNumber:t+1,layerName:`Layer ${t+1}`,installerName:`Installer ${String.fromCharCode(65+t)}`,installerId:`tm-${String(t+1).padStart(3,"0")}`,installedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),status:Math.random()>.1?"installed":"reinstallation_needed"})):[];return{id:`win-${String(a).padStart(3,"0")}`,windowName:`Window ${a}`,filmType:l,length:Math.floor(200*Math.random())+80,width:Math.floor(120*Math.random())+60,layers:n,status:i,assignedTeamMembers:o,installationBreakdown:d,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),projectId:"proj-001"}})]},1747:(e,t,a)=>{a.d(t,{b:()=>d});var s=a(4848),r=a(6540),l=a(9775),i=a(1085),n=a(894),o=a(5919);const d=({isOpen:e,onClose:t,onSave:a,onEdit:d,editingTravel:c,availableTeamMembers:m})=>{const[x,p]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[u,h]=(0,r.useState)({}),g=!!c;(0,r.useEffect)(()=>{e&&(p(c?{travelType:c.travelType,departureLocation:c.departureLocation,destination:c.destination,departureDate:c.departureDate,returnDate:c.returnDate||"",assignedTeamMembers:c.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),h({}))},[e,c]);const b=(e,t)=>{p(a=>({...a,[e]:t})),u[e]&&h(t=>({...t,[e]:""}))},j=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,s.jsx)(n.a,{isOpen:e,onClose:t,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),h(e),0===Object.keys(e).length})())return;const s={...x,returnDate:x.returnDate||void 0};g&&d?d(c.id,s):a(s),t()},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,s.jsxs)("select",{value:x.travelType,onChange:e=>b("travelType",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Flight",children:"Flight"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Train",children:"Train"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,s.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>b("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),u.departureLocation&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.departureLocation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,s.jsx)("input",{type:"text",value:x.destination,onChange:e=>b("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),u.destination&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.destination})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,s.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>b("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.departureDate?"border-red-300":"border-gray-300")}),u.departureDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.departureDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,s.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>b("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),j().length>0&&(0,s.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",j().length,")"]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:j().map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,s.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,s.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void p(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),u.assignedTeamMembers&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.assignedTeamMembers})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(o.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(o.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,a)=>{a.d(t,{N:()=>s});const s=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},2845:(e,t,a)=>{a.d(t,{Qp:()=>l});var s=a(9803);const r=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),l=()=>s.d.map(r)},3492:(e,t,a)=>{a.d(t,{ProjectDetailsPage:()=>X});var s=a(4848),r=a(6540),l=a(7767),i=a(339);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"TXDA-SJ1BR1-EETUSC01-P20001",stage:"PV75",status:"PV75",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},o={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var d=a(4722),c=a(5212),m=a(1747),x=a(2321),p=a(9809),u=a(3729),h=a(5732),g=a(9237),b=a(799),j=a(7596),f=a(1397),v=a(5919),y=a(894);const N=({isOpen:e,onClose:t,onAssignTrailer:a,availableTrailers:l,assignedTrailerId:i})=>{const[n,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[p,N]=(0,r.useState)(i||null),w=(0,r.useMemo)(()=>{const e=l.map(e=>e.currentLocation);return[...new Set(e)].sort()},[l]),C=(0,r.useMemo)(()=>l.filter(e=>{const t=e.trailerName.toLowerCase().includes(n.toLowerCase())||e.registrationNumber.toLowerCase().includes(n.toLowerCase())||e.currentLocation.toLowerCase().includes(n.toLowerCase()),a=!d||e.status===d,s=!m||e.currentLocation===m;return t&&a&&s}),[l,n,d,m]),k=()=>{t(),o(""),c(""),N(i||null)};return(0,s.jsx)(y.a,{isOpen:e,onClose:k,title:"Assign Trailer to Project",size:"lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)(b.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:n,onChange:e=>o(e.target.value)}),n&&(0,s.jsx)("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,s.jsx)(g.A,{size:16})})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>c(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,s.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),w.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===C.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,s.jsx)(j.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,s.jsx)("div",{className:"space-y-3",children:C.map(e=>{const t=(e=>"available"===e.status)(e),a=p===e.id;return(e=>{e.inventory.filmSheets.reduce((e,t)=>e+t.currentStock,0),e.inventory.tools.filter(e=>"good"===e.status).length,e.inventory.tools.length})(e),(0,s.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 "+(t?a?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>{return t&&(a=e.id,void N(a));var a},children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-1",children:t?a?(0,s.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(u.A,{className:"w-3 h-3 text-white"})}):(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,s.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"w-3 h-3 text-gray-500"})})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,s.jsx)(j.A,{className:"w-4 h-4 text-blue-600"})})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-1 "+(t?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("p",{className:"text-sm "+(t?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,s.jsx)(f.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{children:e.currentLocation})]})]})]}),(0,s.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end",children:"available"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,s.jsx)(u.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,s.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,s.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Unavailable"]}),(0,s.jsxs)("span",{className:"text-xs text-red-600 mt-1",children:["until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})]})})]})})]})},e.id)})})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(v.$,{variant:"secondary",onClick:k,children:"Cancel"}),(0,s.jsx)(v.$,{variant:"primary",onClick:()=>{const e=l.find(e=>e.id===p);e&&(a(e),t())},disabled:!p,children:i?"Update Trailer":"Assign Trailer"})]})]})})},w=({name:e})=>(0,s.jsx)("div",{className:"bg-[#0D76BF] rounded-full w-8 h-8 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-sm font-medium",children:e.split(" ").map(e=>e[0]).join("")})}),C=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),k=({member:e,onClick:t,onRemove:a,className:r=""})=>{const{name:l,role:i,avatar:n,isLead:o}=e,d=n||(l.toLowerCase().includes("james")?"http://localhost:3845/assets/5180c7274a468ba221dccc98237c5b89acc690bd.png":l.toLowerCase().includes("emma")?"http://localhost:3845/assets/d20f43a765e6ed6ac3bdea39b6be2ea6b6b1193c.png":null);return(0,s.jsxs)("div",{className:`bg-white rounded-xl border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-all duration-200 group relative ${r}`,onClick:t,children:[a&&(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),a?.(e.id)},className:"absolute top-2 right-2 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600",title:"Remove team member",children:(0,s.jsx)(C,{})}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:d?(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${d}')`}}):(0,s.jsx)(w,{name:l})}),(0,s.jsxs)("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5 truncate",children:l}),o&&(0,s.jsx)("span",{className:"bg-[#0D76BF] text-white px-2 py-0.5 rounded text-xs font-medium",children:"Lead"})]}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5 truncate",children:i})]})]})]})},S=({members:e,onMemberClick:t,onMemberRemove:a,maxVisible:r=6,className:l=""})=>{const i=e.slice(0,r),n=e.length-r;return(0,s.jsxs)("div",{className:`space-y-3 ${l}`,children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:i.map(e=>(0,s.jsx)(k,{member:e,onClick:()=>t?.(e),onRemove:a},e.id))}),n>0&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-xs text-[#475467]",children:["+",n," more member",n>1?"s":""]})})]})},M=()=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),D=()=>(0,s.jsx)("img",{alt:"expand",className:"w-4 h-4",src:"http://localhost:3845/assets/3e78c16b10a97a5ae477b888f056cb3c7d900fb9.svg"}),L=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),T=()=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.3333 6.66667C13.3333 8.50761 11.841 10 10 10C8.15905 10 6.66667 8.50761 6.66667 6.66667C6.66667 4.82572 8.15905 3.33333 10 3.33333C11.841 3.33333 13.3333 4.82572 13.3333 6.66667Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M10 12.5C7.23858 12.5 5 14.7386 5 17.5H15C15 14.7386 12.7614 12.5 10 12.5Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M15.8333 6.66667C15.8333 7.58714 15.4542 8.47052 14.7791 9.14559C14.104 9.82066 13.2206 10.2 12.3 10.2",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M17.5 12.5C17.5 13.4205 17.1209 14.3039 16.4458 14.9789C15.7707 15.654 14.8873 16.0333 13.9667 16.0333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"})]}),A=({icon:e,message:t})=>(0,s.jsxs)("div",{className:"flex flex-col gap-1.5 items-center w-full",children:[e,(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:t})]}),P=({title:e,subtitle:t,actionButtons:a})=>(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:e}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:t})]}),a]}),I=({assignedTeam:e,onAddMember:t,onRemoveMember:a,onMarkComplete:r,onExpand:l,isCompleted:i=!1,showActions:n=!0})=>{const o=e&&e.members.length>0;return(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsx)(P,{title:"Assigned team",subtitle:"Select team members",actionButtons:n?(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[o&&(0,s.jsxs)("button",{onClick:r,className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(M,{}),"Mark as Complete"]}),o&&(0,s.jsx)("button",{onClick:l,className:"bg-white border border-[#d0d5dd] text-[#475467] w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(D,{})}),(0,s.jsx)("button",{onClick:t,className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(L,{})})]}):null}),o?(0,s.jsx)(S,{members:e.members.map(t=>({...t,isLead:t.id===e.leadMember?.id})),onMemberClick:e=>console.log("Member clicked:",e),onMemberRemove:a,maxVisible:4}):(0,s.jsx)(A,{icon:(0,s.jsx)(T,{}),message:"No team assigned yet"})]})})},B=({isOpen:e,onClose:t,onSubmit:a})=>{const[l,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)("air"),[d,c]=(0,r.useState)(1),[m,x]=(0,r.useState)(!1),[p,u]=(0,r.useState)(1);return(0,s.jsx)(y.a,{isOpen:e,onClose:t,size:"large",children:(0,s.jsxs)("div",{className:"w-full max-w-[540px] mx-auto p-6",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Request Travel & Accommodation"})}),(0,s.jsxs)("div",{className:"flex gap-6 mb-6",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Travel Details"}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:l,onChange:e=>i(e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),l&&(0,s.jsxs)("div",{className:"space-y-3 pl-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"travelMethod",value:"air",checked:"air"===n,onChange:()=>o("air"),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Travel by Air"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"travelMethod",value:"road",checked:"road"===n,onChange:()=>o("road"),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Travel by Road"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"travelTeamMembers",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Team Members"}),(0,s.jsx)("input",{type:"number",id:"travelTeamMembers",value:d,onChange:e=>c(Math.max(1,Math.min(50,Number(e.target.value)))),min:"1",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]})]})}),(0,s.jsx)("div",{className:"w-px bg-gray-200"}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Accommodation Request"}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:m,onChange:e=>x(e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),m&&(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"accommodationTeamMembers",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Team Members"}),(0,s.jsx)("input",{type:"number",id:"accommodationTeamMembers",value:p,onChange:e=>u(Math.max(1,Math.min(50,Number(e.target.value)))),min:"1",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})})]})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,s.jsx)(v.$,{variant:"outline",onClick:()=>{t()},className:"px-6 py-2",children:"Cancel"}),(0,s.jsx)(v.$,{onClick:()=>{a({travel:{enabled:l,method:n,teamMembers:l?d:0},accommodation:{enabled:m,teamMembers:m?p:0}}),t()},className:"px-6 py-2",children:"Submit Request"})]})]})})};var O=a(7235),R=a(2845),U=a(408);const W=()=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M10 18.3333C10 18.3333 16.6667 12.5 16.6667 8.33333C16.6667 6.44928 15.7143 4.64236 14.0711 3.28595C12.4278 1.92954 10.2243 1.16667 8.33333 1.16667C6.44238 1.16667 4.23886 1.92954 2.59564 3.28595C0.952427 4.64236 0 6.44928 0 8.33333C0 12.5 6.66667 18.3333 10 18.3333Z",stroke:"#667085",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z",stroke:"#667085",strokeWidth:"1.5"})]}),q=()=>(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6.66667 1.66667V4.16667M13.3333 1.66667V4.16667M2.91667 7.5H17.0833M17.5 7.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V7.5H17.5ZM2.5 7.5V5.83333C2.5 5.39131 2.67559 4.96738 2.98816 4.65482C3.30072 4.34226 3.72464 4.16667 4.16667 4.16667H15.8333C16.2754 4.16667 16.6993 4.34226 17.0118 4.65482C17.3244 4.96738 17.5 5.39131 17.5 5.83333V7.5H2.5Z",stroke:"#667085",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),$=()=>(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M11.3333 1.99999C11.5084 1.82498 11.7163 1.68604 11.9451 1.59128C12.1739 1.49652 12.4191 1.44775 12.6667 1.44775C12.9142 1.44775 13.1594 1.49652 13.3882 1.59128C13.617 1.68604 13.8249 1.82498 14 1.99999C14.175 2.175 14.3139 2.3829 14.4087 2.6117C14.5035 2.8405 14.5522 3.0857 14.5522 3.33332C14.5522 3.58094 14.5035 3.82614 14.4087 4.05492C14.3139 4.2837 14.175 4.4916 14 4.66665L5 13.6667L1.33333 14.6667L2.33333 11L11.3333 1.99999Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),E=()=>(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),F=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),z=()=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M1.66667 12.5H13.3333V4.16667H1.66667V12.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.3333 8.33333H15.8333L18.3333 10.8333V12.5H13.3333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("circle",{cx:"5",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"})]}),Z=()=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.3333 1.66667H5C4.55797 1.66667 4.13405 1.84226 3.82149 2.15482C3.50893 2.46738 3.33333 2.89131 3.33333 3.33333V16.6667C3.33333 17.1087 3.50893 17.5326 3.82149 17.8452C4.13405 18.1577 4.55797 18.3333 5 18.3333H15C15.442 18.3333 15.866 18.1577 16.1785 17.8452C16.4911 17.5326 16.6667 17.1087 16.6667 16.6667V6.66667L13.3333 1.66667Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.3333 1.66667V6.66667H16.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),V=()=>(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M15 2.5H5C4.17157 2.5 3.5 3.17157 3.5 4V16C3.5 16.8284 4.17157 17.5 5 17.5H15C15.8284 17.5 16.5 16.8284 16.5 16V4C16.5 3.17157 15.8284 2.5 15 2.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M8.33333 7.5H11.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M8.33333 10.8333H11.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),_=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),H=()=>(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M10.6667 4.66667L5.33333 10C4.59695 10.7364 4.59695 11.9302 5.33333 12.6667C6.06971 13.403 7.26362 13.403 8 12.6667L13.3333 7.33333C14.8061 5.86056 14.8061 3.47278 13.3333 2C11.8606 0.527241 9.47278 0.527241 8 2L2.66667 7.33333",stroke:"#344054",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),J=({title:e,status:t,description:a})=>(0,s.jsxs)("div",{className:"flex gap-3 items-start flex-1",children:[(0,s.jsx)("div",{className:"flex flex-col items-center pt-1",children:"completed"===t?(0,s.jsx)("div",{className:"bg-[#027a48] rounded-xl w-6 h-6 flex items-center justify-center",children:(0,s.jsx)(E,{})}):(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl w-6 h-6 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full"})})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("p",{className:"font-semibold text-sm text-[#344054] leading-5",children:e}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:a})]})]}),G=({icon:e,message:t,actionButton:a})=>(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[e,(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:t}),a]}),Q=({title:e,subtitle:t,actionButton:a,secondaryButton:r})=>(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:e}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:t})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[a,r]})]}),X=()=>{const{projectId:e}=(0,l.g)(),{showToast:t}=(0,O.d)(),[a,u]=((0,l.Zp)(),(0,r.useState)(n)),[h,g]=(0,r.useState)(o),[b,j]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[S,M]=(0,r.useState)(!1),[D,L]=(0,r.useState)(!1),[T,A]=(0,r.useState)(null),[P,X]=(0,r.useState)(!1),[K,Y]=(0,r.useState)(!1),[ee,te]=(0,r.useState)(null),[ae,se]=(0,r.useState)(!1),[re,le]=(0,r.useState)(null),[ie,ne]=(0,r.useState)(!1),[oe,de]=(0,r.useState)(!1),[ce,me]=(0,r.useState)(!1),[xe,pe]=(0,r.useState)([]),[ue]=(0,r.useState)((0,R.Qp)()),[he,ge]=(0,r.useState)(U.xw),be=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},je=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};g(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},fe=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};g(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},ve=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};g(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))};return(0,s.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"px-[60px] py-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 mb-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 flex-1",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("h1",{className:"font-semibold text-2xl text-gray-900 leading-9.5",children:"Marriot Windows Installation"}),(0,s.jsx)("div",{className:"bg-[#e6f4fd] flex items-center justify-center px-2 py-1 rounded-md",children:(0,s.jsx)("p",{className:"font-semibold text-sm text-[#0d76bf] leading-5",children:"PV90"})})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"bg-gray-50 flex items-center justify-center px-2 py-1 rounded-md",children:(0,s.jsx)("p",{className:"font-semibold text-xs text-[#344054] leading-5",children:"TXDA-SJ1BR1-EETUSC01-P20001"})}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(W,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"123 Main Street, Downtown"})]}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(q,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"Feb 1, 2024 â€“ Feb 15, 2024"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)(v.$,{onClick:()=>{console.log("Mark stage as complete")},className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:"Mark Stage as Complete"}),(0,s.jsxs)(v.$,{onClick:()=>{j(!0)},variant:"outline",className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-md font-semibold text-sm leading-5 flex items-center gap-2 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:[(0,s.jsx)($,{}),"Edit"]})]})]}),(0,s.jsx)("div",{className:"h-px bg-gray-200 w-full"}),(0,s.jsxs)("div",{className:"flex items-center w-full",children:[(0,s.jsx)(J,{title:"Team Assignment",status:"completed",description:"Completed"}),(0,s.jsx)(J,{title:"Travel & Accommodation",status:"current",description:"In Progress"}),(0,s.jsx)(J,{title:"Trailer & Logistics",status:"incomplete",description:"In Progress"})]})]})}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6 flex-1",children:[(0,s.jsx)(I,{assignedTeam:h.assignedTeam,onAddMember:()=>{w(!0)},onRemoveMember:e=>{g(t=>{if(!t.assignedTeam)return t;const a=t.assignedTeam.members.filter(t=>t.id!==e),s=t.assignedTeam.leadMember?.id===e?void 0:t.assignedTeam.leadMember;return{...t,assignedTeam:a.length>0?{members:a,count:a.length,leadMember:s}:null}})},onMarkComplete:()=>console.log("Mark team as complete"),onExpand:()=>console.log("Expand team view"),showActions:!0}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:ce?"Request submitted to logistics manager":"Assign travel & accommodation"})]}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:ce?(0,s.jsxs)(v.$,{onClick:()=>console.log("Add travel details"),className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),"Add Details"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:()=>console.log("Mark as not required"),className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(E,{}),"Not Required"]}),(0,s.jsx)("button",{onClick:()=>{de(!0)},className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(F,{})})]})})]}),ce?(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(E,{}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Request submitted successfully"})]}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Logistics manager will review and provide details"})]}):(0,s.jsx)(G,{icon:(0,s.jsx)(z,{}),message:"No travel & accommodation assigned yet"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Documents"}),(0,s.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[xe.length," document",1!==xe.length?"s":""]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"file",id:"document-upload",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif",onChange:e=>{const a=e.target.files;if(a){const e=Array.from(a);pe(t=>[...t,...e]),t(`${e.length} document(s) uploaded successfully!`)}e.target.value=""},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"document-upload",className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,s.jsx)("img",{alt:"upload",className:"w-4 h-4",src:"http://localhost:3845/assets/daadc190803c0c7b65b2152c51e5a058c692c5f4.svg"}),"Upload document"]})]})]}),xe.length>0?(0,s.jsx)("div",{className:"space-y-3",children:xe.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(Z,{})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:be(e.size)})]})]}),(0,s.jsx)("button",{onClick:()=>(e=>{pe(t=>t.filter((t,a)=>a!==e)),t("Document removed successfully!")})(a),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove document",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a))}):(0,s.jsx)(G,{icon:(0,s.jsx)(Z,{}),message:"No documents uploaded yet"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Notes"}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"0 notes"})]}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)("button",{onClick:()=>console.log("Add note"),className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(F,{})})})]}),(0,s.jsx)(G,{icon:(0,s.jsx)(V,{}),message:"No notes added yet"})]})})]}),(0,s.jsx)("div",{className:"flex flex-col gap-6 flex-1",children:(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(Q,{title:"Trailer & Logistics",subtitle:"136 required â€¢ 45 in trailer",actionButton:(0,s.jsxs)(v.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 opacity-0",children:[(0,s.jsx)(E,{}),"Mark as Complete"]}),secondaryButton:(0,s.jsx)(v.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 w-8 h-8 rounded-lg flex items-center justify-center opacity-0",children:(0,s.jsx)(F,{})})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(z,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:"No trailer assigned yet"})]}),(0,s.jsxs)(v.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,s.jsx)(_,{}),"Add trailer"]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-200",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,s.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"Required"})}),(0,s.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"BR"}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"30 Sheets"})]}),(0,s.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"Riot+"}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"10 Sheets"})]}),(0,s.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 h-14 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"Smash"}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"5"})]}),(0,s.jsxs)("div",{className:"px-4 py-2 h-14 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5",children:"FER"}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"4 Sheets"})]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,s.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"In Trailer"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"15 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"5 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"2 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"3 sheets"})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,s.jsx)("p",{className:"font-medium text-xs text-[#475467] leading-4.5",children:"Need to Ship"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"15 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"5 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"3 sheets"})}),(0,s.jsx)("div",{className:"px-4 py-2 flex items-center h-14",children:(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"1 sheets"})})]})]})}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)(v.$,{variant:"ghost",className:"text-[#0d76bf] font-semibold text-sm leading-5 flex items-center gap-2",children:[(0,s.jsx)(_,{}),"7 more film types"]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(V,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:"No receipt attached yet"})]}),(0,s.jsxs)(v.$,{variant:"outline",className:"bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,s.jsx)(H,{}),"Add attachment"]})]})})]})})})]})]}),(0,s.jsx)(y.a,{isOpen:b,onClose:()=>j(!1),title:"Edit Project",size:"md",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,s.jsx)("div",{className:"flex justify-end space-x-3",children:(0,s.jsx)("button",{onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,s.jsx)(d.W,{isOpen:f,onClose:()=>w(!1),onAssignTeam:je,availableMembers:x.N,projectDetails:a}),(0,s.jsx)(d.W,{isOpen:C,onClose:()=>k(!1),onAssignTeam:je,availableMembers:x.N,assignedMemberIds:h.assignedTeam?.members.map(e=>e.id)||[],projectDetails:a}),(0,s.jsx)(c.C,{isOpen:S,onClose:()=>M(!1),onSave:fe}),(0,s.jsx)(c.C,{isOpen:D,onClose:()=>L(!1),onSave:fe,onEdit:(e,t)=>{g(a=>({...a,logisticsTravel:{...a.logisticsTravel,logistics:a.logisticsTravel.logistics.map(a=>a.id===e?{...a,...t,updatedAt:(new Date).toISOString()}:a)}}))},editingLogistics:T}),(0,s.jsx)(m.b,{isOpen:P,onClose:()=>X(!1),onSave:ve,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,s.jsx)(m.b,{isOpen:K,onClose:()=>Y(!1),onSave:ve,onEdit:(e,t)=>{g(a=>({...a,logisticsTravel:{...a.logisticsTravel,travelPlans:a.logisticsTravel.travelPlans.map(a=>a.id===e?{...a,...t,updatedAt:(new Date).toISOString()}:a)}}))},editingTravel:ee,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,s.jsx)(p.r,{isOpen:ae,onClose:()=>se(!1),onConfirm:(e,t)=>{console.log("Updating project dates:",{startDate:e,endDate:t}),se(!1)},projectTitle:a.name,projectStatus:a.status,initialStartDate:a.startDate,initialEndDate:a.endDate}),(0,s.jsx)(N,{isOpen:ie,onClose:()=>ne(!1),onAssignTrailer:e=>{le(e),g(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),ne(!1)},availableTrailers:ue,assignedTrailerId:re?.id}),(0,s.jsx)(B,{isOpen:oe,onClose:()=>de(!1),onSubmit:e=>{console.log("Travel & Accommodation Request:",e),me(!0),t("Request submitted to logistics manager successfully!")}})]})}},4722:(e,t,a)=>{a.d(t,{W:()=>p});var s=a(4848),r=a(6540),l=a(3573),i=a(1397),n=a(2053),o=a(799),d=a(4574),c=a(9237),m=a(5919),x=a(894);const p=({isOpen:e,onClose:t,onAssignTeam:a,availableMembers:p,assignedMemberIds:u=[],projectDetails:h})=>{const[g,b]=(0,r.useState)(""),[j,f]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[C,k]=(0,r.useState)(u),[S,M]=(0,r.useState)(1),D=15,L=(0,r.useMemo)(()=>p.map(e=>e.location).filter((e,t,a)=>a.indexOf(e)===t&&e).sort(),[p]),T=(0,r.useMemo)(()=>p.filter(e=>{const t=e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase())||e.phone?.toLowerCase().includes(g.toLowerCase()),a=!j||e.role===j,s=!v||e.status===v,r=!N||e.location===N;return t&&a&&s&&r}),[p,g,j,v,N]),A=Math.ceil(T.length/D),P=(0,r.useMemo)(()=>{const e=(S-1)*D;return T.slice(e,e+D)},[T,S,D]),I=e=>{const t=p.find(t=>t.id===e);t&&"Available"===t.status&&k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},B=e=>new Date(e).toLocaleDateString("en-GB"),O=C.length,R=T.length,U=p.filter(e=>C.includes(e.id));return(0,s.jsx)(x.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"xl",children:(0,s.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[h&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,s.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,s.jsx)("span",{className:"font-medium",children:B(h.startDate)}),(0,s.jsx)("span",{className:"mx-2",children:"â†’"}),(0,s.jsx)("span",{className:"font-medium",children:B(h.endDate)})]})]})}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:g,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:j,onChange:e=>f(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Roles"}),(0,s.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,s.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,s.jsx)("option",{value:"Installer",children:"Installer"}),(0,s.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,s.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"Available",children:"Available"}),(0,s.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),L.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),O>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",O,")"]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:U.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void k(e=>e.filter(e=>e!==t));var t},className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(c.A,{className:"w-3 h-3"})})]},e.id))})]}),(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[R," members found"]})}),(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(e=>{const t="Unavailable"===e.status,a=C.includes(e.id);return(0,s.jsxs)("tr",{className:`${t?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"} ${a?"bg-blue-50":""}`,onClick:()=>!t&&I(e.id),title:t?`Unavailable until ${e.unavailableUntil?B(e.unavailableUntil):"TBD"} â€” cannot assign.`:"",children:[(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("input",{type:"checkbox",checked:a,disabled:t,onChange:()=>!t&&I(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(r=e.name,r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(n.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.phone||"â€”"})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,s.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",B(e.unavailableUntil)]})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.location||"â€”"})]})})]},e.id);var r})})]})})}),A>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(S-1)*D+1," to ",Math.min(S*D,R)," of ",R," results"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>M(e=>Math.max(e-1,1)),disabled:1===S,children:"Previous"}),(0,s.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[S," of ",A]}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>M(e=>Math.min(e+1,A)),disabled:S===A,children:"Next"})]})]}),0===T.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(m.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsxs)(m.$,{variant:"primary",onClick:()=>{const e=p.filter(e=>C.includes(e.id));a(e),t()},disabled:0===O,children:["Add Team Members (",O,")"]})]})]})})}},5212:(e,t,a)=>{a.d(t,{C:()=>o});var s=a(4848),r=a(6540),l=a(1813),i=a(894),n=a(5919);const o=({isOpen:e,onClose:t,onSave:a,onEdit:o,editingLogistics:d})=>{const[c,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,p]=(0,r.useState)({}),u=!!d;(0,r.useEffect)(()=>{e&&(m(d?{name:d.name,type:d.type,description:d.description,quantity:d.quantity,location:d.location,expectedDate:d.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),p({}))},[e,d]);const h=(e,t)=>{m(a=>({...a,[e]:t})),x[e]&&p(t=>({...t,[e]:""}))};return(0,s.jsx)(i.a,{isOpen:e,onClose:t,title:u?"Edit Logistics":"Add Logistics",size:"md",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return c.name.trim()||(e.name="Logistics name is required"),c.description.trim()||(e.description="Description is required"),c.quantity<=0&&(e.quantity="Quantity must be greater than 0"),c.location.trim()||(e.location="Location is required"),c.expectedDate||(e.expectedDate="Expected date is required"),p(e),0===Object.keys(e).length})())return;const s={...c,quantity:Number(c.quantity)};u&&o?o(d.id,s):a(s),t()},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,s.jsx)("input",{type:"text",value:c.name,onChange:e=>h("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{value:c.type,onChange:e=>h("type",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Material",children:"Material"}),(0,s.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,s.jsx)("textarea",{value:c.description,onChange:e=>h("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,s.jsx)("input",{type:"number",min:"1",value:c.quantity,onChange:e=>h("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,s.jsx)("input",{type:"text",value:c.location,onChange:e=>h("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,s.jsx)("input",{type:"date",value:c.expectedDate,onChange:e=>h("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(n.$,{type:"submit",variant:"primary",icon:l.A,children:u?"Update Logistics":"Add Logistics"})]})]})})}},9809:(e,t,a)=>{a.d(t,{r:()=>o});var s=a(4848),r=a(6540),l=a(3573),i=a(5919),n=a(894);const o=({isOpen:e,onClose:t,onConfirm:a,projectTitle:o,projectStatus:d,initialStartDate:c="",initialEndDate:m=""})=>{const[x,p]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[g,b]=(0,r.useState)({}),[j,f]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(p(c),h(m),b({}),f(null))},[e,c,m]),(0,r.useEffect)(()=>{if(x&&u){const e=new Date(x),t=new Date(u);if(e<t){const a=Math.abs(t.getTime()-e.getTime()),s=Math.ceil(a/864e5);f(`${s} days`)}else f(null)}else f(null)},[x,u]),(0,s.jsx)(n.a,{isOpen:e,onClose:t,title:`Set Project Dates for ${o}`,children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,s.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(d)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>p(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,s.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"endDate",value:u,onChange:e=>h(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,s.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),j&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-green-800",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",j]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(i.$,{variant:"primary",onClick:()=>{(()=>{const e={},t=(new Date).toISOString().split("T")[0];return x?x<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",u?x&&u&&new Date(u)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",b(e),0===Object.keys(e).length})()&&(a(x,u),t())},children:"Save Dates"})]})]})})}}}]);