"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[711],{4711:(e,s,t)=>{t.d(s,{Trailers:()=>G});var r=t(4848),a=t(6540),l=t(7767),i=t(7596),n=t(339),c=t(1813),d=t(6913),o=t(1397),x=t(1314),m=t(5732),h=t(8954),u=t(1741),g=t(3175),p=t(799),j=t(5426),y=t(3492),N=t(82),v=t(4810),f=t(885),b=t(8931),w=t(2341),k=t(5919),S=t(4138),T=t(1377),A=t(3607);const C=({trailers:e,onCreateTrailer:s,onViewTrailer:t,onEditTrailer:l,onDeleteTrailer:c,isExecutive:d=!1,selectedTrailers:x=[],onSelectTrailer:m,onSelectAllTrailers:h,onBulkAction:u})=>{const{isMobile:g}=(0,T.c)(),[b,C]=(0,a.useState)(""),[z,L]=(0,a.useState)(""),[D,E]=(0,a.useState)(""),[I,R]=(0,a.useState)("trailerName"),[M,Z]=(0,a.useState)("asc"),[U,P]=(0,a.useState)(1),[B,F]=(0,a.useState)(10),[W,O]=(0,a.useState)(null),_=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&O(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const V=(0,a.useMemo)(()=>{const s=(0,A.Hc)(e,{status:z||void 0,state:D||void 0,search:b||void 0});return(0,A.LB)(s,I,M)},[e,b,z,D,I,M]),G=V.length,H=Math.ceil(G/B),K=(U-1)*B,Y=K+B,q=V.slice(K,Y);return a.useEffect(()=>{P(1)},[b,z,D]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,r.jsx)(k.$,{onClick:s,icon:n.A,children:"Add New Trailer"})]}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.A,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search trailers by name or registration number..",value:b,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,r.jsxs)("select",{value:z,onChange:e=>L(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"available",children:"Available"}),(0,r.jsx)("option",{value:"low",children:"Low Stock"}),(0,r.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,r.jsxs)("select",{value:D,onChange:e=>E(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"All Locations"}),A.hj.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})}),!g&&(0,r.jsx)($,{trailers:q,sortBy:I,sortOrder:M,onSort:e=>{I===e?Z("asc"===M?"desc":"asc"):(R(e),Z("asc"))},onViewTrailer:t,onEditTrailer:l,onDeleteTrailer:c,activeDropdown:W,onDropdownToggle:e=>{O(W===e?null:e)},onMenuAction:(e,s)=>{switch(O(null),e){case"view":t(s);break;case"edit":l(s);break;case"delete":c(s)}},dropdownRef:_,isExecutive:d,selectedTrailers:x,onSelectTrailer:m,onSelectAllTrailers:h}),g&&(0,r.jsx)("div",{className:"space-y-4",children:q.map(e=>(0,r.jsxs)(w.Z,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.trailerName}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.registrationNumber})]}),(0,r.jsx)(S.W,{status:e.status})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.parkingAddress})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end mt-4 gap-2",children:[(0,r.jsx)(k.$,{variant:"ghost",size:"sm",onClick:()=>t(e),icon:j.A,children:"View"}),(0,r.jsx)(k.$,{variant:"ghost",size:"sm",onClick:()=>l(e),icon:y.A,children:"Edit"}),(0,r.jsx)(k.$,{variant:"ghost",size:"sm",onClick:()=>c(e),icon:N.A,className:"text-red-600 hover:text-red-700",children:"Delete"})]})]},e.id))}),H>1&&(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("label",{htmlFor:"itemsPerPage",className:"text-sm text-gray-600",children:"Items per page:"}),(0,r.jsxs)("select",{id:"itemsPerPage",value:B,onChange:e=>{return s=Number(e.target.value),F(s),void P(1);var s},className:"px-2 py-1 pr-6 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,r.jsx)("option",{value:5,children:"5"}),(0,r.jsx)("option",{value:10,children:"10"}),(0,r.jsx)("option",{value:20,children:"20"}),(0,r.jsx)("option",{value:50,children:"50"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",K+1,"-",Math.min(Y,G)," of ",G," trailers"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(k.$,{variant:"secondary",size:"sm",onClick:()=>{U>1&&P(U-1)},disabled:1===U,className:"p-2",children:(0,r.jsx)(v.A,{size:16})}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:H},(e,s)=>s+1).map(e=>(0,r.jsx)("button",{onClick:()=>(e=>{P(e)})(e),className:"px-3 py-1 text-sm rounded "+(U===e?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:e},e))}),(0,r.jsx)(k.$,{variant:"secondary",size:"sm",onClick:()=>{U<H&&P(U+1)},disabled:U===H,className:"p-2",children:(0,r.jsx)(f.A,{size:16})})]})]})})]})},$=({trailers:e,sortBy:s,sortOrder:t,onSort:a,onViewTrailer:l,onEditTrailer:n,onDeleteTrailer:c,activeDropdown:d,onDropdownToggle:o,onMenuAction:x,dropdownRef:m,isExecutive:h=!1,selectedTrailers:u=[],onSelectTrailer:g,onSelectAllTrailers:p})=>{if(0===e.length)return(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(i.A,{size:48,className:"mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});const v=({field:e,children:l})=>(0,r.jsxs)("button",{onClick:()=>a(e),className:"flex items-center gap-1 text-left hover:text-primary transition-colors",children:[l,s===e&&(0,r.jsx)("span",{className:"text-primary",children:"asc"===t?"↑":"↓"})]});return(0,r.jsx)(w.Z,{padding:"sm",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(v,{field:"trailerName",children:"Trailer Name"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(v,{field:"registrationNumber",children:"Registration"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(v,{field:"location",children:"Location"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(v,{field:"status",children:"Status"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>l(e),children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.trailerName})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.registrationNumber})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,r.jsxs)("div",{className:"font-medium",children:[e.city,", ",e.state]}),(0,r.jsx)("div",{className:"text-gray-500 text-xs",children:e.parkingAddress})]})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)(S.W,{status:e.status,unavailableUntil:e.unavailableUntil})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"relative inline-block text-left",ref:d===e.id?m:null,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{type:"button",className:"flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:s=>{s.stopPropagation(),o(e.id)},id:`menu-button-${e.id}`,"aria-expanded":d===e.id,"aria-haspopup":"true",children:(0,r.jsx)(b.A,{size:20})}),d===e.id&&(0,r.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)("button",{onClick:s=>{s.stopPropagation(),x("view",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,r.jsx)(j.A,{size:16,className:"mr-2"}),"View Details"]}),(0,r.jsxs)("button",{onClick:s=>{s.stopPropagation(),x("edit",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,r.jsx)(y.A,{size:16,className:"mr-2"}),"Edit Trailer"]}),(0,r.jsxs)("button",{onClick:s=>{s.stopPropagation(),x("delete",e)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,r.jsx)(N.A,{size:16,className:"mr-2"}),"Delete Trailer"]})]})})]})})]},e.id))})]})})})};var z=t(8252),L=t(3459),D=t(7348),E=t(7720),I=t(4574);const R=({trailer:e,onBack:s,onEdit:t,onDelete:l,onRestock:x})=>{const[m,h]=(0,a.useState)("tools"),[u,g]=(0,a.useState)(e);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(k.$,{variant:"ghost",onClick:s,icon:z.A,className:"p-2",children:"Back"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:u.trailerName}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Registration: ",u.registrationNumber]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["available"===u.status&&(0,r.jsx)(k.$,{variant:"primary",onClick:()=>{console.log("Assign trailer to project:",u.trailerName)},icon:n.A,children:"Assign to Project"}),(0,r.jsx)(k.$,{variant:"secondary",onClick:()=>t(u),icon:y.A,children:"Edit Trailer"}),(0,r.jsx)(k.$,{variant:"ghost",onClick:()=>l(u),icon:N.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})]}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,r.jsx)(S.W,{status:u.status,size:"md",unavailableUntil:u.unavailableUntil})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(i.A,{size:20,className:"text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Name"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:u.trailerName})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)(L.A,{size:20,className:"text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:u.registrationNumber})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,r.jsx)(o.A,{size:20,className:"text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Address"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:u.parkingAddress})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,r.jsx)(o.A,{size:20,className:"text-orange-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Current Location"}),(0,r.jsx)("div",{className:"font-medium text-gray-500",children:"-"})]})]})]})]})}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"}),(0,r.jsx)(k.$,{variant:"secondary",onClick:()=>{const e={...u,inventory:{tools:u.inventory.tools.map(e=>({...e,currentStock:e.threshold,status:"good"})),filmSheets:u.inventory.filmSheets.map(e=>({...e,currentStock:e.threshold,status:"good"}))},status:"available",updatedAt:(new Date).toISOString(),activityLogs:[...u.activityLogs,{id:`restock-${Date.now()}`,type:"inventory_updated",description:"Trailer inventory restocked to threshold levels",timestamp:(new Date).toISOString(),systemGenerated:!0,user:"System"}]};g(e),x?.(e)},icon:D.A,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:"Mark Restocked"})]}),(0,r.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,r.jsx)("button",{onClick:()=>h("tools"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("tools"===m?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(c.A,{size:16}),"Tools (",u.inventory.tools.length,")"]})}),(0,r.jsx)("button",{onClick:()=>h("sheets"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("sheets"===m?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(d.A,{size:16}),"Film Sheets (",u.inventory.filmSheets.length,")"]})})]}),"tools"===m&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.inventory.tools.map((e,s)=>(0,r.jsx)(M,{item:e},s))})]})}),"sheets"===m&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sheet Type"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.inventory.filmSheets.map((e,s)=>(0,r.jsx)(Z,{item:e},s))})]})})]})}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(E.A,{size:20,className:"text-gray-600"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===u.activityLogs.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,r.jsx)("div",{className:"space-y-3",children:u.activityLogs.sort((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime()).map(e=>{return(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"p-1 rounded-full "+(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,r.jsx)(E.A,{size:14,className:"text-blue-600"}):(0,r.jsx)(I.A,{size:14,className:"text-green-600"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,r.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(s=e.timestamp,new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var s})})]})})]})},M=({item:e})=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.toolName})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(S.W,{status:e.status}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:e.currentStock>e.threshold?(0,r.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,r.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,r.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,r.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})})]}),Z=({item:e})=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.sheetType})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(S.W,{status:e.status}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:e.currentStock>e.threshold?(0,r.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,r.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,r.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,r.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})})]});var U=t(9237),P=t(6628);const B=({trailer:e,onSave:s,onCancel:t,existingTrailerNumbers:l})=>{const i=!!e,[n,c]=(0,a.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:A.w9.reduce((e,s)=>({...e,[s.name]:s.defaultThreshold}),{}),filmSheetThresholds:A.LT.reduce((e,s)=>({...e,[s]:10}),{})}),[d,o]=(0,a.useState)(A.w9.reduce((e,s)=>({...e,[s.name]:0}),{})),[x,m]=(0,a.useState)(A.LT.reduce((e,s)=>({...e,[s]:0}),{})),[h,u]=(0,a.useState)({}),[g,p]=(0,a.useState)(!1),[j,y]=(0,a.useState)([]);(0,a.useEffect)(()=>{n.state?(y(A.mV[n.state]||[]),c(e=>({...e,city:""}))):y([])},[n.state]),(0,a.useEffect)(()=>{if(e){const s=A.w9.reduce((e,s)=>({...e,[s.name]:s.defaultThreshold}),{});e.inventory.tools.forEach(e=>{s[e.toolName]=e.threshold});const t=A.LT.reduce((e,s)=>({...e,[s]:10}),{});e.inventory.filmSheets.forEach(e=>{t[e.sheetType]=e.threshold}),c({trailerName:e.trailerName,registrationNumber:e.registrationNumber,parkingAddress:e.parkingAddress||"",state:e.state||"",city:e.city||"",toolThresholds:s,filmSheetThresholds:t});const r=A.w9.reduce((e,s)=>({...e,[s.name]:0}),{});e.inventory.tools.forEach(e=>{r[e.toolName]=e.currentStock}),o(r);const a=A.LT.reduce((e,s)=>({...e,[s]:0}),{});e.inventory.filmSheets.forEach(e=>{a[e.sheetType]=e.currentStock}),m(a)}else c({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:A.w9.reduce((e,s)=>({...e,[s.name]:s.defaultThreshold}),{}),filmSheetThresholds:A.LT.reduce((e,s)=>({...e,[s]:10}),{})}),o(A.w9.reduce((e,s)=>({...e,[s.name]:0}),{})),m(A.LT.reduce((e,s)=>({...e,[s]:0}),{})),u({})},[e]);const N=(e,s)=>{c(t=>({...t,[e]:s})),h[e]&&u(s=>{const t={...s};return delete t[e],t})};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:i?`Edit Trailer ${e?.trailerName}`:"Add New Trailer"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:i?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(k.$,{type:"button",variant:"secondary",onClick:t,disabled:g,icon:U.A,children:"Cancel"}),(0,r.jsx)(k.$,{type:"submit",form:"trailer-form",disabled:g,icon:P.A,children:g?"Saving...":i?"Update Trailer":"Create Trailer"})]})]}),(0,r.jsx)("form",{id:"trailer-form",onSubmit:async t=>{t.preventDefault(),p(!0);const r=(0,A.is)(n),a=n.trailerName.trim();if((i?l.filter(s=>s!==e?.trailerName):l).includes(a)&&(r.errors.trailerName="Trailer name already exists",r.isValid=!1),!r.isValid)return u(r.errors),void p(!1);try{const t=A.w9.map(e=>({toolName:e.name,currentStock:d[e.name],threshold:n.toolThresholds[e.name],status:0===d[e.name]?"critical":d[e.name]<=n.toolThresholds[e.name]?"low":"good"})),r=A.LT.map(e=>({sheetType:e,currentStock:x[e],threshold:n.filmSheetThresholds[e],status:0===x[e]?"critical":x[e]<=n.filmSheetThresholds[e]?"low":"good"})),l={tools:t,filmSheets:r},c=((new Date).toISOString(),e?[...e.activityLogs]:[]);if(i&&e){e.trailerName!==a&&c.push((0,A.WR)("updated",`Trailer name changed from ${e.trailerName} to ${a}`,void 0,!0)),e.registrationNumber!==n.registrationNumber&&c.push((0,A.WR)("updated","Registration number updated",void 0,!0)),e.parkingAddress!==n.parkingAddress&&c.push((0,A.WR)("address_changed",`Parking address changed from ${e.parkingAddress} to ${n.parkingAddress}`,void 0,!0)),e.state!==n.state&&c.push((0,A.WR)("state_changed",`State changed from ${e.state} to ${n.state}`,void 0,!0)),e.city!==n.city&&c.push((0,A.WR)("city_changed",`City changed from ${e.city} to ${n.city}`,void 0,!0));const s=e.inventory.tools.some(e=>{const s=t.find(s=>s.toolName===e.toolName);return s&&(s.currentStock!==e.currentStock||s.threshold!==e.threshold)}),l=e.inventory.filmSheets.some(e=>{const s=r.find(s=>s.sheetType===e.sheetType);return s&&(s.currentStock!==e.currentStock||s.threshold!==e.threshold)});(s||l)&&c.push((0,A.WR)("inventory_updated","Inventory levels updated",void 0,!0))}else c.push((0,A.WR)("created",`Trailer ${a} created`,void 0,!0));const o={trailerName:a,registrationNumber:n.registrationNumber.trim(),parkingAddress:n.parkingAddress.trim(),state:n.state,city:n.city,inventory:l,status:"available",activityLogs:c};s(o),u({})}catch(e){console.error("Error saving trailer:",e)}finally{p(!1)}},className:"space-y-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"trailerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Trailer Name *"}),(0,r.jsx)("input",{type:"text",id:"trailerName",value:n.trailerName,onChange:e=>N("trailerName",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(h.trailerName?"border-red-300":"border-gray-300"),placeholder:"Enter trailer name"}),h.trailerName&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:h.trailerName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),(0,r.jsx)("input",{type:"text",id:"registrationNumber",value:n.registrationNumber,onChange:e=>N("registrationNumber",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(h.registrationNumber?"border-red-300":"border-gray-300"),placeholder:"Enter registration number"}),h.registrationNumber&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:h.registrationNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"parkingAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Address *"}),(0,r.jsx)("input",{type:"text",id:"parkingAddress",value:n.parkingAddress,onChange:e=>N("parkingAddress",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(h.parkingAddress?"border-red-300":"border-gray-300"),placeholder:"Enter parking address"}),h.parkingAddress&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:h.parkingAddress})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,r.jsxs)("select",{id:"state",value:n.state,onChange:e=>N("state",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(h.state?"border-red-300":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Select state"}),A.hj.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),h.state&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:h.state})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,r.jsxs)("select",{id:"city",value:n.city,onChange:e=>N("city",e.target.value),disabled:!n.state,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ${h.city?"border-red-300":"border-gray-300"} ${n.state?"":"bg-gray-100 cursor-not-allowed"}`,children:[(0,r.jsx)("option",{value:"",children:"Select city"}),j.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),h.city&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:h.city})]})]})]})]})}),(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Film Sheets Inventory"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each film sheet type."}),(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:A.LT.map(e=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e})})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,r.jsx)("input",{type:"number",min:"0",value:x[e],onChange:s=>((e,s)=>{m(t=>({...t,[e]:Math.max(0,s)}))})(e,parseInt(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,r.jsx)("input",{type:"number",min:"0",value:n.filmSheetThresholds[e]||10,onChange:s=>((e,s)=>{c(t=>({...t,filmSheetThresholds:{...t.filmSheetThresholds,[e]:Math.max(0,s)}}));const t=`sheet_${e}`;h[t]&&u(e=>{const s={...e};return delete s[t],s})})(e,parseInt(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e))})]})})]}),(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsx)(w.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Tools Inventory"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each tool. The system will alert when stock falls below threshold levels."}),(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:A.w9.map(e=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Default threshold: ",e.defaultThreshold]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,r.jsx)("input",{type:"number",min:"0",value:d[e.name],onChange:s=>{return t=e.name,r=parseInt(s.target.value)||0,void o(e=>({...e,[t]:Math.max(0,r)}));var t,r},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,r.jsx)("input",{type:"number",min:"0",value:n.toolThresholds[e.name]||e.defaultThreshold,onChange:s=>((e,s)=>{c(t=>({...t,toolThresholds:{...t.toolThresholds,[e]:Math.max(0,s)}}));const t=`tool_${e}`;h[t]&&u(e=>{const s={...e};return delete s[t],s})})(e.name,parseInt(s.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e.name))})]})})})]})})]})})};var F=t(894);const W=({isOpen:e,onClose:s,trailer:t,onConfirmDelete:l})=>{const[i,n]=(0,a.useState)(!1);return t?(0,r.jsx)(F.a,{isOpen:e,onClose:s,title:"Delete Trailer?",size:"sm",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,r.jsx)(m.A,{size:24,className:"text-red-600"})})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-900",children:["This will permanently remove ",(0,r.jsxs)("strong",{children:["Trailer ",t.trailerName]})," and its records. This action cannot be undone."]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Registration:"})," ",t.registrationNumber]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Location:"})," ",t.location]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",t.inventory.length," film types"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",t.activityLogs.length," entries"]})]})]})})]}),(0,r.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(m.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,r.jsx)("strong",{children:"Warning:"})," If this trailer is currently assigned to any projects, you may need to reassign them to other trailers before deletion."]})]})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,r.jsx)(k.$,{type:"button",variant:"secondary",onClick:s,disabled:i,children:"Cancel"}),(0,r.jsx)(k.$,{type:"button",onClick:async()=>{if(t){n(!0);try{await l(t),s()}catch(e){console.error("Error deleting trailer:",e)}finally{n(!1)}}},disabled:i,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:i?"Deleting...":"Delete Trailer"})]})]})}):null};var O=t(7894),_=t(8085),V=t(9803);const G=()=>{const{trailerId:e}=(0,l.g)(),s=(0,l.Zp)(),{user:t,hasPermission:p}=(0,_.A)(),j="executive"===t?.userType,[y,N]=(0,a.useState)(V.d),[v,f]=(0,a.useState)(!1),[b,S]=(0,a.useState)(null),[T,$]=(0,a.useState)("list"),[z,L]=(0,a.useState)(null),[D,E]=(0,a.useState)([]),[I,M]=(0,a.useState)(!1),[Z,U]=(0,a.useState)(!1),P=y.map(e=>e.trailerName),F=(0,a.useMemo)(()=>{if(!j)return null;const e=y.length,s=y.filter(e=>"available"===e.status).length,t=y.filter(e=>"low"===e.status).length,r=y.filter(e=>"unavailable"===e.status).length,a=y.reduce((e,s)=>(e[s.status]=(e[s.status]||0)+1,e),{}),l=y.reduce((e,s)=>(e[s.state]=(e[s.state]||0)+1,e),{}),i=y.reduce((e,s)=>e+s.inventory.tools.reduce((e,s)=>e+s.currentStock,0),0),n=y.reduce((e,s)=>e+s.inventory.filmSheets.reduce((e,s)=>e+s.currentStock,0),0);return{totalTrailers:e,availableTrailers:s,lowStockTrailers:t,unavailableTrailers:r,trailersByStatus:a,trailersByState:l,totalTools:i,totalFilmSheets:n,averageUtilization:e>0?(s+t)/e*100:0}},[y,j]),G=e?y.find(s=>s.id===e):null;(0,a.useEffect)(()=>{e&&G?$("detail"):e||$(e=>"create"===e||"edit"===e?e:"list")},[e,G]),(0,O.KF)("detail"===T&&G?[{label:"Trailers",href:"/trailers",icon:i.A},{label:`Trailer ${G.trailerName}`}]:"create"===T?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Add New Trailer"}]:"edit"===T&&z?[{label:"Trailers",href:"/trailers",icon:i.A},{label:`Edit Trailer ${z.trailerName}`}]:[{label:"Trailers",icon:i.A}],[T,G,z]),(0,a.useEffect)(()=>{e&&!G&&s("/trailers",{replace:!0})},[e,G,s]);const H=(0,a.useCallback)(e=>{const s=(new Date).toISOString(),t=(0,A.A6)(e.inventory),r=(0,A.yS)(t),a={...e,id:crypto.randomUUID(),inventory:t,status:r,createdAt:s,updatedAt:s};N(e=>[...e,a]),$("list")},[]),K=(0,a.useCallback)(e=>{s(`/trailers/${e.id}`)},[s]),Y=(0,a.useCallback)(()=>{s("/trailers"),$("list")},[s]),q=(0,a.useCallback)(e=>{L(e),$("edit")},[]),J=(0,a.useCallback)(e=>{const s=(new Date).toISOString(),t={...e,id:z?.id||crypto.randomUUID(),createdAt:z?.createdAt||s,updatedAt:s};N(e=>e.map(e=>e.id===t.id?t:e)),$("list"),L(null)},[z]),Q=(0,a.useCallback)(()=>{$("create")},[]),X=(0,a.useCallback)(()=>{$("list"),L(null)},[]),ee=(0,a.useCallback)(e=>{S(e),f(!0)},[]),se=(0,a.useCallback)(t=>{N(e=>e.filter(e=>e.id!==t.id)),e===t.id&&s("/trailers")},[e,s]),te=(0,a.useCallback)(()=>{f(!1),S(null)},[]),re=(0,a.useCallback)(e=>{E(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),ae=(0,a.useCallback)(()=>{D.length===y.length?E([]):E(y.map(e=>e.id))},[D.length,y]),le=(0,a.useCallback)(e=>{console.log(`Bulk action: ${e} on trailers:`,D)},[D]),ie=((0,a.useCallback)(()=>{console.log("Export all trailers data")},[]),(0,a.useCallback)(()=>{console.log("Refresh inventory status for all trailers")},[]));return 0===y.length&&"list"===T?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,r.jsxs)(w.Z,{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,r.jsx)(i.A,{size:48,className:"text-blue-600"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Trailers Yet"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first trailer to manage inventory, track locations, and streamline your operations."}),(0,r.jsx)(k.$,{variant:"primary",size:"lg",onClick:Q,icon:n.A,className:"mb-8",children:"Create Your First Trailer"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(c.A,{size:24,className:"text-green-600"})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tool Management"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Track tools and equipment with real-time inventory levels"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(d.A,{size:24,className:"text-purple-600"})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Film Inventory"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor film sheet stock and get low inventory alerts"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(o.A,{size:24,className:"text-orange-600"})}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location Tracking"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of trailer locations and parking addresses"})]})]})]}),(0,r.jsxs)(w.Z,{className:"mt-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started Tips"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"1"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Set up basic information"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Add trailer name, registration number, and parking address"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"2"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Configure inventory thresholds"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Set minimum stock levels for tools and film sheets"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"3"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Start tracking"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor inventory levels and get automated alerts"})]})]})]})]})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["detail"===T&&G?(0,r.jsx)(R,{trailer:G,onBack:Y,onEdit:q,onDelete:ee,onRestock:e=>{N(s=>s.map(s=>s.id===e.id?e:s))}}):"create"===T?(0,r.jsx)(B,{trailer:null,onSave:H,onCancel:X,existingTrailerNumbers:P}):"edit"===T&&z?(0,r.jsx)(B,{trailer:z,onSave:J,onCancel:X,existingTrailerNumbers:P.filter(e=>e!==z?.trailerName)}):(0,r.jsxs)("div",{className:"space-y-6",children:[j&&I&&F&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(w.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Trailers"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.totalTrailers})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,r.jsx)(i.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,r.jsx)(w.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:F.availableTrailers})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,r.jsx)(w.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:F.lowStockTrailers})]}),(0,r.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,r.jsx)(m.A,{className:"w-6 h-6 text-orange-600"})})]})}),(0,r.jsx)(w.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilization"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[F.averageUtilization.toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,r.jsx)(h.A,{className:"w-6 h-6 text-purple-600"})})]})})]}),j&&(0,r.jsx)(w.Z,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(k.$,{variant:"secondary",size:"sm",icon:u.A,onClick:()=>M(!I),children:[I?"Hide":"Show"," Analytics"]}),(0,r.jsx)(k.$,{variant:"secondary",size:"sm",icon:g.A,onClick:ie,children:"Refresh Inventory"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[y.length," trailer(s) total"]})]})}),(0,r.jsx)(C,{trailers:y,onCreateTrailer:Q,onViewTrailer:K,onEditTrailer:q,onDeleteTrailer:ee,isExecutive:j,selectedTrailers:D,onSelectTrailer:re,onSelectAllTrailers:ae,onBulkAction:le})]}),(0,r.jsx)(W,{isOpen:v,onClose:te,trailer:b,onConfirmDelete:se})]})}}}]);