/*! For license information please see 334.325a441f068ef7ca95d3.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[334],{1449:(e,t,r)=>{r.d(t,{s:()=>b});var n=r(4848),s=r(6540),a=r(7821),i=r(74),l=r(3774);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function d(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function a(r,n,s,a){var o=n&&n.prototype instanceof l?n:l,d=Object.create(o.prototype);return c(d,"_invoke",function(r,n,s){var a,l,o,d=0,c=s||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,o=e,m.n=r,i}};function x(r,n){for(l=r,o=n,t=0;!u&&d&&!s&&t<c.length;t++){var s,a=c[t],x=m.p,h=a[2];r>3?(s=h===n)&&(o=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((s=r<2&&x<a[1])?(l=0,m.v=n,m.n=a[1]):x<h&&(s=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,m.n=h,l=0))}if(s||r>1)return i;throw u=!0,n}return function(s,c,h){if(d>1)throw TypeError("Generator is already running");for(u&&1===c&&x(c,h),l=c,o=h;(t=l<2?e:o)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,o)):m.n=o:m.v=o);try{if(d=2,a){if(l||(s="next"),t=a[s]){if(!(t=t.call(a,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(o=TypeError("The iterator does not provide a '"+s+"' method"),l=1);a=e}else if((t=(u=m.n<0)?o:r.call(n,m))!==i)break}catch(t){a=e,l=1,o=t}finally{d=1}}return{value:t,done:u}}}(r,s,a),!0),d}var i={};function l(){}function o(){}function u(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(c(t={},n,function(){return this}),t),x=u.prototype=l.prototype=Object.create(m);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e}return o.prototype=u,c(x,"constructor",u),c(u,"constructor",o),o.displayName="GeneratorFunction",c(u,s,"GeneratorFunction"),c(x),c(x,s,"Generator"),c(x,n,function(){return this}),c(x,"toString",function(){return"[object Generator]"}),(d=function(){return{w:a,m:h}})()}function c(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}c=function(e,t,r,n){function a(t,r){c(e,t,function(e){return this._invoke(t,r,e)})}t?s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},c(e,t,r,n)}function u(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,r,n,s,a,i){try{var l=e[a](i),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(n,s)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=e.isOpen,r=e.onClose,o=e.onUpdateTrailer,c=e.trailer,x=(e.existingTrailerNumbers,f((0,s.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:l.w9.reduce(function(e,t){return h(h({},e),{},p({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:l.LT.reduce(function(e,t){return h(h({},e),{},p({},t,10))},{})}),2)),y=x[0],g=x[1],b=f((0,s.useState)(l.w9.reduce(function(e,t){return h(h({},e),{},p({},t.name,0))},{})),2),j=b[0],v=b[1],w=f((0,s.useState)(l.LT.reduce(function(e,t){return h(h({},e),{},p({},t,0))},{})),2),N=w[0],S=w[1],A=f((0,s.useState)({}),2),C=A[0],k=A[1],I=f((0,s.useState)(!1),2),T=I[0],D=I[1],P=f((0,s.useState)("tools"),2),O=P[0],L=P[1];(0,s.useEffect)(function(){if(c){var e=l.w9.reduce(function(e,t){return h(h({},e),{},p({},t.name,t.defaultThreshold))},{});c.inventory.tools.forEach(function(t){e[t.toolName]=t.threshold});var t=l.LT.reduce(function(e,t){return h(h({},e),{},p({},t,10))},{});c.inventory.filmSheets.forEach(function(e){t[e.sheetType]=e.threshold}),g(function(r){return h(h({},r),{},{toolThresholds:e,filmSheetThresholds:t})});var r=l.w9.reduce(function(e,t){return h(h({},e),{},p({},t.name,0))},{});c.inventory.tools.forEach(function(e){r[e.toolName]=e.currentStock}),v(r);var n=l.LT.reduce(function(e,t){return h(h({},e),{},p({},t,0))},{});c.inventory.filmSheets.forEach(function(e){n[e.sheetType]=e.currentStock}),S(n)}},[c]);var M=function(){var e,t=(e=d().m(function e(t){var n,s,a,i,m,x,h;return d().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),D(!0),c){e.n=1;break}return D(!1),e.a(2);case 1:try{n=l.w9.map(function(e){return{toolName:e.name,currentStock:j[e.name],threshold:y.toolThresholds[e.name],status:0===j[e.name]?"critical":j[e.name]<=y.toolThresholds[e.name]?"low":"good"}}),s=l.LT.map(function(e){return{sheetType:e,currentStock:N[e],threshold:y.filmSheetThresholds[e],status:0===N[e]?"critical":N[e]<=y.filmSheetThresholds[e]?"low":"good"}}),a={tools:n,filmSheets:s},i=u(c.activityLogs),m=c.inventory.tools.some(function(e){var t=n.find(function(t){return t.toolName===e.toolName});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),x=c.inventory.filmSheets.some(function(e){var t=s.find(function(t){return t.sheetType===e.sheetType});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),(m||x)&&i.push((0,l.WR)("inventory_updated","Inventory levels updated",void 0,!0)),h={trailerName:c.trailerName,registrationNumber:c.registrationNumber,parkingAddress:c.parkingAddress,state:c.state,city:c.city,inventory:a,status:c.status,activityLogs:i},o(h),k({}),r()}catch(e){console.error("Error updating trailer:",e)}finally{D(!1)}case 2:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(e){m(a,n,s,i,l,"next",e)}function l(e){m(a,n,s,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),B=function(){k({}),L("tools"),r()};return c?(0,n.jsx)(a.a,{isOpen:t,onClose:B,title:"Update Trailer - ".concat(c.trailerName),size:"xl",children:(0,n.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return L("tools")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("tools"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Tools Inventory"}),(0,n.jsx)("button",{type:"button",onClick:function(){return L("filmSheets")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("filmSheets"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Film Sheets"})]}),"tools"===O&&(0,n.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:l.w9.map(function(e){return(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Default threshold: ",e.defaultThreshold]})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,n.jsx)("input",{type:"number",min:"0",value:j[e.name],onChange:function(t){return r=e.name,n=parseInt(t.target.value)||0,void v(function(e){return h(h({},e),{},p({},r,Math.max(0,n)))});var r,n},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,n.jsx)("input",{type:"number",min:"0",value:y.toolThresholds[e.name]||e.defaultThreshold,onChange:function(t){return function(e,t){g(function(r){return h(h({},r),{},{toolThresholds:h(h({},r.toolThresholds),{},p({},e,Math.max(0,t)))})});var r="tool_".concat(e);C[r]&&k(function(e){var t=h({},e);return delete t[r],t})}(e.name,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e.name)})}),"filmSheets"===O&&(0,n.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:l.LT.map(function(e){return(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e})})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,n.jsx)("input",{type:"number",min:"0",value:N[e],onChange:function(t){return function(e,t){S(function(r){return h(h({},r),{},p({},e,Math.max(0,t)))})}(e,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,n.jsx)("input",{type:"number",min:"0",value:y.filmSheetThresholds[e]||10,onChange:function(t){return function(e,t){g(function(r){return h(h({},r),{},{filmSheetThresholds:h(h({},r.filmSheetThresholds),{},p({},e,Math.max(0,t)))})});var r="sheet_".concat(e);C[r]&&k(function(e){var t=h({},e);return delete t[r],t})}(e,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e)})}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,n.jsx)(i.$,{type:"button",variant:"secondary",onClick:B,disabled:T,children:"Cancel"}),(0,n.jsx)(i.$,{type:"submit",disabled:T,children:T?"Updating...":"Update Trailer"})]})]})}):null}},1899:(e,t,r)=>{r.d(t,{o:()=>y});var n=r(4848),s=r(6540),a=r(339),i=r(82),l=r(74),o=r(7821);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e,t,r){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=["SW450SR","SW440RC","SW600RC+","SW600FE","SW600RC+","Tint Only","SW600FE","SW600RC","SW600BR","Kevlar"],y=function(e){var t,r,d=e.isOpen,u=e.onClose,p=e.onSubmit,y=(t=(0,s.useState)(f.map(function(e,t){return{id:"item-".concat(t+1),product:e,usedSheets:0,serialNumbers:[""]}})),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(t,r)||h(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=y[0],b=y[1],j=function(){b(f.map(function(e,t){return{id:"item-".concat(t+1),product:e,usedSheets:0,serialNumbers:[""]}})),u()};return(0,n.jsx)(o.a,{isOpen:d,onClose:j,size:"xl",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Update Inventory"})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Project Inventory"}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Product"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Used Sheets"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Serial Numbers"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(function(e){return(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product})}),(0,n.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,n.jsx)("input",{type:"number",min:"0",value:e.usedSheets,onChange:function(t){return r=e.id,n=parseInt(t.target.value)||0,void b(function(e){return e.map(function(e){return e.id===r?m(m({},e),{},x({},"usedSheets",n)):e})});var r,n},className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0"})}),(0,n.jsx)("td",{className:"px-4 py-4",children:(0,n.jsxs)("div",{className:"space-y-2",children:[e.serialNumbers.map(function(t,r){return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"text",value:t,onChange:function(t){return n=e.id,s=r,a=t.target.value,void b(function(e){return e.map(function(e){return e.id===n?m(m({},e),{},{serialNumbers:e.serialNumbers.map(function(e,t){return t===s?a:e})}):e})});var n,s,a},placeholder:"Enter serial number",className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.serialNumbers.length>1&&(0,n.jsx)("button",{onClick:function(){return t=e.id,n=r,void b(function(e){return e.map(function(e){return e.id===t?m(m({},e),{},{serialNumbers:e.serialNumbers.filter(function(e,t){return t!==n})}):e})});var t,n},className:"text-red-500 hover:text-red-700 transition-colors",children:(0,n.jsx)(i.A,{className:"w-4 h-4"})})]},r)}),(0,n.jsxs)("button",{onClick:function(){return t=e.id,void b(function(e){return e.map(function(e){return e.id===t?m(m({},e),{},{serialNumbers:[].concat(c(e.serialNumbers),[""])}):e})});var t},className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[(0,n.jsx)(a.A,{className:"w-4 h-4"}),"Add Serial Number"]})]})})]},e.id)})})]})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,n.jsx)(l.$,{variant:"secondary",onClick:j,children:"Cancel"}),(0,n.jsx)(l.$,{variant:"primary",onClick:function(){var e=g.filter(function(e){return e.usedSheets>0||e.serialNumbers.some(function(e){return e.trim()})});0!==e.length?(p(e),u()):alert("Please add at least one valid inventory item")},children:"Update Inventory"})]})]})})}},4334:(e,t,r)=>{r.r(t),r.d(t,{ProjectDetailsWIP:()=>je});var n=r(4848),s=r(6540),a=r(7767),i=r(5719),l=r(1397),o=r(3573),d=r(1314),c=r(7596),u=r(904),m=r(1813),x=r(3862),h=r(1085),p=r(1116),f=r(2025),y=r(339),g=r(799),b=r(3183),j=r(5891),v=r(5426),w=r(82),N=r(8931),S=r(8252),A=r(5279),C=r(3588),k=r(1676),I=r(7379),T=r(3459),D=r(6517),P=r(74),O=r(6368),L=r(6813),M=r(5331),B=r(5320),W=r(7990),R=r(4372),E=r(4131),F=r(4186),U=[{id:"w1",windowName:"Main Office Window 1",filmType:"BR",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:2,layerName:"Middle Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:3,layerName:"Exterior Layer",status:"Pending",installedBy:void 0,installedAt:void 0}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:1,color:"Black",tint:"None",stripping:!1,buildingName:"Main Building"},{id:"w2",windowName:"Main Office Window 2",filmType:"Riot",length:36,width:24,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:2,layerName:"Exterior Layer",status:"Pending",installedBy:void 0,installedAt:void 0}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-2",interiorCount:1,exteriorCount:1,color:"White",tint:"Light",stripping:!0,buildingName:"Main Building"},{id:"w3",windowName:"Conference Room Window 1",filmType:"Riot +",length:60,width:40,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:2,layerName:"Middle Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:3,layerName:"Exterior Layer",status:"Pending",installedBy:void 0,installedAt:void 0}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-14"),createdFromSheet:!0,sheetId:"sheet-3",interiorCount:1,exteriorCount:1,color:"Black",tint:"Dark",stripping:!1,buildingName:"Main Building"},{id:"w4",windowName:"Reception Window 1",filmType:"PER",length:42,width:28,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:2,layerName:"Exterior Layer",status:"Pending",installedBy:void 0,installedAt:void 0}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-4",interiorCount:1,exteriorCount:1,color:"White",tint:"None",stripping:!1,buildingName:"Main Building"},{id:"w5",windowName:"Break Room Window 1",filmType:"BR",length:30,width:20,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending",installedBy:void 0,installedAt:void 0},{layerNumber:2,layerName:"Exterior Layer",status:"Pending",installedBy:void 0,installedAt:void 0}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-5",interiorCount:1,exteriorCount:1,color:"White",tint:"None",stripping:!1,buildingName:"Main Building"},{id:"w6",windowName:"Executive Office Window 1",filmType:"Riot",length:50,width:35,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"John Smith",installedAt:new Date("2024-01-15"),reinstallationMarkedBy:"Mike Wilson",reinstallationMarkedAt:new Date("2024-01-18"),notes:"Quality issue detected"}],status:"Reinstallation Needed",assignedTeamMembers:["John Smith","Mike Wilson"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18"),createdFromSheet:!0,sheetId:"sheet-6",interiorCount:1,exteriorCount:1,color:"Black",tint:"Dark",stripping:!1,buildingName:"Main Building"},{id:"w7",windowName:"Executive Office Window 2",filmType:"Riot +",length:45,width:30,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Reinstallation Needed",installedBy:"Sarah Johnson",installedAt:new Date("2024-01-16"),reinstallationMarkedBy:"David Brown",reinstallationMarkedAt:new Date("2024-01-19"),notes:"Film peeling at edges"},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Sarah Johnson",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Sarah Johnson",installedAt:new Date("2024-01-16")}],status:"Reinstallation Needed",assignedTeamMembers:["Sarah Johnson","David Brown"],createdAt:new Date("2024-01-16"),updatedAt:new Date("2024-01-19"),createdFromSheet:!0,sheetId:"sheet-7",interiorCount:1,exteriorCount:1,color:"White",tint:"Light",stripping:!0,buildingName:"Main Building"},{id:"w8",windowName:"Conference Room Window 2",filmType:"PER",length:55,width:38,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"Mike Wilson",installedAt:new Date("2024-01-17")},{layerNumber:2,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"Mike Wilson",installedAt:new Date("2024-01-17"),reinstallationMarkedBy:"Lisa Garcia",reinstallationMarkedAt:new Date("2024-01-20"),notes:"Bubbles in film"}],status:"Reinstallation Needed",assignedTeamMembers:["Mike Wilson","Lisa Garcia"],createdAt:new Date("2024-01-17"),updatedAt:new Date("2024-01-20"),createdFromSheet:!0,sheetId:"sheet-8",interiorCount:1,exteriorCount:1,color:"Black",tint:"None",stripping:!1,buildingName:"Main Building"},{id:"w9",windowName:"Reception Window 2",filmType:"BR",length:40,width:25,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Reinstallation Needed",installedBy:"David Brown",installedAt:new Date("2024-01-18"),reinstallationMarkedBy:"Jennifer White",reinstallationMarkedAt:new Date("2024-01-21"),notes:"Scratches on film surface"},{layerNumber:2,layerName:"Exterior Layer",status:"Installed",installedBy:"David Brown",installedAt:new Date("2024-01-18")}],status:"Reinstallation Needed",assignedTeamMembers:["David Brown","Jennifer White"],createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-21"),createdFromSheet:!0,sheetId:"sheet-9",interiorCount:1,exteriorCount:1,color:"White",tint:"Light",stripping:!0,buildingName:"Main Building"},{id:"w10",windowName:"Break Room Window 2",filmType:"Riot",length:35,width:22,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"Lisa Garcia",installedAt:new Date("2024-01-19")},{layerNumber:2,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"Lisa Garcia",installedAt:new Date("2024-01-19"),reinstallationMarkedBy:"Maria Rodriguez",reinstallationMarkedAt:new Date("2024-01-22"),notes:"Film not adhering properly"}],status:"Reinstallation Needed",assignedTeamMembers:["Lisa Garcia","Maria Rodriguez"],createdAt:new Date("2024-01-19"),updatedAt:new Date("2024-01-22"),createdFromSheet:!0,sheetId:"sheet-10",interiorCount:1,exteriorCount:1,color:"Black",tint:"Dark",stripping:!1,buildingName:"Main Building"},{id:"w11",windowName:"Main Office Window 3",filmType:"Riot +",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-16")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-16")}],status:"Complete",assignedTeamMembers:["John Smith"],createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-11",interiorCount:1,exteriorCount:1,color:"Black",tint:"Dark",stripping:!1,buildingName:"Main Building"},{id:"w12",windowName:"Conference Room Window 3",filmType:"PER",length:60,width:40,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"Sarah Johnson",installedAt:new Date("2024-01-17")},{layerNumber:2,layerName:"Exterior Layer",status:"Installed",installedBy:"Sarah Johnson",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["Sarah Johnson"],createdAt:new Date("2024-01-17"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-12",interiorCount:1,exteriorCount:1,color:"White",tint:"None",stripping:!1,buildingName:"Main Building"},{id:"w13",windowName:"Reception Window 3",filmType:"BR",length:42,width:28,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"Mike Wilson",installedAt:new Date("2024-01-18")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Mike Wilson",installedAt:new Date("2024-01-18")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Wilson",installedAt:new Date("2024-01-18")}],status:"Complete",assignedTeamMembers:["Mike Wilson"],createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-18"),createdFromSheet:!0,sheetId:"sheet-13",interiorCount:1,exteriorCount:1,color:"Black",tint:"Light",stripping:!1,buildingName:"Main Building"},{id:"w14",windowName:"Break Room Window 3",filmType:"Riot",length:30,width:20,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"David Brown",installedAt:new Date("2024-01-19")},{layerNumber:2,layerName:"Exterior Layer",status:"Installed",installedBy:"David Brown",installedAt:new Date("2024-01-19")}],status:"Complete",assignedTeamMembers:["David Brown"],createdAt:new Date("2024-01-19"),updatedAt:new Date("2024-01-19"),createdFromSheet:!0,sheetId:"sheet-14",interiorCount:1,exteriorCount:1,color:"White",tint:"Dark",stripping:!0,buildingName:"Main Building"},{id:"w15",windowName:"Executive Office Window 3",filmType:"Riot +",length:50,width:35,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"Lisa Garcia",installedAt:new Date("2024-01-20")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Lisa Garcia",installedAt:new Date("2024-01-20")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Lisa Garcia",installedAt:new Date("2024-01-20")}],status:"Complete",assignedTeamMembers:["Lisa Garcia"],createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),createdFromSheet:!0,sheetId:"sheet-15",interiorCount:1,exteriorCount:1,color:"Black",tint:"None",stripping:!1,buildingName:"Main Building"}],J=r(9237),$=r(3492),z=r(2186),Q=r(6261),q=r(9250),G=r(6749);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){K(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e,t,r){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return X(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ee=["SW450SR","SW600FE","SW440RC","SW600RC","SW600RC+","SW600BR","Tint Only","Kevlar"],te=["Black","White"],re=["None","Light","Dark"],ne=[1,2,3,4],se=function(e){var t=e.onSave,r=e.onCancel,a=e.onAddBuilding,i=e.showSetupButton,l=void 0===i||i,o=(0,F.c)().isMobile,d=V((0,s.useState)({windows:[{id:"1",windowLabel:"W1",width:2,length:2,product:"SW450SR",interiorLayer:2,exteriorLayer:3,color:"Black",tint:"None",stripping:!1}]}),2),c=d[0],u=d[1],m=V((0,s.useState)(null),2),x=m[0],h=m[1],p=V((0,s.useState)(new Set(["building-1"])),2),f=p[0],g=p[1],b=V((0,s.useState)({}),2),j=b[0],v=b[1],N=function(e,t,r){u(function(n){return H(H({},n),{},{windows:n.windows.map(function(n){return n.id===e?H(H({},n),{},K({},t,r)):n})})})},S=function(e){c.windows.length>1&&u(function(t){return H(H({},t),{},{windows:t.windows.filter(function(t){return t.id!==e})})})},A=function(e){var t=e.window,r=x===t.id;return(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 text-base",children:t.windowLabel}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:t.product})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:t.color}),"None"!==t.tint&&(0,n.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:t.tint})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("button",{onClick:function(){return e=t.id,void h(x===e?null:e);var e},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded mobile-touch-target",children:r?(0,n.jsx)(J.A,{className:"w-4 h-4"}):(0,n.jsx)($.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:function(){return S(t.id)},className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded mobile-touch-target",children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})]})]}),!r&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Width"}),(0,n.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:t.width})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Length"}),(0,n.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:t.length})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Interior"}),(0,n.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:t.interiorLayer})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Exterior"}),(0,n.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:t.exteriorLayer})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Tint"}),(0,n.jsx)("div",{className:"text-sm text-gray-900 mt-1",children:t.tint})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.stripping,disabled:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),(0,n.jsx)("label",{className:"text-sm text-gray-700",children:"Stripping"})]})]})]}),r&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Width"}),(0,n.jsx)("input",{type:"number",value:t.width,onChange:function(e){return N(t.id,"width",parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Length"}),(0,n.jsx)("input",{type:"number",value:t.length,onChange:function(e){return N(t.id,"length",parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target"})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Product"}),(0,n.jsx)("select",{value:t.product,onChange:function(e){return N(t.id,"product",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target",children:ee.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Interior"}),(0,n.jsx)("select",{value:t.interiorLayer,onChange:function(e){return N(t.id,"interiorLayer",parseInt(e.target.value))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target",children:ne.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Exterior"}),(0,n.jsx)("select",{value:t.exteriorLayer,onChange:function(e){return N(t.id,"exteriorLayer",parseInt(e.target.value))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target",children:ne.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Color"}),(0,n.jsx)("select",{value:t.color,onChange:function(e){return N(t.id,"color",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target",children:te.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Tint"}),(0,n.jsx)("select",{value:t.tint,onChange:function(e){return N(t.id,"tint",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mobile-touch-target",children:re.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",checked:t.stripping,onChange:function(e){return N(t.id,"stripping",e.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mobile-touch-target"}),(0,n.jsx)("label",{className:"text-sm text-gray-700",children:"Stripping"})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[(0,n.jsx)(P.$,{variant:"secondary",size:"sm",onClick:function(){return h(null)},className:"mobile-touch-target",children:"Cancel"}),(0,n.jsx)(P.$,{variant:"primary",size:"sm",onClick:function(){return h(null)},className:"mobile-touch-target",children:"Save"})]})]})]})};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("style",{children:"\n        @media (max-width: 640px) {\n          .mobile-touch-target {\n            min-height: 44px;\n            min-width: 44px;\n            padding: 12px 16px;\n          }\n          .mobile-scroll {\n            -webkit-overflow-scrolling: touch;\n          }\n          .mobile-card {\n            border-radius: 12px;\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 16px;\n          }\n        }\n      "}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Windows Configuration"}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,n.jsxs)(P.$,{variant:"secondary",icon:y.A,onClick:a,className:"text-sm mobile-touch-target w-full sm:w-auto",children:[(0,n.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"Add Building"]}),(0,n.jsxs)(P.$,{variant:"secondary",icon:y.A,onClick:function(){var e={id:(c.windows.length+1).toString(),windowLabel:"W".concat(c.windows.length+1),width:2,length:2,product:"SW450SR",interiorLayer:1,exteriorLayer:1,color:"Black",tint:"None",stripping:!1};u(function(t){return H(H({},t),{},{windows:[].concat((r=t.windows,function(e){if(Array.isArray(e))return X(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||Y(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e])});var r})},className:"text-sm mobile-touch-target w-full sm:w-auto",children:[(0,n.jsx)(Q.A,{className:"w-4 h-4 mr-2"}),"Add Window"]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"building-name",className:"block text-sm font-medium text-gray-700",children:"Building Name"}),(0,n.jsx)("input",{type:"text",id:"building-name",placeholder:"Enter building name (e.g., Main Building, Office Block, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm mobile-touch-target"})]}),j.windows&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:(0,n.jsx)("p",{children:j.windows})}),o?(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900",children:"Main Building"}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:[c.windows.length," Windows Configured"]})]}),(0,n.jsx)("button",{onClick:function(){return e="building-1",void g(function(t){var r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r});var e},className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:f.has("building-1")?(0,n.jsx)(q.A,{className:"w-5 h-5"}):(0,n.jsx)(G.A,{className:"w-5 h-5"})})]}),f.has("building-1")&&(0,n.jsx)("div",{className:"space-y-3",children:c.windows.map(function(e){return(0,n.jsx)(A,{window:e},e.id)})})]}):(0,n.jsx)(function(){return(0,n.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:(0,n.jsx)("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:(0,n.jsxs)("table",{className:"w-full divide-y divide-gray-200 text-sm",children:[(0,n.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Window"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[60px]",children:"Width"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[60px]",children:"Length"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[100px]",children:"Product"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[70px]",children:"Interior"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[70px]",children:"Exterior"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[70px]",children:"Color"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[70px]",children:"Tint"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Stripping"}),(0,n.jsx)("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[80px]",children:"Actions"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.windows.map(function(e){return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("input",{type:"text",value:e.windowLabel,onChange:function(t){return N(e.id,"windowLabel",t.target.value)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("input",{type:"number",value:e.width,onChange:function(t){return N(e.id,"width",parseInt(t.target.value)||0)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("input",{type:"number",value:e.length,onChange:function(t){return N(e.id,"length",parseInt(t.target.value)||0)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("select",{value:e.product,onChange:function(t){return N(e.id,"product",t.target.value)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ee.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("select",{value:e.interiorLayer,onChange:function(t){return N(e.id,"interiorLayer",parseInt(t.target.value))},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ne.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("select",{value:e.exteriorLayer,onChange:function(t){return N(e.id,"exteriorLayer",parseInt(t.target.value))},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ne.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("select",{value:e.color,onChange:function(t){return N(e.id,"color",t.target.value)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:te.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})}),(0,n.jsx)("td",{className:"px-3 py-3",children:(0,n.jsx)("select",{value:e.tint,onChange:function(t){return N(e.id,"tint",t.target.value)},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:re.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})}),(0,n.jsx)("td",{className:"px-3 py-3 text-center",children:(0,n.jsx)("input",{type:"checkbox",checked:e.stripping,onChange:function(t){return N(e.id,"stripping",t.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,n.jsx)("td",{className:"px-3 py-3 text-center",children:(0,n.jsx)("button",{onClick:function(){return S(e.id)},className:"text-red-600 hover:text-red-800 p-1",children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})})]},e.id)})})]})})})},{}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[(0,n.jsx)(P.$,{variant:"secondary",onClick:r,className:"w-full sm:w-auto mobile-touch-target",children:"Cancel"}),l&&(0,n.jsx)(P.$,{variant:"primary",onClick:function(){var e;e={},0===c.windows.length&&(e.windows="At least one window is required"),v(e),0===Object.keys(e).length&&t(c)},className:"w-full sm:w-auto mobile-touch-target",children:"Setup Windows"})]})]})},ae=r(7985),ie=r(1899),le=r(1449),oe=r(4159);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ce(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function a(r,n,s,a){var o=n&&n.prototype instanceof l?n:l,d=Object.create(o.prototype);return ue(d,"_invoke",function(r,n,s){var a,l,o,d=0,c=s||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,o=e,m.n=r,i}};function x(r,n){for(l=r,o=n,t=0;!u&&d&&!s&&t<c.length;t++){var s,a=c[t],x=m.p,h=a[2];r>3?(s=h===n)&&(o=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((s=r<2&&x<a[1])?(l=0,m.v=n,m.n=a[1]):x<h&&(s=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,m.n=h,l=0))}if(s||r>1)return i;throw u=!0,n}return function(s,c,h){if(d>1)throw TypeError("Generator is already running");for(u&&1===c&&x(c,h),l=c,o=h;(t=l<2?e:o)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,o)):m.n=o:m.v=o);try{if(d=2,a){if(l||(s="next"),t=a[s]){if(!(t=t.call(a,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(o=TypeError("The iterator does not provide a '"+s+"' method"),l=1);a=e}else if((t=(u=m.n<0)?o:r.call(n,m))!==i)break}catch(t){a=e,l=1,o=t}finally{d=1}}return{value:t,done:u}}}(r,s,a),!0),d}var i={};function l(){}function o(){}function d(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(ue(t={},n,function(){return this}),t),u=d.prototype=l.prototype=Object.create(c);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,ue(e,s,"GeneratorFunction")),e.prototype=Object.create(u),e}return o.prototype=d,ue(u,"constructor",d),ue(d,"constructor",o),o.displayName="GeneratorFunction",ue(d,s,"GeneratorFunction"),ue(u),ue(u,s,"Generator"),ue(u,n,function(){return this}),ue(u,"toString",function(){return"[object Generator]"}),(ce=function(){return{w:a,m}})()}function ue(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}ue=function(e,t,r,n){function a(t,r){ue(e,t,function(e){return this._invoke(t,r,e)})}t?s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},ue(e,t,r,n)}function me(e,t,r,n,s,a,i){try{var l=e[a](i),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(n,s)}function xe(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach(function(t){fe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fe(e,t,r){return(t=function(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var je=function(e){var t=e.projectStatus,r=void 0===t?"WIP":t,J=(0,a.g)().projectId,$=((0,a.Zp)(),(0,M.d)().showToast),z=ye((0,s.useState)(r),2),Q=z[0],q=z[1],G=(0,E.A)().user,_=(0,F.c)().isMobile,Z=ye((0,s.useState)("job-brief"),2),H=Z[0],K=Z[1],V=ye((0,s.useState)([]),2),Y=V[0],X=V[1],ee=ye((0,s.useState)([]),2),te=ee[0],re=ee[1],ne=ye((0,s.useState)(""),2),de=ne[0],ue=ne[1],he=ye((0,s.useState)({filmType:"all",status:"all",layers:"all",building:"all"}),2),ge=he[0],be=he[1],je=ye((0,s.useState)("list"),2),ve=je[0],we=je[1];(0,s.useEffect)(function(){_&&we("grid")},[_]);var Ne=ye((0,s.useState)(!1),2),Se=Ne[0],Ae=Ne[1],Ce=ye((0,s.useState)(!1),2),ke=Ce[0],Ie=Ce[1],Te=ye((0,s.useState)(!1),2),De=Te[0],Pe=Te[1],Oe=ye((0,s.useState)(null),2),Le=Oe[0],Me=Oe[1],Be=ye((0,s.useState)(oe.d),2),We=Be[0],Re=Be[1],Ee=ye((0,s.useState)(!1),2),Fe=Ee[0],Ue=Ee[1],Je=ye((0,s.useState)(!1),2),$e=Je[0],ze=Je[1],Qe=ye((0,s.useState)(null),2),qe=Qe[0],Ge=Qe[1],_e=ye((0,s.useState)(null),2),Ze=_e[0],He=_e[1],Ke=ye((0,s.useState)(0),2),Ve=Ke[0],Ye=Ke[1],Xe=ye((0,s.useState)(!1),2),et=Xe[0],tt=Xe[1],rt=ye((0,s.useState)(!1),2),nt=rt[0],st=rt[1],at=ye((0,s.useState)(!1),2),it=at[0],lt=at[1],ot=ye((0,s.useState)(!1),2),dt=ot[0],ct=ot[1],ut=ye((0,s.useState)(!1),2),mt=ut[0],xt=ut[1],ht=ye((0,s.useState)(!1),2),pt=ht[0],ft=ht[1],yt=ye((0,s.useState)(!1),2),gt=yt[0],bt=yt[1],jt=ye((0,s.useState)(!1),2),vt=jt[0],wt=(jt[1],ye((0,s.useState)(!1),2)),Nt=(wt[0],wt[1],function(e){var t=e.every(function(e){return"Installed"===e.status}),r=e.some(function(e){return"Reinstallation Needed"===e.status}),n=e.some(function(e){return"In Progress"===e.status});return e.every(function(e){return"Pending"===e.status}),r?"Reinstallation Needed":t?"Complete":n?"In Progress":"Pending"});(0,s.useEffect)(function(){if("execution-team"===(null==G?void 0:G.userType)){var e=U.map(function(e){return pe(pe({},e),{},{status:Nt(e.layers)})});re(e),ft(!0)}else pt||mt||0!==te.length?ct(!1):ct(!0)},[null==G?void 0:G.userType,pt,mt,te.length]),(0,s.useEffect)(function(){var e=function(e){e.target.closest(".dropdown-container")||document.querySelectorAll('[id^="dropdown-"]').forEach(function(e){e.classList.add("hidden")})};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var St=4,At=300,Ct=340,kt=40,It=function(e){if(0===e.length)return 0;var t=e.filter(function(e){return"Complete"===e.status}).length,r=e.length;return Math.round(t/r*100)}(te),Tt=pe(pe({},D.U),{},{progress:It,currentPhase:100===It?"Project Completed":It>0?"Window Installation":"Ready to Start",estimatedCompletion:"2024-02-15",teamOnSite:4,windowsCompleted:10,windowsStarted:24,activityLog:[{id:"1",user:"John Smith",action:"updated Marriot Windows Installation project",time:"2 hours ago",type:"update",fileName:"project-update.pdf",fileSize:"2.4 MB",note:"All windows have been measured and marked for installation"},{id:"2",user:"Sarah Johnson",action:"uploaded document for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"site-measurements.pdf",fileSize:"1.8 MB"},{id:"3",user:"Mike Lee",action:"completed window installation for Marriot Windows Installation",time:"6 hours ago",type:"completion",fileName:null,fileSize:null,note:"Windows 1-5 successfully installed with BR film"},{id:"4",user:"Emily Rodriguez",action:"uploaded document for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"safety-checklist.pdf",fileSize:"0.9 MB"},{id:"5",user:"David Chen",action:"updated Marriot Windows Installation project",time:"1 day ago",type:"update",fileName:null,fileSize:null,note:"Site preparation completed, ready for installation"},{id:"6",user:"Ayesha Khan",action:"uploaded document for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"architectural-plans.pdf",fileSize:"3.2 MB"}]}),Dt=(pe(pe({},Tt),{},{status:Q}),function(e){return{interiorCount:e.filter(function(e){var t;return null===(t=e.layerName)||void 0===t?void 0:t.toLowerCase().includes("interior")}).length,exteriorCount:e.filter(function(e){var t;return null===(t=e.layerName)||void 0===t?void 0:t.toLowerCase().includes("exterior")}).length}}),Pt=te.filter(function(e){var t,r=(e.windowName||"").toLowerCase().includes(de.toLowerCase()),n="all"===ge.filmType||e.filmType===ge.filmType,s="all"===ge.status||e.status===ge.status,a="all"===ge.layers||((null===(t=e.layers)||void 0===t?void 0:t.length)||0).toString()===ge.layers,i="all"===ge.building||(e.buildingName||"Main Building")===ge.building;return r&&n&&s&&a&&i}),Ot=function(){Ie(!0)},Lt=function(){var e=We.find(function(e){return"available"===e.status})||We[0];Me(e),Pe(!0)},Mt=function(){var e,t=(e=ce().m(function e(t){return ce().w(function(e){for(;;)switch(e.n){case 0:ct(!1),xt(!0),setTimeout(function(){var e=t.windows.map(function(e,t){for(var r=["Pending","In Progress","Complete"][Math.floor(3*Math.random())],n=[],s=e.interiorLayer+e.exteriorLayer,a=1;a<=s;a++){var i=a<=e.interiorLayer;n.push({layerNumber:a,layerName:"".concat(i?"Interior":"Exterior"," Layer ").concat(i?a:a-e.interiorLayer),status:Math.random()>.5?"Installed":"Pending",installedBy:Math.random()>.5?"John Doe":void 0,installedAt:Math.random()>.5?new Date:void 0,notes:i?"Interior layer ".concat(a):"Exterior layer ".concat(a-e.interiorLayer)})}var l=["Main Building","Office Block","Warehouse","Annex"],o=l[Math.floor(Math.random()*l.length)];return{id:"window-".concat(t+1),windowName:e.windowLabel,filmType:{SW450SR:"BR",SW600FE:"Riot",SW440RC:"Riot +",SW600RC:"Riot","SW600RC+":"Riot +",SW600BR:"BR","Tint Only":"PER",Kevlar:"Custom"}[e.product]||"BR",length:e.length,width:e.width,layers:n,status:r,assignedTeamMembers:Math.random()>.5?["John Doe","Jane Smith"]:["Mike Johnson"],createdAt:new Date,updatedAt:new Date,createdFromSheet:!0,interiorCount:e.interiorLayer,exteriorCount:e.exteriorLayer,buildingName:o}});re(e),ft(!0),xt(!1),$("Successfully created ".concat(t.windows.length," windows"))},2e3);case 1:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(e){me(a,n,s,i,l,"next",e)}function l(e){me(a,n,s,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),Bt=function(){bt(!0)},Wt=function(e){Ge(e),Ue(!0)},Rt=function(e){He(e),ze(!0)},Et=function(e){window.confirm("Are you sure you want to remove this window?")&&(re(function(t){return t.filter(function(t){return t.id!==e})}),$("Window removed successfully"))},Ft=function(e){var t=pe(pe({},e),{},{status:"In Progress",assignedTeamMembers:[].concat(xe(e.assignedTeamMembers),[(null==G?void 0:G.name)||"Current User"]),updatedAt:new Date});re(function(r){return r.map(function(r){return r.id===e.id?t:r})}),Ze&&Ze.id===e.id&&He(t),Ye(function(e){return e+1}),$("Started working on ".concat(e.windowName))},Ut=function(e){return"Pending"===e.status?{text:"Start Working",icon:i.A,action:function(){return Ft(e)},className:"text-green-700 hover:bg-green-50",mobileClassName:"bg-green-600 hover:bg-green-700 text-white border border-green-600 hover:border-green-700 shadow-sm hover:shadow-md transition-all duration-200"}:"In Progress"===e.status?{text:"Mark as Completed",icon:i.A,action:function(){return function(e){var t=e.layers.map(function(e){return pe(pe({},e),{},{status:"Installed",installedBy:(null==G?void 0:G.name)||"Current User",installedAt:new Date})}),r=pe(pe({},e),{},{layers:t,status:"Complete",assignedTeamMembers:[].concat(xe(e.assignedTeamMembers),[(null==G?void 0:G.name)||"Current User"]),updatedAt:new Date});re(function(t){return t.map(function(t){return t.id===e.id?r:t})}),Ze&&Ze.id===e.id&&He(r),Ye(function(e){return e+1});var n=te.map(function(t){return t.id===e.id?r:t}),s=n.every(function(e){return"Complete"===e.status});$(s?"🎉 Project Completed! All ".concat(n.length," windows have been successfully installed."):"Completed ".concat(e.windowName))}(e)},className:"text-blue-700 hover:bg-blue-50",mobileClassName:"bg-blue-600 hover:bg-blue-700 text-white border border-blue-600 hover:border-blue-700 shadow-sm hover:shadow-md transition-all duration-200"}:"Reinstallation Needed"===e.status?{text:"Start Working",icon:i.A,action:function(){return Ft(e)},className:"text-orange-700 hover:bg-orange-50",mobileClassName:"bg-orange-600 hover:bg-orange-700 text-white border border-orange-600 hover:border-orange-700 shadow-sm hover:shadow-md transition-all duration-200"}:null},Jt=function(e,t){be(function(r){return pe(pe({},r),{},fe({},e,t))})};return(0,n.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,n.jsx)("style",{children:"\n        @media (max-width: 640px) {\n          .touch-manipulation {\n            touch-action: manipulation;\n            -webkit-tap-highlight-color: transparent;\n          }\n          .mobile-scroll {\n            -webkit-overflow-scrolling: touch;\n          }\n          .mobile-card {\n            border-radius: 12px;\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 16px;\n          }\n          .mobile-touch-target {\n            min-height: 44px;\n            min-width: 44px;\n            padding: 12px 16px;\n          }\n        }\n      "}),(0,n.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,n.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4 sm:gap-6",children:[(0,n.jsx)("div",{className:"flex flex-col gap-4 sm:gap-5",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,n.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,n.jsx)("span",{className:"px-2 py-1 rounded-md text-xs sm:text-sm font-semibold w-fit ".concat("WIP"===Q?"bg-blue-50 text-blue-700":"QF"===Q?"bg-orange-50 text-orange-700":"bg-green-50 text-green-700"),children:Q})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[(0,n.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold w-fit",children:Tt.projectId}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(l.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsx)("span",{className:"truncate",children:Tt.location})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(o.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,n.jsxs)("span",{className:"truncate",children:[Tt.startDate," - ",Tt.endDate]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:["WIP"===Q&&"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsx)(P.$,{variant:"primary",onClick:function(){q("QF"),$("Project marked for Quality Review")},className:"px-3 py-2 text-sm w-full sm:w-auto",children:"Mark for QF"}),"QF"===Q&&"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsx)(P.$,{variant:"primary",onClick:function(){return $("Project approved for completion")},className:"px-3 py-2 text-sm w-full sm:w-auto",children:"Approve Completion"}),"Completed"===Q&&"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsx)(P.$,{variant:"secondary",onClick:function(){return $("Project completed successfully")},className:"px-3 py-2 text-sm w-full sm:w-auto",children:"View Report"})]})]})}),"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"WIP"===Q?"Project Progress":"QF"===Q?"Quality Review Progress":"Project Completion"}),(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"WIP"===Q?"".concat(Tt.progress,"% Complete"):"QF"===Q?"Under Review":"100% Complete"})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("WIP"===Q?"bg-blue-600":"QF"===Q?"bg-orange-600":"bg-green-600"),style:{width:"".concat("Completed"===Q?100:Tt.progress,"%")}})}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,n.jsx)("span",{children:"execution-team"===(null==G?void 0:G.userType)?"":"WIP"===Q?"Current Phase: ".concat(Tt.currentPhase):"QF"===Q?"Status: Quality Review in Progress":"Status: Project Completed Successfully"}),(0,n.jsx)("span",{children:"WIP"===Q?"Est. Completion: ".concat(Tt.estimatedCompletion):"QF"===Q?"Review Due: 2 days":"Completed: ".concat(Tt.endDate)})]})]}),"execution-team"!==(null==G?void 0:G.userType)&&"QF"===Q&&(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6",children:[(0,n.jsxs)("div",{className:"bg-white border rounded-lg p-4 sm:p-6 transition-all duration-200 ".concat(et?"border-green-200 bg-green-50":"border-gray-200 hover:shadow-md cursor-pointer"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(et?"bg-green-100":"bg-blue-50"),children:et?(0,n.jsx)(d.A,{className:"w-5 h-5 text-green-600"}):(0,n.jsx)(c.A,{className:"w-5 h-5 text-blue-600"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Trailer"})]}),et&&(0,n.jsx)("button",{onClick:Lt,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Trailer",children:(0,n.jsx)(u.A,{className:"w-4 h-4"})})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:et?"Trailer information has been updated successfully.":"Update trailer information and logistics details for the project."}),et?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-green-700 bg-green-100 px-3 py-2 rounded-md",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Completed"})]}):(0,n.jsx)(P.$,{variant:"primary",className:"w-full",onClick:Lt,children:"Update Trailer"})]}),(0,n.jsxs)("div",{className:"bg-white border rounded-lg p-4 sm:p-6 transition-all duration-200 ".concat(nt?"border-green-200 bg-green-50":"border-gray-200 hover:shadow-md cursor-pointer"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(nt?"bg-green-100":"bg-green-50"),children:nt?(0,n.jsx)(d.A,{className:"w-5 h-5 text-green-600"}):(0,n.jsx)(m.A,{className:"w-5 h-5 text-green-600"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Inventory"})]}),nt&&(0,n.jsx)("button",{onClick:Ot,className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Inventory",children:(0,n.jsx)(u.A,{className:"w-4 h-4"})})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:nt?"Inventory levels have been updated successfully.":"Manage and update inventory levels for project materials."}),nt?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-green-700 bg-green-100 px-3 py-2 rounded-md",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Completed"})]}):(0,n.jsx)(P.$,{variant:"primary",className:"w-full",onClick:Ot,children:"Update Inventory"})]}),(0,n.jsxs)("div",{className:"bg-white border rounded-lg p-4 sm:p-6 transition-all duration-200 ".concat(it?"border-green-200 bg-green-50":"border-gray-200 hover:shadow-md cursor-pointer"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat(it?"bg-green-100":"bg-purple-50"),children:it?(0,n.jsx)(d.A,{className:"w-5 h-5 text-green-600"}):(0,n.jsx)(x.A,{className:"w-5 h-5 text-purple-600"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Sign Quality Form"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:it?"Quality assurance form has been signed successfully.":"Complete and sign the quality assurance form for project approval."}),it?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-green-700 bg-green-100 px-3 py-2 rounded-md",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Completed"})]}):(0,n.jsx)(P.$,{variant:"primary",className:"w-full",onClick:function(){Ae(!0)},children:"Sign Quality Form"})]})]}),"execution-team"!==(null==G?void 0:G.userType)&&"WIP"===Q&&(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(h.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:Tt.teamOnSite})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Team Assigned"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-indigo-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(d.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-indigo-600"})}),(0,n.jsxs)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:[kt,"/",Ct]})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Layers Installed"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(i.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600"})}),(0,n.jsxs)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:[Tt.windowsCompleted,"/",At]})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Windows Completed"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(p.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:St})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Issues Reported"})]})]}),"execution-team"!==(null==G?void 0:G.userType)&&"Completed"===Q&&(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-3 sm:gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(i.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"15"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Total Windows"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(i.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"15"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Successfully Installed"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(o.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"14"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Days Duration"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(i.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"100%"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Success Rate"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(h.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"4"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Team Members"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-purple-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(f.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-purple-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"340"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Total Layers"})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-indigo-50 rounded-md flex items-center justify-center",children:(0,n.jsx)(d.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-indigo-600"})}),(0,n.jsx)("span",{className:"text-lg sm:text-xl font-semibold text-gray-700",children:"340"})]}),(0,n.jsx)("span",{className:"text-xs sm:text-sm font-medium text-gray-600 text-center",children:"Layers Completed"})]})]})]})})}),(0,n.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"border-b border-gray-200 mb-4 sm:mb-6",children:(0,n.jsx)("nav",{className:"flex space-x-1 sm:space-x-4 lg:space-x-8 overflow-x-auto mobile-scroll",children:("WIP"===Q?[{id:"job-brief",label:"Window Management"},{id:"team",label:"Team"},{id:"travel-hotel",label:"Travel & Hotel"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]:"QF"===Q?[{id:"quality-check",label:"Quality Check"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]:[{id:"completion-report",label:"Completion Report"},{id:"final-stats",label:"Final Stats"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}]).map(function(e){return(0,n.jsx)("button",{onClick:function(){return K(e.id)},className:"py-2 px-2 sm:px-3 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap flex-shrink-0 ".concat(H===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id)})})}),"job-brief"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[!pt&&dt&&"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:(0,n.jsx)(se,{onSave:Mt,onCancel:function(){return ct(!1)},onAddBuilding:Bt})}),!pt&&gt&&"execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,n.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,n.jsx)("label",{htmlFor:"building-name",className:"block text-sm font-medium text-gray-700",children:"Building Name"}),(0,n.jsx)("input",{type:"text",id:"building-name",placeholder:"Enter building name (e.g., Main Building, Office Block, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),(0,n.jsx)(se,{onSave:Mt,onCancel:function(){return bt(!1)},onAddBuilding:Bt,showSetupButton:!1})]}),mt?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Windows..."}),(0,n.jsx)("p",{className:"text-gray-600",children:"Please wait while we set up your windows"})]}):vt?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Buildings..."}),(0,n.jsx)("p",{className:"text-gray-600",children:"Please wait while we set up your buildings"})]}):pt?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-4",children:[(0,n.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Window Management"}),(0,n.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,n.jsx)(P.$,{variant:"primary",icon:y.A,onClick:function(){Ge(null),Ue(!0)},className:"w-full sm:w-auto text-sm",children:"Add Window"})})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(g.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,n.jsx)("input",{type:"text",placeholder:"Search by window name",value:de,onChange:function(e){return ue(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,n.jsxs)("select",{value:ge.filmType,onChange:function(e){return Jt("filmType",e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,n.jsx)("option",{value:"all",children:"All Film Types"}),(0,n.jsx)("option",{value:"BR",children:"BR"}),(0,n.jsx)("option",{value:"Riot",children:"Riot"}),(0,n.jsx)("option",{value:"Riot+",children:"Riot+"})]}),(0,n.jsxs)("select",{value:ge.status,onChange:function(e){return Jt("status",e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,n.jsx)("option",{value:"all",children:"All Status"}),(0,n.jsx)("option",{value:"Pending",children:"Pending"}),(0,n.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,n.jsx)("option",{value:"Complete",children:"Complete"}),(0,n.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]}),(0,n.jsxs)("select",{value:ge.building,onChange:function(e){return Jt("building",e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm col-span-2 sm:col-span-1",children:[(0,n.jsx)("option",{value:"all",children:"All Buildings"}),(0,n.jsx)("option",{value:"Main Building",children:"Main Building"}),(0,n.jsx)("option",{value:"Office Block",children:"Office Block"}),(0,n.jsx)("option",{value:"Warehouse",children:"Warehouse"}),(0,n.jsx)("option",{value:"Annex",children:"Annex"})]})]}),(0,n.jsxs)("div",{className:"hidden sm:flex items-center gap-2 justify-center sm:justify-start",children:[(0,n.jsx)("button",{onClick:function(){return we("list")},className:"p-2 rounded-lg ".concat("list"===ve?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,n.jsx)(b.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:function(){return we("grid")},className:"p-2 rounded-lg ".concat("grid"===ve?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,n.jsx)(j.A,{className:"w-4 h-4"})})]})]}),0===Pt.length?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-gray-500",children:"No windows found matching your criteria"})}):"list"!==ve||_?(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Pt.map(function(e){var t,r,s,a,l;return(0,n.jsxs)(O.Z,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:function(){return Rt(e)},children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.windowName}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Created ",(null===(t=e.createdAt)||void 0===t?void 0:t.toLocaleDateString())||"Unknown"]})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(L.W,{status:e.status},"".concat(e.id,"-").concat(Ve))})]}),(0,n.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,n.jsxs)("div",{children:["Product: ",e.filmType]}),(0,n.jsxs)("div",{children:["Dimensions: ",e.width,'" x ',e.length,'"']}),(0,n.jsxs)("div",{children:["Interior: ",e.interiorCount||0]}),(0,n.jsxs)("div",{children:["Exterior: ",e.exteriorCount||0]}),(0,n.jsxs)("div",{className:"font-semibold text-gray-900",children:["Total Layers: ",(e.interiorCount||0)+(e.exteriorCount||0)]}),(0,n.jsxs)("div",{children:["Color: ",e.color||"N/A"]}),(0,n.jsxs)("div",{children:["Tint: ",e.tint||"N/A"]}),(0,n.jsxs)("div",{children:["Stripping: ",e.stripping?"Yes":"No"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end mt-4",children:[(0,n.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:function(t){t.stopPropagation(),Rt(e)},className:"text-gray-400 hover:text-gray-600 p-2 touch-manipulation",children:(0,n.jsx)(v.A,{className:"w-3 h-3"})}),(0,n.jsx)("button",{onClick:function(t){t.stopPropagation(),Wt(e)},className:"text-gray-400 hover:text-gray-600 p-2 touch-manipulation",children:(0,n.jsx)(u.A,{className:"w-3 h-3"})}),(0,n.jsx)("button",{onClick:function(t){t.stopPropagation(),Et(e.id)},className:"text-gray-400 hover:text-red-600 p-2 touch-manipulation",children:(0,n.jsx)(w.A,{className:"w-3 h-3"})})]}),Ut(e)&&(0,n.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),null===(r=Ut(e))||void 0===r||r.action()},className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-md touch-manipulation min-h-[32px] ".concat(null===(r=Ut(e))||void 0===r?void 0:r.mobileClassName),children:[(0,n.jsx)(i.A,{className:"w-3.5 h-3.5"}),(0,n.jsx)("span",{children:(null===(s=Ut(e))||void 0===s?void 0:s.text)||"Complete"})]})]}),(0,n.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,n.jsx)("button",{onClick:function(t){t.stopPropagation();var r=document.getElementById("dropdown-grid-".concat(e.id));r&&r.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1 touch-manipulation",children:(0,n.jsx)(N.A,{className:"w-4 h-4"})}),(0,n.jsx)("div",{id:"dropdown-grid-".concat(e.id),className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,n.jsxs)("div",{className:"py-1",children:["execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),Rt(e),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-gray-700 hover:bg-gray-100 touch-manipulation",children:[(0,n.jsx)(v.A,{className:"w-3 h-3"}),"View Details"]}),(0,n.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),Wt(e),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-gray-700 hover:bg-gray-100 touch-manipulation",children:[(0,n.jsx)(u.A,{className:"w-3 h-3"}),"Edit Window"]}),(0,n.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),Et(e.id),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-red-600 hover:bg-red-50 touch-manipulation",children:[(0,n.jsx)(w.A,{className:"w-3 h-3"}),"Delete Window"]})]}),Ut(e)&&(0,n.jsxs)("button",{onClick:function(t){var r,n;t.stopPropagation(),null===(r=Ut(e))||void 0===r||r.action(),null===(n=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===n||n.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs touch-manipulation ".concat(null===(a=Ut(e))||void 0===a?void 0:a.className),children:[(0,n.jsx)(i.A,{className:"w-3 h-3"}),null===(l=Ut(e))||void 0===l?void 0:l.text]})]})})]})]})]},e.id)})}):(0,n.jsx)("div",{className:"overflow-x-auto -mx-4 sm:mx-0 mobile-scroll",children:(0,n.jsx)("div",{className:"min-w-full px-4 sm:px-0",children:(0,n.jsxs)("table",{className:"w-full min-w-[800px]",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-32",children:"WINDOW"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"WIDTH"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"LENGTH"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-24",children:"PRODUCT"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-16",children:"INT"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-16",children:"EXT"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"TOTAL"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-16",children:"COLOR"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-16",children:"TINT"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"STRIP"}),(0,n.jsx)("th",{className:"text-left py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"STATUS"}),(0,n.jsx)("th",{className:"text-right py-2 px-2 text-xs font-medium text-gray-900 w-20",children:"ACTIONS"})]})}),(0,n.jsx)("tbody",{children:Pt.map(function(e){var t,r,s,a,l;return(0,n.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"py-2 px-2 w-32",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.windowName}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=e.createdAt)||void 0===t?void 0:t.toLocaleDateString())||"Unknown"})]})}),(0,n.jsxs)("td",{className:"py-2 px-2 text-xs text-gray-900 w-20",children:[e.width,'"']}),(0,n.jsxs)("td",{className:"py-2 px-2 text-xs text-gray-900 w-20",children:[e.length,'"']}),(0,n.jsx)("td",{className:"py-2 px-2 w-24",children:(0,n.jsx)("span",{className:"text-xs text-blue-600 font-medium truncate",children:e.filmType})}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 w-16 text-center",children:e.interiorCount||0}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 w-16 text-center",children:e.exteriorCount||0}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 font-semibold w-20 text-center",children:(e.interiorCount||0)+(e.exteriorCount||0)}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 w-16 truncate",children:e.color||"N/A"}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 w-16 truncate",children:e.tint||"N/A"}),(0,n.jsx)("td",{className:"py-2 px-2 text-xs text-gray-900 w-20 text-center",children:e.stripping?"Yes":"No"}),(0,n.jsx)("td",{className:"py-2 px-2 w-20",children:(0,n.jsx)(L.W,{status:e.status},"".concat(e.id,"-").concat(Ve))}),(0,n.jsx)("td",{className:"py-2 px-2 w-20",children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,n.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:function(){Rt(e)},className:"text-gray-400 hover:text-gray-600 p-2 touch-manipulation",children:(0,n.jsx)(v.A,{className:"w-3 h-3"})}),(0,n.jsx)("button",{onClick:function(){Wt(e)},className:"text-gray-400 hover:text-gray-600 p-2 touch-manipulation",children:(0,n.jsx)(u.A,{className:"w-3 h-3"})}),(0,n.jsx)("button",{onClick:function(){Et(e.id)},className:"text-gray-400 hover:text-red-600 p-2 touch-manipulation",children:(0,n.jsx)(w.A,{className:"w-3 h-3"})})]}),Ut(e)&&(0,n.jsxs)("button",{onClick:function(){var t;null===(t=Ut(e))||void 0===t||t.action()},className:"flex items-center gap-1 px-2 py-1 text-xs touch-manipulation ".concat(null===(r=Ut(e))||void 0===r?void 0:r.className),children:[(0,n.jsx)(i.A,{className:"w-3 h-3"}),(0,n.jsx)("span",{children:(null===(s=Ut(e))||void 0===s?void 0:s.text)||"Complete"})]})]}),(0,n.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,n.jsx)("button",{onClick:function(){var t=document.getElementById("dropdown-".concat(e.id));t&&t.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1 touch-manipulation",children:(0,n.jsx)(N.A,{className:"w-4 h-4"})}),(0,n.jsx)("div",{id:"dropdown-".concat(e.id),className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,n.jsxs)("div",{className:"py-1",children:["execution-team"!==(null==G?void 0:G.userType)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{onClick:function(){var t;Rt(e),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-gray-700 hover:bg-gray-100 touch-manipulation",children:[(0,n.jsx)(v.A,{className:"w-3 h-3"}),"View Details"]}),(0,n.jsxs)("button",{onClick:function(){var t;Wt(e),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-gray-700 hover:bg-gray-100 touch-manipulation",children:[(0,n.jsx)(u.A,{className:"w-3 h-3"}),"Edit Window"]}),(0,n.jsxs)("button",{onClick:function(){var t;Et(e.id),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs text-red-600 hover:bg-red-50 touch-manipulation",children:[(0,n.jsx)(w.A,{className:"w-3 h-3"}),"Delete Window"]})]}),Ut(e)&&(0,n.jsxs)("button",{onClick:function(){var t,r;null===(t=Ut(e))||void 0===t||t.action(),null===(r=document.getElementById("dropdown-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-3 py-2 sm:py-1.5 text-xs touch-manipulation ".concat(null===(a=Ut(e))||void 0===a?void 0:a.className),children:[(0,n.jsx)(i.A,{className:"w-3 h-3"}),null===(l=Ut(e))||void 0===l?void 0:l.text]})]})})]})]})})]},e.id)})})]})})}),Pt.length>0&&(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 sm:mt-6 gap-4",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(P.$,{variant:"secondary",size:"sm",icon:S.A,className:"text-xs",children:"Previous"})}),(0,n.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 overflow-x-auto",children:[(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs sm:text-sm whitespace-nowrap",children:"1"}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"2"}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"3"}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"..."}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"8"}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"9"}),(0,n.jsx)("span",{className:"px-2 sm:px-3 py-1 text-gray-600 text-xs sm:text-sm whitespace-nowrap",children:"10"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(P.$,{variant:"secondary",size:"sm",icon:A.A,className:"text-xs",children:"Next"})})]})]})}):"lead-supervisor"!==(null==G?void 0:G.userType)?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(C.A,{className:"w-8 h-8 text-gray-400"})}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Setup Windows First"}),(0,n.jsx)("p",{className:"text-gray-600",children:'Click "Setup Windows" to configure your windows and start managing them'})]}):null]})}),"team"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,n.jsx)("div",{className:"space-y-4",children:[{name:"John Smith",role:"Lead Supervisor",phone:"+1-555-0123"},{name:"Ayesha Khan",role:"Crew Leader",phone:"+1-555-0124"},{name:"Mike Lee",role:"Senior Installer",phone:"+1-555-0125"},{name:"Sarah Johnson",role:"Installer",phone:"+1-555-0126"},{name:"David Chen",role:"Installer",phone:"+1-555-0127"},{name:"Emily Rodriguez",role:"Safety Coordinator",phone:"+1-555-0128"}].map(function(e,t){return(0,n.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,n.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},t)})})]})}),"travel-hotel"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Travel & Hotel"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Travel details"}),(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Lahore → Miami"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,n.jsx)("span",{children:"2 attachments"})]}),(0,n.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Hotel Reservation Details"}),(0,n.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Hotel Picaso · Sep 25 → Sep 26, 2025"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),(0,n.jsx)("span",{children:"3 attachments"})]}),(0,n.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]})]})]})}),"document"===H&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"2 documents"})]}),(0,n.jsx)(P.$,{variant:"secondary",icon:k.A,onClick:function(){return $("Upload document functionality coming soon")},className:"px-4 py-2",children:"Upload document"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"DOC"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Site Map - Floor Plan.pdf"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,n.jsx)("span",{children:"1.95 MB"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"John Doe"})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:function(){return $("Downloading Site Map - Floor Plan.pdf")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,n.jsx)(I.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:function(){return $("Delete document functionality coming soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"TXT"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Architectural Plan.txt"}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,n.jsx)("span",{children:"1.95 MB"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ema Will"})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:function(){return $("Downloading Architectural Plan.txt")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,n.jsx)(I.A,{className:"w-4 h-4"})}),(0,n.jsx)("button",{onClick:function(){return $("Delete document functionality coming soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})]})]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Installation Guides"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Step-by-step installation procedures"})]}),(0,n.jsx)(P.$,{variant:"secondary",icon:k.A,onClick:function(){return $("Upload installation guide functionality coming soon")},className:"px-4 py-2",children:"Upload document"})]}),(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)(T.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,n.jsx)("p",{className:"text-gray-500",children:"No installation guides uploaded yet"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload guides to help your team with installation procedures"})]})]})]}),"quality-check"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Check Results"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-green-900",children:"Passed Quality Check"}),(0,n.jsx)("p",{className:"text-green-700 mt-1",children:"13 out of 15 windows passed quality inspection"})]}),(0,n.jsxs)("div",{className:"p-4 border border-orange-200 bg-orange-50 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-orange-900",children:"Needs Reinstallation"}),(0,n.jsx)("p",{className:"text-orange-700 mt-1",children:"2 windows require reinstallation due to minor defects"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Quality Inspector"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"John Smith - Senior Quality Inspector"})]})]})]})}),"issues"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-orange-900",children:"Window #12 - Minor Bubbling"}),(0,n.jsx)("p",{className:"text-orange-700 mt-1",children:"Small air bubbles detected in corner area. Requires reinstallation."})]}),(0,n.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-orange-900",children:"Window #8 - Edge Alignment"}),(0,n.jsx)("p",{className:"text-orange-700 mt-1",children:"Film edge not properly aligned. Needs adjustment."})]})]})]})}),"completion-report"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Completion Report"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-green-900",children:"Project Successfully Completed"}),(0,n.jsx)("p",{className:"text-green-700 mt-1",children:"All 15 windows installed and quality approved"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Final Statistics"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Duration: 14 days | Team: 5 members | Quality Score: 98%"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Client Satisfaction"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Client feedback: Excellent work quality and timely completion"})]})]})]})}),"final-stats"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Final Project Statistics"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Total Windows"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"15"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Success Rate"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:"100%"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Project Duration"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"14 days"})]}),(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:"Team Members"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-700 mt-1",children:"5"})]})]})]})}),"notes"===H&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)(R.n,{notes:Y,onAddNote:function(e,t){var r={id:"note-".concat(Date.now()),content:e,author:(null==G?void 0:G.name)||"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:J||"",isInternal:t};X(function(e){return[].concat(xe(e),[r])})},onEditNote:function(e,t){X(function(r){return r.map(function(r){return r.id===e?pe(pe({},r),{},{content:t,updatedAt:(new Date).toISOString()}):r})})},onDeleteNote:function(e){X(function(t){return t.filter(function(t){return t.id!==e})})}})})]}),(0,n.jsx)("div",{className:"w-80 flex-shrink-0",children:(0,n.jsx)(O.Z,{className:"p-5 h-fit",children:(0,n.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,n.jsx)("div",{className:"space-y-4",children:Tt.activityLog.map(function(e){return(0,n.jsx)("div",{className:"relative",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(function(e){return e[0]}).join("")})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,n.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,n.jsx)("span",{className:"font-semibold text-blue-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,n.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-50 rounded flex items-center justify-center",children:(0,n.jsx)(T.A,{className:"w-3 h-3 text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,n.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id)})})]})})})]})}),(0,n.jsx)(W.f,{isOpen:Fe,onClose:function(){return Ue(!1)},windowItem:qe,onSave:function(e){if(qe){var t=Dt(e.layers||qe.layers);re(function(r){return r.map(function(r){return r.id===qe.id?pe(pe(pe({},r),e),t):r})}),$("Window updated successfully")}else{var r=Dt(e.layers||[]),n=pe(pe({id:Date.now().toString(),windowName:e.windowName||"",filmType:e.filmType||"BR",length:e.length||0,width:e.width||0,layers:e.layers||[],status:"Pending",assignedTeamMembers:[],createdAt:new Date,updatedAt:new Date},r),e);re(function(e){return[].concat(xe(e),[n])}),$("Window added successfully")}Ue(!1),Ge(null)}}),(0,n.jsx)(B.n,{isOpen:$e,onClose:function(){return ze(!1)},windowItem:Ze,onUpdate:function(e){if(Ze){var t=pe(pe(pe({},Ze),e),{},{status:Nt(e.layers||Ze.layers),updatedAt:new Date});re(function(e){return e.map(function(e){return e.id===Ze.id?t:e})}),He(t),Ye(function(e){return e+1}),$("Window updated successfully")}}}),(0,n.jsx)(ae.R,{isOpen:Se,onClose:function(){return Ae(!1)},onSubmit:function(e){Ae(!1),lt(!0),$("Quality check form submitted successfully"),console.log("Quality Check Form Data:",e)}}),(0,n.jsx)(ie.o,{isOpen:ke,onClose:function(){return Ie(!1)},onSubmit:function(e){Ie(!1),st(!0),$("Usage data added successfully"),console.log("Usage Data:",e)}}),(0,n.jsx)(le.s,{isOpen:De,onClose:function(){Pe(!1),Me(null)},onUpdateTrailer:function(e){if(Le){var t=We.map(function(t){return t.id===Le.id?pe(pe(pe({},t),e),{},{updatedAt:(new Date).toISOString()}):t});Re(t),$("Trailer updated successfully"),Pe(!1),Me(null),tt(!0)}},trailer:Le,existingTrailerNumbers:We.map(function(e){return e.trailerName})})]})}},4372:(e,t,r)=>{r.d(t,{n:()=>p});var n=r(4848),s=r(6540),a=r(2460),i=r(3492),l=r(339),o=r(82),d=r(4574),c=r(74),u=r(6368);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return h(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){var t,r=e.notes,p=e.onAddNote,f=e.onEditNote,y=e.onDeleteNote,g=m((0,s.useState)(""),2),b=g[0],j=g[1],v=m((0,s.useState)(!0),2),w=v[0],N=v[1],S=m((0,s.useState)(null),2),A=S[0],C=S[1],k=m((0,s.useState)(""),2),I=k[0],T=k[1],D=function(){A&&I.trim()&&(f(A,I.trim()),C(null),T(""))},P=function(){C(null),T("")},O=(t=r,function(e){if(Array.isArray(e))return h(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()});return(0,n.jsxs)(u.Z,{className:"p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(a.A,{className:"w-5 h-5 text-gray-400"}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:[r.length," notes"]})]})]}),(0,n.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,n.jsx)("input",{type:"checkbox",id:"is-internal",checked:w,onChange:function(e){return N(e.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,n.jsx)("label",{htmlFor:"is-internal",className:"text-sm text-gray-700",children:"Internal note (only visible to team)"})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("textarea",{value:b,onChange:function(e){return j(e.target.value)},placeholder:"Add a note about this project...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,n.jsx)(c.$,{variant:"primary",size:"sm",icon:l.A,onClick:function(){b.trim()&&(p(b.trim(),w),j(""))},disabled:!b.trim(),className:"self-start",children:"Add"})]})]}),O.length>0?(0,n.jsx)("div",{className:"space-y-4",children:O.map(function(e){return(0,n.jsx)("div",{className:"p-4 rounded-lg border-l-4 ".concat(e.isInternal?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300"),children:A===e.id?(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("textarea",{value:I,onChange:function(e){return T(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(c.$,{variant:"primary",size:"sm",onClick:D,disabled:!I.trim(),children:"Save"}),(0,n.jsx)(c.$,{variant:"secondary",size:"sm",onClick:P,children:"Cancel"})]})]}):(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 mb-2",children:e.content}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)(d.A,{className:"w-3 h-3"}),(0,n.jsx)("span",{children:e.author})]}),(0,n.jsx)("span",{children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.isInternal&&(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Internal"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,n.jsx)(c.$,{variant:"ghost",size:"sm",icon:i.A,onClick:function(){return function(e){C(e.id),T(e.content)}(e)},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,n.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,n.jsx)(c.$,{variant:"ghost",size:"sm",icon:o.A,onClick:function(){return y(e.id)},className:"p-1 text-gray-400 hover:text-red-600",children:(0,n.jsx)("span",{className:"sr-only",children:"Delete"})})]})]})})},e.id);var t})}):(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,n.jsx)(a.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,n.jsx)("p",{className:"text-sm",children:"No notes added yet"}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add notes to track project updates and communication"})]})]})}},5320:(e,t,r)=>{r.d(t,{n:()=>S});var n=r(4848),s=r(6540),a=r(1116),i=r(3573),l=r(1314),o=r(1523),d=r(7287),c=r(4574),u=r(7821),m=r(74),x=r(5331),h=r(4131),p=r(9735);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t,r){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t=e.isOpen,r=e.onClose,f=e.windowItem,g=e.onUpdate,w=(0,x.d)().showToast,N=(0,h.A)().user,S=v((0,s.useState)(!1),2),A=S[0],C=S[1],k=v((0,s.useState)(null),2),I=k[0],T=k[1];if(s.useEffect(function(){f&&T(b({},f))},[f]),!f||!I)return null;var D=function(e){switch(e){case"Installed":return(0,n.jsx)(l.A,{className:"w-4 h-4 text-green-500"});case"Reinstallation Needed":return(0,n.jsx)(a.A,{className:"w-4 h-4 text-red-500"});default:return(0,n.jsx)(o.A,{className:"w-4 h-4 text-gray-400"})}},P=function(e,t){T(function(r){return r?b(b({},r),{},j(j({},e,t),"updatedAt",new Date)):null})};return(0,n.jsx)(u.a,{isOpen:t,onClose:r,title:"",size:"xl",children:(0,n.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4 sm:mb-6 gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[A?(0,n.jsx)("input",{type:"text",value:I.windowName,onChange:function(e){return P("windowName",e.target.value)},className:"text-xl sm:text-2xl font-bold text-gray-900 border border-gray-300 rounded px-2 py-1 w-full sm:w-auto"}):(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:I.windowName}),(0,n.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium w-fit ".concat(function(e){switch(e){case"Pending":default:return"bg-gray-100 text-gray-700";case"In Progress":return"bg-yellow-100 text-yellow-700";case"Complete":return"bg-green-100 text-green-700";case"Reinstallation Needed":return"bg-red-100 text-red-700"}}(I.status)),children:I.status})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500",children:[(0,n.jsxs)("span",{children:["Created ",I.createdAt.toLocaleDateString()]}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,n.jsxs)("span",{children:["Updated ",I.updatedAt.toLocaleDateString()]})]})]}),(0,n.jsx)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:A?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.$,{variant:"secondary",onClick:function(){T(b({},f)),C(!1)},className:"flex-1 sm:flex-none mobile-touch-target",children:"Cancel"}),(0,n.jsx)(m.$,{variant:"primary",onClick:function(){I&&(g(I),C(!1),w("Window updated successfully","success"))},className:"flex-1 sm:flex-none mobile-touch-target",children:"Save Changes"})]}):(0,n.jsx)(m.$,{variant:"secondary",onClick:function(){return C(!0)},icon:d.A,className:"w-full sm:w-auto mobile-touch-target",children:"Edit"})})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Film Type"}),A?(0,n.jsx)("select",{value:I.filmType,onChange:function(e){return P("filmType",e.target.value)},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm mobile-touch-target",children:p.jd.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})}):(0,n.jsx)("p",{className:"text-gray-900 text-sm sm:text-base",children:I.filmType})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Length (cm)"}),A?(0,n.jsx)("input",{type:"number",value:I.length,onChange:function(e){return P("length",parseInt(e.target.value)||0)},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm mobile-touch-target"}):(0,n.jsx)("p",{className:"text-gray-900 text-sm sm:text-base",children:I.length})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width (cm)"}),A?(0,n.jsx)("input",{type:"number",value:I.width,onChange:function(e){return P("width",parseInt(e.target.value)||0)},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm mobile-touch-target"}):(0,n.jsx)("p",{className:"text-gray-900 text-sm sm:text-base",children:I.width})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Layers"}),(0,n.jsx)("p",{className:"text-gray-900 text-sm sm:text-base",children:I.layers.length})]})]})]})}),(0,n.jsxs)("div",{className:"mt-6 sm:mt-8",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Layer Installation Details"}),(0,n.jsx)("div",{className:"space-y-3 sm:space-y-4",children:I.layers.map(function(e,t){return(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 ".concat("Reinstallation Needed"===e.status?"bg-orange-50 border-orange-200":""),children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[D(e.status),(0,n.jsx)("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:e.layerName})]}),A&&(0,n.jsxs)("select",{value:e.status,onChange:function(e){var r="Installed"===e.target.value?p.NE[0]:void 0;!function(e,t,r){T(function(n){if(!n)return null;var s=y(n.layers);s[e]=b(b({},s[e]),{},{status:t,installedBy:"Installed"===t?r:void 0,installedAt:"Installed"===t?new Date:void 0});var a=s.every(function(e){return"Installed"===e.status}),i=s.some(function(e){return"Reinstallation Needed"===e.status}),l=s.some(function(e){return"In Progress"===e.status}),o="Pending";return i?o="Reinstallation Needed":a?o="Complete":(l||n.assignedTeamMembers.length>0)&&(o="In Progress"),b(b({},n),{},{layers:s,status:o,updatedAt:new Date})})}(t,e.target.value,r)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm mobile-touch-target w-full sm:w-auto",children:[(0,n.jsx)("option",{value:"Pending",children:"Pending"}),(0,n.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,n.jsx)("option",{value:"Installed",children:"Installed"}),(0,n.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]})]}),"Installed"===e.status&&e.installedBy&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsxs)("span",{children:["Installed by ",e.installedBy]})]}),e.installedAt&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("span",{children:e.installedAt.toLocaleDateString()})]})]})]}),e.reinstallationMarkedBy&&(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-orange-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsxs)("span",{children:["Marked by ",e.reinstallationMarkedBy]})]}),e.reinstallationMarkedAt&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("span",{children:e.reinstallationMarkedAt.toLocaleDateString()})]})]})]}),e.reinstallationCompletedBy&&(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-green-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsxs)("span",{children:["Reinstalled by ",e.reinstallationCompletedBy]})]}),e.reinstallationCompletedAt&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("span",{children:e.reinstallationCompletedAt.toLocaleDateString()})]})]})]})]}),!A&&"execution-team"===(null==N?void 0:N.userType)&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsxs)(m.$,{onClick:function(){return e=t,T(function(t){if(!t)return null;var r=y(t.layers);r[e]=b(b({},r[e]),{},{status:"Reinstallation Needed",notes:"Layer requires reinstallation due to quality issues or damage",reinstallationMarkedBy:(null==N?void 0:N.name)||"Current User",reinstallationMarkedAt:new Date});var n=r.every(function(e){return"Installed"===e.status}),s=r.some(function(e){return"Reinstallation Needed"===e.status}),a=r.some(function(e){return"In Progress"===e.status}),i="Pending";return s?i="Reinstallation Needed":n?i="Complete":(a||t.assignedTeamMembers.length>0)&&(i="In Progress"),b(b({},t),{},{layers:r,status:i,updatedAt:new Date})}),void w("Layer marked as requiring reinstallation");var e},className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 text-sm mobile-touch-target",children:[(0,n.jsx)(a.A,{className:"w-4 h-4 mr-1"}),"Reinstallation Required"]})})]}),"Reinstallation Needed"===e.status&&(0,n.jsxs)("div",{className:"space-y-3",children:[e.notes&&(0,n.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[(0,n.jsx)("strong",{children:"Note:"})," ",e.notes]}),e.reinstallationMarkedBy&&(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-orange-700",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(a.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsxs)("span",{children:["Reinstallation marked by: ",e.reinstallationMarkedBy]})]}),e.reinstallationMarkedAt&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4 flex-shrink-0"}),(0,n.jsx)("span",{children:e.reinstallationMarkedAt.toLocaleDateString()})]})]})]}),!A&&"execution-team"===(null==N?void 0:N.userType)&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsxs)(m.$,{onClick:function(){return e=t,T(function(t){if(!t)return null;var r=y(t.layers);r[e]=b(b({},r[e]),{},{status:"Installed",installedBy:(null==N?void 0:N.name)||"Current User",installedAt:new Date,reinstallationCompletedBy:(null==N?void 0:N.name)||"Current User",reinstallationCompletedAt:new Date});var n=r.every(function(e){return"Installed"===e.status}),s=r.some(function(e){return"Reinstallation Needed"===e.status}),a=r.some(function(e){return"In Progress"===e.status}),i="Pending";return s?i="Reinstallation Needed":n?i="Complete":(a||t.assignedTeamMembers.length>0)&&(i="In Progress"),b(b({},t),{},{layers:r,status:i,updatedAt:new Date})}),void w("Reinstallation completed successfully");var e},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 text-sm mobile-touch-target",children:[(0,n.jsx)(l.A,{className:"w-4 h-4 mr-1"}),"Reinstallation Complete"]})})]}),(r="In Progress"===I.status&&("In Progress"===e.status||"Pending"===e.status)&&!A&&"Installed"!==e.status,console.log("Button condition check:",{windowStatus:I.status,layerStatus:e.status,isEditing:A,shouldShowButton:r}),r&&(0,n.jsx)("div",{className:"mt-3 flex justify-end",children:(0,n.jsxs)(m.$,{onClick:function(){return e=t,T(function(t){if(!t)return null;var r=y(t.layers);r[e]=b(b({},r[e]),{},{status:"Installed",installedBy:"Current User",installedAt:new Date});var n=r.every(function(e){return"Installed"===e.status}),s=r.some(function(e){return"Reinstallation Needed"===e.status}),a=r.some(function(e){return"In Progress"===e.status}),i="Pending";return s?i="Reinstallation Needed":n?i="Complete":(a||t.assignedTeamMembers.length>0)&&(i="In Progress"),b(b({},t),{},{layers:r,status:i,updatedAt:new Date})}),void w("Layer marked as complete");var e},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 text-sm mobile-touch-target",children:[(0,n.jsx)(l.A,{className:"w-4 h-4 mr-1"}),"Mark as Complete"]})}))]},t);var r})})]})]})})}},6517:(e,t,r)=>{r.d(t,{U:()=>n,y:()=>s});var n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"TXDA-SJ1BR1-EETUSC01-P20001",stage:"PV75",status:"PV75",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z",assignedCoordinator:{id:"coord-1",name:"Jennifer White",email:"jennifer@company.com",phone:"+1-555-0130"}},s={assignedTeam:{members:[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",avatar:"JS",location:"Los Angeles, CA"},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",avatar:"SJ",location:"Chicago, IL"},{id:"tm-003",name:"Mike Wilson",role:"Installer",avatar:"MW",location:"Houston, TX"}],count:3,leadMember:{id:"tm-001",name:"John Smith",role:"Lead Supervisor",location:"Los Angeles, CA"}},assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]}},7985:(e,t,r)=>{r.d(t,{R:()=>m});var n=r(4848),s=r(6540),a=r(74),i=r(7821);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t,r,l=e.isOpen,o=e.onClose,m=e.onSubmit,x=(t=(0,s.useState)({todaysDate:(new Date).toLocaleDateString(),projectName:"Marriot Windows Installation",siteLocation:"123 Main Street, Downtown",ownersRep:"",signature:"",comments:""}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=x[0],p=x[1],f=function(e,t){p(function(r){return d(d({},r),{},c({},e,t))})},y=function(){p({todaysDate:(new Date).toLocaleDateString(),projectName:"Marriot Windows Installation",siteLocation:"123 Main Street, Downtown",ownersRep:"",signature:"",comments:""}),o()};return(0,n.jsx)(i.a,{isOpen:l,onClose:y,size:"xl",title:"Quality Walk Form",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"bg-blue-600 text-white p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-white rounded-lg flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-blue-600 font-bold text-lg",children:"SHD"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"SAFE HAVEN"}),(0,n.jsx)("p",{className:"text-blue-200 text-sm",children:"DEFENSE"})]})]}),(0,n.jsxs)("div",{className:"text-right text-sm",children:[(0,n.jsx)("p",{className:"font-semibold",children:"Safe Haven Defense US, LLC"}),(0,n.jsx)("p",{children:"22849 N 19TH Ave, Ste. 100"}),(0,n.jsx)("p",{children:"Phoenix, AZ 85027"}),(0,n.jsx)("p",{children:"p 480.689.7871"}),(0,n.jsx)("p",{children:"// safehavendefense.com"})]})]})}),(0,n.jsx)("div",{className:"text-center py-6 border-b border-gray-200",children:(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-900 underline",children:"Quality Walk"})}),(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(h),o()},className:"p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 min-w-[120px]",children:"Today's Date:"}),(0,n.jsx)("input",{type:"text",value:h.todaysDate,onChange:function(e){return f("todaysDate",e.target.value)},className:"flex-1 px-3 py-2 border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent",placeholder:"MM/DD/YYYY"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 min-w-[120px]",children:"Project Name:"}),(0,n.jsx)("input",{type:"text",value:h.projectName,onChange:function(e){return f("projectName",e.target.value)},className:"flex-1 px-3 py-2 border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 min-w-[120px]",children:"Site/Location:"}),(0,n.jsx)("input",{type:"text",value:h.siteLocation,onChange:function(e){return f("siteLocation",e.target.value)},className:"flex-1 px-3 py-2 border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700 min-w-[120px]",children:"Owners Rep.:"}),(0,n.jsx)("input",{type:"text",value:h.ownersRep,onChange:function(e){return f("ownersRep",e.target.value)},className:"flex-1 px-3 py-2 border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent",placeholder:"Enter owner's representative name"})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PURPOSE"}),(0,n.jsxs)("div",{className:"space-y-4 text-sm text-gray-700 leading-relaxed",children:[(0,n.jsx)("p",{children:"Safe Haven Defense US, LLC is a recognized leader in surety laminate solutions. We provide an exceptionally finished product installed by trained experts using our innovative installation technique. Our bullet resistant films are unique, lab tested, UL certified, and provide 1 Directional Bullet Resistance while restricting unauthorized access. We stand behind our work with comprehensive warranties."}),(0,n.jsx)("p",{children:"This form serves as your approval of our workmanship and the professionalism shown by our installation team. Please ensure windows are free from debris, particle dust exists, and note that 30 days or more of curing time is required. Conduct a quality walk at a 6'-0\" distance, visually inspect our work areas and mainly at right angles, from a standing and/or seated position. Please sign below for approval of a successfully completed project."}),(0,n.jsx)("p",{children:"If you have any questions, comments or concerns, please contact us so we can find a solution. Thank you for your interest in our products and trust in contracting with Safe Haven Defense US."})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Comments"}),(0,n.jsx)("textarea",{value:h.comments,onChange:function(e){return f("comments",e.target.value)},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional comments or concerns..."})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Signature"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Owner's Representative Signature *"}),(0,n.jsx)("input",{type:"text",required:!0,value:h.signature,onChange:function(e){return f("signature",e.target.value)},className:"w-full px-3 py-2 border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent",placeholder:"Type your full name to sign"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"By signing above, you confirm approval of a successfully completed project."})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,n.jsx)(a.$,{type:"button",variant:"secondary",onClick:y,children:"Cancel"}),(0,n.jsx)(a.$,{type:"submit",variant:"primary",disabled:!h.signature,children:"Submit Quality Walk Form"})]})]})]})})}},7990:(e,t,r)=>{r.d(t,{f:()=>h});var n=r(4848),s=r(6540),a=r(7821),i=r(74),l=r(5331),o=r(9735);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t,r,d=e.isOpen,c=e.onClose,h=e.windowItem,p=e.onSave,f=(0,l.d)().showToast,y=(t=(0,s.useState)({windowName:"",filmType:"BR",length:120,width:80,interiorLayers:1,exteriorLayers:0}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],o=!0,d=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){d=!0,s=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=y[0],b=y[1];(0,s.useEffect)(function(){if(h){var e=h.layers.filter(function(e){return e.layerName.includes("Interior")||e.layerName.includes("Middle")}).length,t=h.layers.filter(function(e){return e.layerName.includes("Exterior")}).length;b({windowName:h.windowName,filmType:h.filmType,length:h.length,width:h.width,interiorLayers:e,exteriorLayers:t})}else b({windowName:"",filmType:"BR",length:120,width:80,interiorLayers:1,exteriorLayers:0})},[h,d]);var j=function(e,t){b(function(r){return u(u({},r),{},m({},e,t))})},v=function(e,t){for(var r=[],n=1,s=1;s<=e;s++)r.push({layerNumber:n++,layerName:1===e?"Interior Layer":"Interior Layer ".concat(s),status:"Pending"});for(var a=1;a<=t;a++)r.push({layerNumber:n++,layerName:1===t?"Exterior Layer":"Exterior Layer ".concat(a),status:"Pending"});return r},w=function(){b({windowName:"",filmType:"BR",length:120,width:80,interiorLayers:1,exteriorLayers:0}),c()};return(0,n.jsx)(a.a,{isOpen:d,onClose:w,title:h?"Edit Window":"Add New Window",size:"md",children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Window Name *"}),(0,n.jsx)("input",{type:"text",value:g.windowName,onChange:function(e){return j("windowName",e.target.value)},placeholder:"Enter window name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Film Type *"}),(0,n.jsx)("select",{value:g.filmType,onChange:function(e){return j("filmType",e.target.value)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:o.jd.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (in) *"}),(0,n.jsx)("input",{type:"number",min:"1",value:g.length,onChange:function(e){return j("length",parseInt(e.target.value)||48)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (in) *"}),(0,n.jsx)("input",{type:"number",min:"1",value:g.width,onChange:function(e){return j("width",parseInt(e.target.value)||32)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interior Layers *"}),(0,n.jsx)("input",{type:"number",min:"0",max:"10",value:g.interiorLayers,onChange:function(e){return j("interiorLayers",parseInt(e.target.value)||0)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exterior Layers *"}),(0,n.jsx)("input",{type:"number",min:"0",max:"10",value:g.exteriorLayers,onChange:function(e){return j("exteriorLayers",parseInt(e.target.value)||0)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"At least one layer (interior or exterior) must be specified"}),(g.interiorLayers>0||g.exteriorLayers>0)&&(0,n.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Layer Preview:"}),(0,n.jsx)("div",{className:"space-y-1",children:v(g.interiorLayers,g.exteriorLayers).map(function(e,t){return(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["• ",e.layerName]},t)})})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,n.jsx)(i.$,{variant:"secondary",onClick:w,children:"Cancel"}),(0,n.jsx)(i.$,{variant:"primary",onClick:function(){if(g.windowName.trim())if(g.length<=0||g.width<=0)f("Length and width must be greater than 0","error");else if(g.interiorLayers<=0&&g.exteriorLayers<=0)f("At least one layer (interior or exterior) must be specified","error");else{var e=new Date,t={id:(null==h?void 0:h.id)||"window-".concat(Date.now()),windowName:g.windowName.trim(),filmType:g.filmType,length:g.length,width:g.width,layers:v(g.interiorLayers,g.exteriorLayers),status:"Pending",assignedTeamMembers:(null==h?void 0:h.assignedTeamMembers)||[],createdAt:(null==h?void 0:h.createdAt)||e,updatedAt:e,createdFromSheet:(null==h?void 0:h.createdFromSheet)||!1,sheetId:null==h?void 0:h.sheetId};p(t),f(h?"Window updated successfully":"Window added successfully","success"),c()}else f("Window name is required","error")},children:h?"Update Window":"Add Window"})]})]})})}},9735:(e,t,r)=>{r.d(t,{NE:()=>s,jd:()=>a,xw:()=>n});var n=[{id:"1",windowName:"Main Office Window 1",filmType:"BR",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:1,color:"Black",tint:"None",stripping:!1},{id:"2",windowName:"Main Office Window 2",filmType:"Riot",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:0,color:"White",tint:"Light",stripping:!0},{id:"3",windowName:"Main Office Window 3",filmType:"Riot +",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17"),notes:"Quality issue detected"}],status:"Reinstallation Needed",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:1,color:"Black",tint:"Dark",stripping:!1},{id:"4",windowName:"Main Office Window 4",filmType:"Riot -",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending"}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:0},{id:"5",windowName:"Main Office Window 5",filmType:"BR",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:0},{id:"6",windowName:"Main Office Window 6",filmType:"PER",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:1},{id:"7",windowName:"Main Office Window 7",filmType:"BR",length:48,width:32,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")}],status:"Complete",assignedTeamMembers:["John Smith"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1",interiorCount:1,exteriorCount:0}],s=["John Smith","Ayesha Khan","Mike Lee","Sarah Johnson","David Chen","Emily Rodriguez"],a=["BR","Riot","Riot +","Riot -","PER","Smash","FER","Custom"]}}]);