"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[885,922],{894:(e,t,s)=>{s.d(t,{a:()=>o});var r=s(4848),a=s(6540),l=s(9237);const o=({isOpen:e,onClose:t,title:s,children:o,size:i="md"})=>((0,a.useEffect)(()=>{const s=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,r.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]} p-6`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-h2 font-semibold text-text-primary",children:s}),(0,r.jsx)("button",{onClick:t,className:"btn-icon","aria-label":"Close modal",children:(0,r.jsx)(l.A,{size:20})})]}),(0,r.jsx)("div",{children:o})]})]})}):null)},2341:(e,t,s)=>{s.d(t,{Z:()=>a});var r=s(4848);s(6540);const a=({children:e,className:t="",padding:s="md",hover:a=!1,onClick:l})=>{const o=a?"hover:shadow-lg transition-shadow cursor-pointer":"";return(0,r.jsx)("div",{className:`bg-white rounded-lg shadow-card ${{sm:"p-3",md:"p-4",lg:"p-6"}[s]} ${o} ${t}`,onClick:l,children:e})}},3922:(e,t,s)=>{s.d(t,{Trailers:()=>M});var r=s(4848),a=s(6540),l=s(7767),o=s(7596),i=s(339),n=s(799),c=s(5891),d=s(3183),h=s(5426),m=s(3492),u=s(82),x=s(2341),g=s(5919),N=s(4138);const p=[{name:"CART",defaultThreshold:6},{name:"BEER TANK W/ HOSE",defaultThreshold:6},{name:"HARD PRESS",defaultThreshold:6},{name:"RED CARD",defaultThreshold:6},{name:"OLFA",defaultThreshold:6},{name:"OLFA BLADE PACK",defaultThreshold:6},{name:"SCRAPERS",defaultThreshold:6},{name:"SCRAPER BLADE PACK",defaultThreshold:6},{name:"PICK KIT",defaultThreshold:6},{name:"1 QRT ACETONE",defaultThreshold:6},{name:"PHILLIPS HEAD SD",defaultThreshold:6},{name:"FLAT HEAD SD",defaultThreshold:6},{name:"WINDOW SQUEEGEE",defaultThreshold:6},{name:"CORDLESS DRILL",defaultThreshold:1},{name:"DRILL BIT KIT",defaultThreshold:1},{name:"GENERATOR W/ CORD",defaultThreshold:1},{name:"CAULK SAUSAGE CASE",defaultThreshold:2},{name:"9 PK BLUE TAPE",defaultThreshold:1},{name:"MICRO FIBER PACKAGE",defaultThreshold:2},{name:"5 GAL GAS CAN",defaultThreshold:1},{name:"12 GAL WATER",defaultThreshold:1},{name:"AIR COMP W/ HOSE",defaultThreshold:1},{name:"TRASH CAN",defaultThreshold:1},{name:"55 GAL TRASH BAGS CASE",defaultThreshold:1},{name:"BATH TOWEL",defaultThreshold:8},{name:"5 GAL BUCKETS",defaultThreshold:20},{name:"SHARPIE PACK",defaultThreshold:1},{name:"DRY ERASE MARKER PACK",defaultThreshold:1},{name:"CAULK GUN (Sausage)",defaultThreshold:2},{name:"PACK NITRILE GLOVES",defaultThreshold:1},{name:"CASE OF BLUE TOWELS",defaultThreshold:1},{name:"TRIANGLE SQUARE",defaultThreshold:1},{name:"NON SERATED SCISSORS",defaultThreshold:1},{name:"TUB O' TOWELS",defaultThreshold:1},{name:"LADDERS",defaultThreshold:4},{name:"TANK FIX KITS",defaultThreshold:2},{name:"EXTRAS SPRAY NOZZLES",defaultThreshold:2}],y=["BR","Riot+","Riot","Riot -","FER","Smash","Tint NI","Tint Incl","Anchoring","Kevlar","Stripping"],b=["Warehouse A","Warehouse B","Field Site 1","Field Site 2","Maintenance Bay","Storage Yard","Transit Hub","Client Location"],j=(e,t)=>0===e?"critical":e<=t?"low":"good",S=(e,t,s,r=!1)=>({id:crypto.randomUUID(),timestamp:(new Date).toISOString(),type:e,description:t,user:s,systemGenerated:r}),f=({trailers:e,onCreateTrailer:t,onViewTrailer:s,onEditTrailer:l,onDeleteTrailer:o})=>{const[h,m]=(0,a.useState)("card"),[u,N]=(0,a.useState)(""),[p,y]=(0,a.useState)(""),[j,S]=(0,a.useState)(""),[f,A]=(0,a.useState)("trailerNumber"),[k,w]=(0,a.useState)("asc"),E=(0,a.useMemo)(()=>{const t=((e,t)=>e.filter(e=>{if(t.status&&e.status!==t.status)return!1;if(t.location&&e.location!==t.location)return!1;if(t.search){const s=t.search.toLowerCase();return e.trailerNumber.toLowerCase().includes(s)||e.registrationNumber.toLowerCase().includes(s)||e.location.toLowerCase().includes(s)}return!0}))(e,{status:p||void 0,location:j||void 0,search:u||void 0});return((e,t,s="asc")=>[...e].sort((e,r)=>{let a=e[t],l=r[t];return"string"==typeof a&&(a=a.toLowerCase(),l=l.toLowerCase()),a<l?"asc"===s?-1:1:a>l?"asc"===s?1:-1:0}))(t,f,k)},[e,u,p,j,f,k]);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,r.jsx)(g.$,{onClick:t,icon:i.A,children:"Add New Trailer"})]}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.A,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search trailers by name or registration number..",value:u,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,r.jsxs)("select",{value:p,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"available",children:"Available"}),(0,r.jsx)("option",{value:"low",children:"Low Stock"}),(0,r.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,r.jsxs)("select",{value:j,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,r.jsx)("option",{value:"",children:"All Locations"}),b.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("div",{className:"flex rounded-md border border-gray-300",children:[(0,r.jsxs)("button",{onClick:()=>m("card"),className:"px-3 py-2 rounded-l-md flex items-center gap-2 transition-colors "+("card"===h?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(c.A,{size:16}),"Cards"]}),(0,r.jsxs)("button",{onClick:()=>m("table"),className:"px-3 py-2 rounded-r-md flex items-center gap-2 transition-colors border-l "+("table"===h?"bg-primary text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)(d.A,{size:16}),"Table"]})]})]})}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",E.length," of ",e.length," trailers"]}),"card"===h?(0,r.jsx)(v,{trailers:E,onViewTrailer:s,onEditTrailer:l,onDeleteTrailer:o}):(0,r.jsx)(T,{trailers:E,sortBy:f,sortOrder:k,onSort:e=>{f===e?w("asc"===k?"desc":"asc"):(A(e),w("asc"))},onViewTrailer:s,onEditTrailer:l,onDeleteTrailer:o})]})},v=({trailers:e,onViewTrailer:t,onEditTrailer:s,onDeleteTrailer:a})=>0===e.length?(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(c.A,{size:48,className:"mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsx)(x.Z,{hover:!0,className:"relative cursor-pointer transition-transform hover:scale-[1.02]",onClick:()=>t(e),children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.trailerNumber}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.registrationNumber})]}),(0,r.jsx)(N.W,{status:e.status})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.location]})]})},e.id))}),T=({trailers:e,sortBy:t,sortOrder:s,onSort:a,onViewTrailer:l,onEditTrailer:o,onDeleteTrailer:i})=>{if(0===e.length)return(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)(d.A,{size:48,className:"mx-auto"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});const n=({field:e,children:l})=>(0,r.jsxs)("button",{onClick:()=>a(e),className:"flex items-center gap-1 text-left hover:text-primary transition-colors",children:[l,t===e&&(0,r.jsx)("span",{className:"text-primary",children:"asc"===s?"↑":"↓"})]});return(0,r.jsx)(x.Z,{padding:"sm",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(n,{field:"trailerNumber",children:"Trailer Number"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(n,{field:"registrationNumber",children:"Registration"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(n,{field:"location",children:"Location"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsx)(n,{field:"status",children:"Status"})}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.trailerNumber})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.registrationNumber})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.location})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)(N.W,{status:e.status})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>l(e),icon:h.A,children:"View"}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>o(e),icon:m.A,children:"Edit"}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:()=>i(e),icon:u.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})})]},e.id))})]})})})};var A=s(8252),k=s(3459),w=s(1397),E=s(1813),C=s(6913),R=s(7720),L=s(4574);const I=({trailer:e,onBack:t,onEdit:s,onDelete:l})=>{const[n,c]=(0,a.useState)("tools");return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(g.$,{variant:"ghost",onClick:t,icon:A.A,className:"p-2",children:"Back"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900",children:["Trailer ",e.trailerNumber]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Registration: ",e.registrationNumber]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["available"===e.status&&(0,r.jsx)(g.$,{variant:"primary",onClick:()=>{console.log("Assign trailer to project:",e.trailerNumber)},icon:i.A,children:"Assign to Project"}),(0,r.jsx)(g.$,{variant:"secondary",onClick:()=>s(e),icon:m.A,children:"Edit Trailer"}),(0,r.jsx)(g.$,{variant:"ghost",onClick:()=>l(e),icon:u.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})]}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,r.jsx)(N.W,{status:e.status,size:"md"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,r.jsx)(o.A,{size:20,className:"text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Number"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.trailerNumber})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)(k.A,{size:20,className:"text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.registrationNumber})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,r.jsx)(w.A,{size:20,className:"text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Location"}),(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.location})]})]})]})]})}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"})}),(0,r.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,r.jsx)("button",{onClick:()=>c("tools"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("tools"===n?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(E.A,{size:16}),"Tools (",e.inventory.tools.length,")"]})}),(0,r.jsx)("button",{onClick:()=>c("sheets"),className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors "+("sheets"===n?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)(C.A,{size:16}),"Film Sheets (",e.inventory.filmSheets.length,")"]})})]}),"tools"===n&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.inventory.tools.map((e,t)=>(0,r.jsx)(D,{item:e},t))})]})}),"sheets"===n&&(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sheet Type"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.inventory.filmSheets.map((e,t)=>(0,r.jsx)(O,{item:e},t))})]})})]})}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(R.A,{size:20,className:"text-gray-600"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===e.activityLogs.length?(0,r.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,r.jsx)("div",{className:"space-y-3",children:e.activityLogs.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).map(e=>{return(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"p-1 rounded-full "+(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,r.jsx)(R.A,{size:14,className:"text-blue-600"}):(0,r.jsx)(L.A,{size:14,className:"text-green-600"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,r.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var t})})]})})]})},D=({item:e})=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.toolName})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)(N.W,{status:e.status})}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,r.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.currentStock>e.threshold?(0,r.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,r.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,r.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,r.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})]}),O=({item:e})=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.sheetType})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.currentStock})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)(N.W,{status:e.status})}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all "+("critical"===e.status?"bg-red-500":"low"===e.status?"bg-amber-500":"bg-green-500"),style:{width:`${0===e.threshold?100:Math.min(e.currentStock/e.threshold*100,100)}%`}})}),(0,r.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.currentStock>e.threshold?(0,r.jsxs)("span",{className:"text-green-600",children:["+",e.currentStock-e.threshold," above threshold"]}):e.currentStock===e.threshold?(0,r.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===e.currentStock?(0,r.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,r.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.currentStock," below threshold"]})})]})]});var P=s(3274),K=s(9237),G=s(6628);const B=(0,a.createContext)(void 0),U=()=>{const e=(0,a.useContext)(B);if(!e)throw new Error("useCollapsibleSidePanel must be used within a CollapsibleSidePanelProvider");return e},W=({children:e,title:t,onClose:s,className:a=""})=>{const{isOpen:l,close:o}=U(),i=()=>{o(),s?.()};return l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:i}),(0,r.jsx)("div",{className:`fixed right-0 top-0 h-full w-96 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out ${a}`,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[t&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:t}),(0,r.jsx)(g.$,{variant:"ghost",size:"sm",onClick:i,className:"p-1",children:(0,r.jsx)(K.A,{className:"w-4 h-4"})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:e})]})})]}):null},H=({trailer:e,onSave:t,onCancel:s,existingTrailerNumbers:l})=>{const o=!!e,[i,n]=(0,a.useState)({trailerNumber:"",registrationNumber:"",location:"",toolThresholds:p.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{}),filmSheetThresholds:y.reduce((e,t)=>({...e,[t]:10}),{})}),[c,d]=(0,a.useState)(p.reduce((e,t)=>({...e,[t.name]:0}),{})),[h,m]=(0,a.useState)(y.reduce((e,t)=>({...e,[t]:0}),{})),[u,N]=(0,a.useState)({}),[j,f]=(0,a.useState)(!1),[v,T]=(0,a.useState)(!1),{mainContentStyle:A}=U(),k=()=>{n({trailerNumber:"",registrationNumber:"",location:"",toolThresholds:p.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{}),filmSheetThresholds:y.reduce((e,t)=>({...e,[t]:10}),{})}),d(p.reduce((e,t)=>({...e,[t.name]:0}),{})),m(y.reduce((e,t)=>({...e,[t]:0}),{})),N({})};(0,a.useEffect)(()=>{if(e){const t=p.reduce((e,t)=>({...e,[t.name]:t.defaultThreshold}),{});e.inventory.tools.forEach(e=>{t[e.toolName]=e.threshold});const s=y.reduce((e,t)=>({...e,[t]:10}),{});e.inventory.filmSheets.forEach(e=>{s[e.sheetType]=e.threshold}),n({trailerNumber:e.trailerNumber,registrationNumber:e.registrationNumber,location:e.location,toolThresholds:t,filmSheetThresholds:s});const r=p.reduce((e,t)=>({...e,[t.name]:0}),{});e.inventory.tools.forEach(e=>{r[e.toolName]=e.currentStock}),d(r);const a=y.reduce((e,t)=>({...e,[t]:0}),{});e.inventory.filmSheets.forEach(e=>{a[e.sheetType]=e.currentStock}),m(a)}else k()},[e]);const w=(e,t)=>{n(s=>({...s,[e]:t})),u[e]&&N(t=>{const s={...t};return delete s[e],s})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 transition-all duration-300 ease-in-out",style:A,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(g.$,{variant:"ghost",size:"sm",onClick:()=>T(!v),className:"p-2",icon:P.A,children:[v?"Hide":"Show"," Panel"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:o?`Edit Trailer ${e?.trailerNumber}`:"Add New Trailer"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:o?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(g.$,{type:"button",variant:"secondary",onClick:s,disabled:j,icon:K.A,children:"Cancel"}),(0,r.jsx)(g.$,{type:"submit",form:"trailer-form",disabled:j,icon:G.A,children:j?"Saving...":o?"Update Trailer":"Create Trailer"})]})]}),(0,r.jsx)("form",{id:"trailer-form",onSubmit:async s=>{s.preventDefault(),f(!0);const r=(e=>{const t={};return e.trailerNumber.trim()||(t.trailerNumber="Trailer number is required"),e.registrationNumber.trim()||(t.registrationNumber="Registration number is required"),e.location.trim()||(t.location="Location is required"),p.forEach(s=>{const r=e.toolThresholds[s.name];void 0!==r&&r<0&&(t[`tool_${s.name}`]="Threshold cannot be negative")}),y.forEach(s=>{const r=e.filmSheetThresholds[s];void 0!==r&&r<0&&(t[`sheet_${s}`]="Threshold cannot be negative")}),{isValid:0===Object.keys(t).length,errors:t}})(i),a=i.trailerNumber.toUpperCase().replace(/[^A-Z0-9]/g,"");if((o?l.filter(t=>t!==e?.trailerNumber):l).includes(a)&&(r.errors.trailerNumber="Trailer number already exists",r.isValid=!1),!r.isValid)return N(r.errors),void f(!1);try{const s=p.map(e=>({toolName:e.name,currentStock:c[e.name],threshold:i.toolThresholds[e.name],status:0===c[e.name]?"critical":c[e.name]<=i.toolThresholds[e.name]?"low":"good"})),r=y.map(e=>({sheetType:e,currentStock:h[e],threshold:i.filmSheetThresholds[e],status:0===h[e]?"critical":h[e]<=i.filmSheetThresholds[e]?"low":"good"})),l={tools:s,filmSheets:r},n=((new Date).toISOString(),e?[...e.activityLogs]:[]);if(o&&e){e.trailerNumber!==a&&n.push(S("updated",`Trailer number changed from ${e.trailerNumber} to ${a}`,void 0,!0)),e.registrationNumber!==i.registrationNumber&&n.push(S("updated","Registration number updated",void 0,!0)),e.location!==i.location&&n.push(S("location_changed",`Location changed from ${e.location} to ${i.location}`,void 0,!0));const t=e.inventory.tools.some(e=>{const t=s.find(t=>t.toolName===e.toolName);return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),l=e.inventory.filmSheets.some(e=>{const t=r.find(t=>t.sheetType===e.sheetType);return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)});(t||l)&&n.push(S("inventory_updated","Inventory levels updated",void 0,!0))}else n.push(S("created",`Trailer ${a} created`,void 0,!0));const d={trailerNumber:a,registrationNumber:i.registrationNumber.trim(),location:i.location,inventory:l,status:"available",activityLogs:n};t(d),N({})}catch(e){console.error("Error saving trailer:",e)}finally{f(!1)}},className:"space-y-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"trailerNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Trailer Name *"}),(0,r.jsx)("input",{type:"text",id:"trailerNumber",value:i.trailerNumber,onChange:e=>w("trailerNumber",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(u.trailerNumber?"border-red-300":"border-gray-300"),placeholder:"Enter trailer number"}),u.trailerNumber&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:u.trailerNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),(0,r.jsx)("input",{type:"text",id:"registrationNumber",value:i.registrationNumber,onChange:e=>w("registrationNumber",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(u.registrationNumber?"border-red-300":"border-gray-300"),placeholder:"Enter registration number"}),u.registrationNumber&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:u.registrationNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),(0,r.jsxs)("select",{id:"location",value:i.location,onChange:e=>w("location",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent "+(u.location?"border-red-300":"border-gray-300"),children:[(0,r.jsx)("option",{value:"",children:"Select location"}),b.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),u.location&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:u.location})]})]})]})}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Film Sheets Inventory"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each film sheet type."}),(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:y.map(e=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e})})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Current Stock"}),(0,r.jsx)("input",{type:"number",min:"0",value:h[e],onChange:t=>((e,t)=>{m(s=>({...s,[e]:Math.max(0,t)}))})(e,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Threshold"}),(0,r.jsx)("input",{type:"number",min:"0",value:i.filmSheetThresholds[e]||10,onChange:t=>((e,t)=>{n(s=>({...s,filmSheetThresholds:{...s.filmSheetThresholds,[e]:Math.max(0,t)}}));const s=`sheet_${e}`;u[s]&&N(e=>{const t={...e};return delete t[s],t})})(e,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e))})]})})]}),(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Tools Inventory"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each tool. The system will alert when stock falls below threshold levels."}),(0,r.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:p.map(e=>(0,r.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Default threshold: ",e.defaultThreshold]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Current Stock"}),(0,r.jsx)("input",{type:"number",min:"0",value:c[e.name],onChange:t=>{return s=e.name,r=parseInt(t.target.value)||0,void d(e=>({...e,[s]:Math.max(0,r)}));var s,r},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Threshold"}),(0,r.jsx)("input",{type:"number",min:"0",value:i.toolThresholds[e.name]||e.defaultThreshold,onChange:t=>((e,t)=>{n(s=>({...s,toolThresholds:{...s.toolThresholds,[e]:Math.max(0,t)}}));const s=`tool_${e}`;u[s]&&N(e=>{const t={...e};return delete t[s],t})})(e.name,parseInt(t.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e.name))})]})})})]})})]}),(0,r.jsx)(W,{isOpen:v,onClose:()=>T(!1),title:"Quick Actions & Info",width:420,collapsedWidth:60,position:"right",collapsible:!0,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>{k()},children:"Reset Form"}),(0,r.jsx)(g.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>{console.log("Save as draft")},children:"Save as Draft"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Form Status"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Trailer Number:"}),(0,r.jsx)("span",{className:i.trailerNumber?"text-green-600":"text-red-600",children:i.trailerNumber?"✓":"✗"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Registration:"}),(0,r.jsx)("span",{className:i.registrationNumber?"text-green-600":"text-red-600",children:i.registrationNumber?"✓":"✗"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Location:"}),(0,r.jsx)("span",{className:i.location?"text-green-600":"text-red-600",children:i.location?"✓":"✗"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Summary"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Tools"}),(0,r.jsxs)("div",{className:"space-y-1",children:[Object.entries(c).slice(0,5).map(([e,t])=>(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600 truncate",children:e}),(0,r.jsx)("span",{className:"text-gray-900",children:t})]},e)),Object.keys(c).length>5&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["+",Object.keys(c).length-5," more tools"]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Film Sheets"}),(0,r.jsxs)("div",{className:"space-y-1",children:[Object.entries(h).slice(0,5).map(([e,t])=>(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)("span",{className:"text-gray-600 truncate",children:e}),(0,r.jsx)("span",{className:"text-gray-900",children:t})]},e)),Object.keys(h).length>5&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["+",Object.keys(h).length-5," more sheets"]})]})]})]}),Object.keys(u).length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-red-600",children:"Validation Errors"}),(0,r.jsx)("div",{className:"space-y-2",children:Object.entries(u).map(([e,t])=>(0,r.jsxs)("div",{className:"text-sm text-red-600",children:[(0,r.jsxs)("div",{className:"font-medium",children:[e,":"]}),(0,r.jsx)("div",{className:"text-xs",children:t})]},e))})]})]})})]})};var $=s(5732),F=s(894);const z=({isOpen:e,onClose:t,trailer:s,onConfirmDelete:l})=>{const[o,i]=(0,a.useState)(!1);return s?(0,r.jsx)(F.a,{isOpen:e,onClose:t,title:"Delete Trailer?",size:"sm",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,r.jsx)($.A,{size:24,className:"text-red-600"})})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-900",children:["This will permanently remove ",(0,r.jsxs)("strong",{children:["Trailer ",s.trailerNumber]})," and its records. This action cannot be undone."]}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Registration:"})," ",s.registrationNumber]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Location:"})," ",s.location]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",s.inventory.length," film types"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",s.activityLogs.length," entries"]})]})]})})]}),(0,r.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)($.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,r.jsx)("strong",{children:"Warning:"})," If this trailer is currently assigned to any projects, you may need to reassign them to other trailers before deletion."]})]})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,r.jsx)(g.$,{type:"button",variant:"secondary",onClick:t,disabled:o,children:"Cancel"}),(0,r.jsx)(g.$,{type:"button",onClick:async()=>{if(s){i(!0);try{await l(s),t()}catch(e){console.error("Error deleting trailer:",e)}finally{i(!1)}}},disabled:o,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:o?"Deleting...":"Delete Trailer"})]})]})}):null};var Z=s(7894);const M=()=>{const{trailerId:e}=(0,l.g)(),t=(0,l.Zp)(),[s,i]=(0,a.useState)([{id:"1",trailerNumber:"TRL001",registrationNumber:"REG-001-2024",location:"Warehouse A",inventory:{tools:[{toolName:"CART",currentStock:6,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:4,threshold:6,status:"low"},{toolName:"HARD PRESS",currentStock:0,threshold:6,status:"critical"},{toolName:"RED CARD",currentStock:8,threshold:6,status:"good"},{toolName:"OLFA",currentStock:5,threshold:6,status:"low"},{toolName:"OLFA BLADE PACK",currentStock:3,threshold:6,status:"low"},{toolName:"SCRAPERS",currentStock:7,threshold:6,status:"good"},{toolName:"SCRAPER BLADE PACK",currentStock:2,threshold:6,status:"low"},{toolName:"PICK KIT",currentStock:4,threshold:6,status:"low"},{toolName:"1 QRT ACETONE",currentStock:8,threshold:6,status:"good"},{toolName:"PHILLIPS HEAD SD",currentStock:6,threshold:6,status:"good"},{toolName:"FLAT HEAD SD",currentStock:5,threshold:6,status:"low"},{toolName:"WINDOW SQUEEGEE",currentStock:3,threshold:6,status:"low"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:0,threshold:1,status:"critical"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:3,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:1,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:3,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:10,threshold:8,status:"good"},{toolName:"5 GAL BUCKETS",currentStock:25,threshold:20,status:"good"},{toolName:"SHARPIE PACK",currentStock:1,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:3,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:1,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:25,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:15,threshold:20,status:"low"},{sheetType:"Riot",currentStock:0,threshold:15,status:"critical"},{sheetType:"Riot -",currentStock:12,threshold:10,status:"good"},{sheetType:"FER",currentStock:8,threshold:10,status:"low"},{sheetType:"Smash",currentStock:5,threshold:10,status:"low"},{sheetType:"Tint NI",currentStock:3,threshold:10,status:"low"},{sheetType:"Tint Incl",currentStock:7,threshold:10,status:"low"},{sheetType:"Anchoring",currentStock:2,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:1,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:4,threshold:10,status:"low"}]},status:"unavailable",activityLogs:[{id:"1",timestamp:"2024-01-15T10:30:00Z",type:"created",description:"Trailer TRL001 created",systemGenerated:!0},{id:"2",timestamp:"2024-01-16T14:20:00Z",type:"inventory_updated",description:"Inventory levels updated",user:"John Doe",systemGenerated:!1}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:20:00Z"},{id:"2",trailerNumber:"TRL002",registrationNumber:"REG-002-2024",location:"Field Site 1",inventory:{tools:[{toolName:"CART",currentStock:8,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:7,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:6,threshold:6,status:"good"},{toolName:"RED CARD",currentStock:10,threshold:6,status:"good"},{toolName:"OLFA",currentStock:8,threshold:6,status:"good"},{toolName:"OLFA BLADE PACK",currentStock:7,threshold:6,status:"good"},{toolName:"SCRAPERS",currentStock:9,threshold:6,status:"good"},{toolName:"SCRAPER BLADE PACK",currentStock:6,threshold:6,status:"good"},{toolName:"PICK KIT",currentStock:8,threshold:6,status:"good"},{toolName:"1 QRT ACETONE",currentStock:10,threshold:6,status:"good"},{toolName:"PHILLIPS HEAD SD",currentStock:8,threshold:6,status:"good"},{toolName:"FLAT HEAD SD",currentStock:7,threshold:6,status:"good"},{toolName:"WINDOW SQUEEGEE",currentStock:6,threshold:6,status:"good"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:1,threshold:1,status:"good"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:3,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:2,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:4,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:12,threshold:8,status:"good"},{toolName:"5 GAL BUCKETS",currentStock:30,threshold:20,status:"good"},{toolName:"SHARPIE PACK",currentStock:2,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:2,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:4,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:2,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:35,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:28,threshold:20,status:"good"},{sheetType:"Riot",currentStock:18,threshold:15,status:"good"},{sheetType:"Riot -",currentStock:15,threshold:10,status:"good"},{sheetType:"FER",currentStock:12,threshold:10,status:"good"},{sheetType:"Smash",currentStock:15,threshold:10,status:"good"},{sheetType:"Tint NI",currentStock:12,threshold:10,status:"good"},{sheetType:"Tint Incl",currentStock:10,threshold:10,status:"good"},{sheetType:"Anchoring",currentStock:8,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:6,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:9,threshold:10,status:"low"}]},status:"available",activityLogs:[{id:"3",timestamp:"2024-01-14T09:15:00Z",type:"created",description:"Trailer TRL002 created",systemGenerated:!0}],createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-14T09:15:00Z"},{id:"3",trailerNumber:"TRL003",registrationNumber:"REG-003-2024",location:"Maintenance Bay",inventory:{tools:[{toolName:"CART",currentStock:6,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:5,threshold:6,status:"low"},{toolName:"RED CARD",currentStock:4,threshold:6,status:"low"},{toolName:"OLFA",currentStock:3,threshold:6,status:"low"},{toolName:"OLFA BLADE PACK",currentStock:2,threshold:6,status:"low"},{toolName:"SCRAPERS",currentStock:4,threshold:6,status:"low"},{toolName:"SCRAPER BLADE PACK",currentStock:1,threshold:6,status:"low"},{toolName:"PICK KIT",currentStock:3,threshold:6,status:"low"},{toolName:"1 QRT ACETONE",currentStock:5,threshold:6,status:"low"},{toolName:"PHILLIPS HEAD SD",currentStock:4,threshold:6,status:"low"},{toolName:"FLAT HEAD SD",currentStock:3,threshold:6,status:"low"},{toolName:"WINDOW SQUEEGEE",currentStock:2,threshold:6,status:"low"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:1,threshold:1,status:"good"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:2,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:1,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:2,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:6,threshold:8,status:"low"},{toolName:"5 GAL BUCKETS",currentStock:15,threshold:20,status:"low"},{toolName:"SHARPIE PACK",currentStock:1,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:2,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:1,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:20,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:20,threshold:20,status:"good"},{sheetType:"Riot",currentStock:15,threshold:15,status:"good"},{sheetType:"Riot -",currentStock:8,threshold:10,status:"low"},{sheetType:"FER",currentStock:5,threshold:10,status:"low"},{sheetType:"Smash",currentStock:6,threshold:10,status:"low"},{sheetType:"Tint NI",currentStock:4,threshold:10,status:"low"},{sheetType:"Tint Incl",currentStock:5,threshold:10,status:"low"},{sheetType:"Anchoring",currentStock:3,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:2,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:4,threshold:10,status:"low"}]},status:"low",activityLogs:[{id:"4",timestamp:"2024-01-13T16:45:00Z",type:"created",description:"Trailer TRL003 created",systemGenerated:!0}],createdAt:"2024-01-13T16:45:00Z",updatedAt:"2024-01-13T16:45:00Z"}]),[n,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(null),[m,u]=(0,a.useState)("list"),[x,g]=(0,a.useState)(null),N=s.map(e=>e.trailerNumber),p=e?s.find(t=>t.id===e):null;(0,a.useEffect)(()=>{e&&p?u("detail"):e||u(e=>"create"===e||"edit"===e?e:"list")},[e,p]),(0,Z.KF)("detail"===m&&p?[{label:"Trailers",href:"/trailers",icon:o.A},{label:`Trailer ${p.trailerNumber}`}]:"create"===m?[{label:"Trailers",href:"/trailers",icon:o.A},{label:"Add New Trailer"}]:"edit"===m&&x?[{label:"Trailers",href:"/trailers",icon:o.A},{label:`Edit Trailer ${x.trailerNumber}`}]:[{label:"Trailers",icon:o.A}],[m,p,x]),(0,a.useEffect)(()=>{e&&!p&&t("/trailers",{replace:!0})},[e,p,t]);const y=(0,a.useCallback)(e=>{const t=(new Date).toISOString(),s={tools:(r=e.inventory).tools.map(e=>({...e,status:j(e.currentStock,e.threshold)})),filmSheets:r.filmSheets.map(e=>({...e,status:j(e.currentStock,e.threshold)}))};var r;const a=(e=>{const t=[...e.tools,...e.filmSheets];return t.some(e=>0===e.currentStock)?"unavailable":t.some(e=>e.currentStock<=e.threshold)?"low":"available"})(s),l={...e,id:crypto.randomUUID(),inventory:s,status:a,createdAt:t,updatedAt:t};i(e=>[...e,l]),u("list")},[]),b=(0,a.useCallback)(e=>{t(`/trailers/${e.id}`)},[t]),S=(0,a.useCallback)(()=>{t("/trailers"),u("list")},[t]),v=(0,a.useCallback)(e=>{g(e),u("edit")},[]),T=(0,a.useCallback)(e=>{const t=(new Date).toISOString(),s={...e,id:x?.id||crypto.randomUUID(),createdAt:x?.createdAt||t,updatedAt:t};i(e=>e.map(e=>e.id===s.id?s:e)),u("list"),g(null)},[x]),A=(0,a.useCallback)(()=>{u("create")},[]),k=(0,a.useCallback)(()=>{u("list"),g(null)},[]),w=(0,a.useCallback)(e=>{h(e),c(!0)},[]),E=(0,a.useCallback)(s=>{i(e=>e.filter(e=>e.id!==s.id)),e===s.id&&t("/trailers")},[e,t]),C=(0,a.useCallback)(()=>{c(!1),h(null)},[]);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["detail"===m&&p?(0,r.jsx)(I,{trailer:p,onBack:S,onEdit:v,onDelete:w}):"create"===m?(0,r.jsx)(H,{trailer:null,onSave:y,onCancel:k,existingTrailerNumbers:N}):"edit"===m&&x?(0,r.jsx)(H,{trailer:x,onSave:T,onCancel:k,existingTrailerNumbers:N.filter(e=>e!==x?.trailerNumber)}):(0,r.jsx)(f,{trailers:s,onCreateTrailer:A,onViewTrailer:b,onEditTrailer:v,onDeleteTrailer:w}),(0,r.jsx)(z,{isOpen:n,onClose:C,trailer:d,onConfirmDelete:E})]})}},4138:(e,t,s)=>{s.d(t,{W:()=>a});var r=s(4848);s(6540);const a=({status:e,size:t="sm",className:s=""})=>{const a=(e=>({UB:{bg:"bg-blue-100",text:"text-blue-800",label:"UB"},WB:{bg:"bg-teal-100",text:"text-teal-800",label:"WB"},WIP:{bg:"bg-amber-100",text:"text-amber-800",label:"WIP"},Completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},planning:{bg:"bg-amber-100",text:"text-amber-800",label:"Planning"},"in-progress":{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},"on-hold":{bg:"bg-gray-100",text:"text-gray-800",label:"On Hold"},available:{bg:"bg-green-100",text:"text-green-800",label:"Available"},busy:{bg:"bg-amber-100",text:"text-amber-800",label:"Busy"},unavailable:{bg:"bg-red-100",text:"text-red-800",label:"Unavailable"},low:{bg:"bg-amber-100",text:"text-amber-800",label:"Low Stock"},"in-use":{bg:"bg-blue-100",text:"text-blue-800",label:"In Use"},maintenance:{bg:"bg-orange-100",text:"text-orange-800",label:"Maintenance"},good:{bg:"bg-green-100",text:"text-green-800",label:"Good"},critical:{bg:"bg-red-100",text:"text-red-800",label:"Critical"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",label:e}))(e),l="sm"===t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return(0,r.jsx)("span",{className:`inline-flex items-center rounded-full font-medium ${a.bg} ${a.text} ${l} ${s}`,children:a.label})}}}]);