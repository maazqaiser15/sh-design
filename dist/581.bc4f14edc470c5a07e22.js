"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[581],{5581:(e,t,r)=>{r.d(t,{TeamGanttChart:()=>g});var a=r(4848),s=r(6540);const o=({viewMode:e,currentDate:t,onDateChange:r,searchTerm:o,onSearchChange:n,layoutMode:i})=>{const l=(0,s.useMemo)(()=>{const r=[];if("day"===e)r.push({date:t,label:t.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),isToday:t.toDateString()===(new Date).toDateString(),isCurrentPeriod:!0});else if("week"===e){const e=new Date(t),a=e.getDay(),s=e.getDate()-a+(0===a?-6:1);e.setDate(s);for(let t=0;t<7;t++){const a=new Date(e);a.setDate(e.getDate()+t),r.push({date:a,label:a.toLocaleDateString("en-US",{weekday:"short"}),isToday:a.toDateString()===(new Date).toDateString(),isCurrentPeriod:!0})}}else if("month"===e){const e=t.getFullYear(),a=t.getMonth(),s=new Date(e,a+1,0).getDate();for(let t=1;t<=s;t++){const s=new Date(e,a,t);r.push({date:s,label:t.toString(),isToday:s.toDateString()===(new Date).toDateString(),isCurrentPeriod:!0})}}else if("year"===e){const e=t.getFullYear();for(let t=0;t<12;t++){const a=new Date(e,t,1);r.push({date:a,label:a.toLocaleDateString("en-US",{month:"short"}),isToday:a.getMonth()===(new Date).getMonth()&&a.getFullYear()===(new Date).getFullYear(),isCurrentPeriod:!0})}}return r},[e,t]),c=a=>{const s=new Date(t);"day"===e?s.setDate(s.getDate()+("next"===a?1:-1)):"week"===e?s.setDate(s.getDate()+("next"===a?7:-7)):"month"===e?s.setMonth(s.getMonth()+("next"===a?1:-1)):"year"===e&&s.setFullYear(s.getFullYear()+("next"===a?1:-1)),r(s)};return(0,a.jsxs)("div",{className:"bg-white border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>c("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("button",{onClick:()=>c("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(()=>{if("day"===e)return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});if("week"===e){const e=new Date(t),r=e.getDay(),a=e.getDate()-r+(0===r?-6:1);e.setDate(a);const s=new Date(e);return s.setDate(e.getDate()+6),`Week of ${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}return"month"===e?t.toLocaleDateString("en-US",{year:"numeric",month:"long"}):t.toLocaleDateString("en-US",{year:"numeric"})})()})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,a.jsx)("input",{type:"text",placeholder:"team"===i?"Search team members...":"project"===i?"Search projects...":"Search trailers...",value:o,onChange:e=>n(e.target.value),className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),(0,a.jsx)("button",{onClick:()=>r(new Date),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Today"})]})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-80 p-4 bg-gray-50 border-r border-gray-200",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Projects"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"flex w-full",children:l.map((t,r)=>(0,a.jsxs)("div",{className:`flex-1 ${"month"===e?"p-1":"p-2"} text-center border-r border-gray-200 last:border-r-0 ${t.isToday?"bg-blue-50 text-blue-900":t.isCurrentPeriod?"bg-white":"bg-gray-50 text-gray-500"}`,children:[(0,a.jsx)("div",{className:`${"month"===e?"text-xs":"text-sm"} font-medium ${t.isToday?"text-blue-900":"text-gray-900"}`,children:t.label}),"week"===e&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:t.date.getDate()}),"month"===e&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.date.toLocaleDateString("en-US",{weekday:"short"})})]},r))})})]})]})},n=[{id:"1",name:"Sarah Johnson",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",role:"Supervisor",projects:[{projectId:"proj-1",projectName:"Downtown Corporate Complex",status:"PV90",startDate:"2025-09-25",endDate:"2025-09-29",role:"Project Lead"},{projectId:"proj-2",projectName:"Corporate Headquarters Security",status:"WIP",startDate:"2025-10-03",endDate:"2025-10-10",role:"Supervisor"}]},{id:"2",name:"Alex Martin",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",role:"Installer",projects:[{projectId:"proj-3",projectName:"Luxury Estate Security",status:"UB",startDate:"2025-09-26",endDate:"2025-10-03",role:"Lead Installer"},{projectId:"proj-4",projectName:"Tech Park Surveillance",status:"UB",startDate:"2025-10-10",endDate:"2025-10-14",role:"Senior Installer"}]},{id:"3",name:"Maria Rodriguez",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",role:"Crew Leader",projects:[{projectId:"proj-5",projectName:"Warehouse Security Installation",status:"WB",startDate:"2025-09-28",endDate:"2025-10-04",role:"Crew Leader"},{projectId:"proj-6",projectName:"Financial District Security",status:"WB",startDate:"2025-10-07",endDate:"2025-10-14",role:"Team Lead"}]},{id:"4",name:"David Chen",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",role:"Lead",projects:[{projectId:"proj-7",projectName:"House Rep Illinois Residence",status:"WIP",startDate:"2025-09-30",endDate:"2025-10-07",role:"Project Manager"},{projectId:"proj-8",projectName:"Stadium Security Reinforcement",status:"WIP",startDate:"2025-10-08",endDate:"2025-10-18",role:"Project Director"}]},{id:"5",name:"Emily Watson",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",role:"Coordinator",projects:[{projectId:"proj-9",projectName:"Residential Security Upgrade",status:"PV90",startDate:"2025-10-01",endDate:"2025-10-05",role:"Project Coordinator"},{projectId:"proj-10",projectName:"University Campus Security",status:"PV90",startDate:"2025-10-12",endDate:"2025-10-19",role:"Site Coordinator"}]},{id:"6",name:"Michael Brown",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",role:"Installer",projects:[{projectId:"proj-11",projectName:"Medical Center Security Upgrade",status:"UB",startDate:"2025-10-05",endDate:"2025-10-12",role:"Senior Installer"},{projectId:"proj-12",projectName:"Harbor Freight Security",status:"UB",startDate:"2025-10-15",endDate:"2025-10-20",role:"Lead Installer"}]},{id:"7",name:"Lisa Anderson",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face",role:"Supervisor",projects:[{projectId:"proj-13",projectName:"Airport Cargo Security",status:"WIP",startDate:"2025-10-13",endDate:"2025-10-22",role:"Site Supervisor"}]},{id:"8",name:"James Wilson",avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face",role:"Crew Leader",projects:[{projectId:"proj-14",projectName:"Embassy Security Upgrade",status:"WB",startDate:"2025-10-18",endDate:"2025-10-25",role:"Crew Leader"}]},{id:"9",name:"Jennifer Taylor",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",role:"Installer",projects:[]},{id:"10",name:"Robert Garcia",avatar:"https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=150&h=150&fit=crop&crop=face",role:"Coordinator",projects:[{projectId:"proj-15",projectName:"Downtown Corporate Complex",status:"PV90",startDate:"2025-09-25",endDate:"2025-09-29",role:"Project Coordinator"}]},{id:"11",name:"Amanda Lee",avatar:"https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb?w=150&h=150&fit=crop&crop=face",role:"Lead",projects:[{projectId:"proj-16",projectName:"Luxury Estate Security",status:"UB",startDate:"2025-09-26",endDate:"2025-10-03",role:"Project Director"}]},{id:"12",name:"Christopher Davis",avatar:"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=150&h=150&fit=crop&crop=face",role:"Installer",projects:[{projectId:"proj-17",projectName:"Warehouse Security Installation",status:"WB",startDate:"2025-09-28",endDate:"2025-10-04",role:"Lead Installer"},{projectId:"proj-18",projectName:"House Rep Illinois Residence",status:"WIP",startDate:"2025-09-30",endDate:"2025-10-07",role:"Senior Installer"}]}],i=[{trailerId:"trailer-1",trailerName:"Alpha Trailer",registrationNumber:"REG-001-2024",status:"available",location:"Los Angeles, CA",assignedProjects:[{projectId:"proj-1",projectName:"Downtown Corporate Complex",projectStatus:"PV90",startDate:"2025-10-02",endDate:"2025-10-06",role:"Primary Equipment"},{projectId:"proj-2",projectName:"Corporate Headquarters Security",projectStatus:"WIP",startDate:"2025-10-03",endDate:"2025-10-10",role:"Support Equipment"}]},{trailerId:"trailer-2",trailerName:"Beta Trailer",registrationNumber:"REG-002-2024",status:"low",location:"Houston, TX",assignedProjects:[{projectId:"proj-3",projectName:"Luxury Estate Security",projectStatus:"UB",startDate:"2025-10-01",endDate:"2025-10-08",role:"Primary Equipment"},{projectId:"proj-4",projectName:"Tech Park Surveillance",projectStatus:"UB",startDate:"2025-10-10",endDate:"2025-10-14",role:"Primary Equipment"}]},{trailerId:"trailer-3",trailerName:"Gamma Trailer",registrationNumber:"REG-003-2024",status:"unavailable",location:"Miami, FL",assignedProjects:[{projectId:"proj-5",projectName:"Warehouse Security Installation",projectStatus:"WB",startDate:"2025-10-05",endDate:"2025-10-11",role:"Primary Equipment"}]},{trailerId:"trailer-4",trailerName:"Delta Trailer",registrationNumber:"REG-004-2024",status:"available",location:"New York, NY",assignedProjects:[{projectId:"proj-6",projectName:"Financial District Security",projectStatus:"WB",startDate:"2025-10-07",endDate:"2025-10-14",role:"Primary Equipment"},{projectId:"proj-7",projectName:"House Rep Illinois Residence",projectStatus:"WIP",startDate:"2025-10-01",endDate:"2025-10-08",role:"Support Equipment"}]},{trailerId:"trailer-5",trailerName:"Echo Trailer",registrationNumber:"REG-005-2024",status:"low",location:"Chicago, IL",assignedProjects:[{projectId:"proj-8",projectName:"Stadium Security Reinforcement",projectStatus:"WIP",startDate:"2025-10-08",endDate:"2025-10-18",role:"Primary Equipment"}]},{trailerId:"trailer-6",trailerName:"Foxtrot Trailer",registrationNumber:"REG-006-2024",status:"available",location:"Phoenix, AZ",assignedProjects:[{projectId:"proj-9",projectName:"Residential Security Upgrade",projectStatus:"PV90",startDate:"2025-10-01",endDate:"2025-10-05",role:"Primary Equipment"},{projectId:"proj-10",projectName:"University Campus Security",projectStatus:"PV90",startDate:"2025-10-12",endDate:"2025-10-19",role:"Primary Equipment"}]},{trailerId:"trailer-7",trailerName:"Golf Trailer",registrationNumber:"REG-007-2024",status:"low",location:"Denver, CO",assignedProjects:[{projectId:"proj-11",projectName:"Medical Center Security Upgrade",projectStatus:"UB",startDate:"2025-10-05",endDate:"2025-10-12",role:"Primary Equipment"}]},{trailerId:"trailer-8",trailerName:"Hotel Trailer",registrationNumber:"REG-008-2024",status:"available",location:"Seattle, WA",assignedProjects:[{projectId:"proj-12",projectName:"Harbor Freight Security",projectStatus:"UB",startDate:"2025-11-05",endDate:"2025-11-10",role:"Primary Equipment"},{projectId:"proj-13",projectName:"Airport Cargo Security",projectStatus:"WIP",startDate:"2025-11-15",endDate:"2025-11-25",role:"Support Equipment"}]},{trailerId:"trailer-9",trailerName:"India Trailer",registrationNumber:"REG-009-2024",status:"unavailable",location:"Portland, OR",assignedProjects:[{projectId:"proj-14",projectName:"Embassy Security Upgrade",projectStatus:"WB",startDate:"2025-12-01",endDate:"2025-12-08",role:"Primary Equipment"}]},{trailerId:"trailer-10",trailerName:"Juliet Trailer",registrationNumber:"REG-010-2024",status:"available",location:"Las Vegas, NV",assignedProjects:[{projectId:"proj-15",projectName:"Downtown Corporate Complex",projectStatus:"PV90",startDate:"2025-10-15",endDate:"2025-10-19",role:"Support Equipment"}]},{trailerId:"trailer-11",trailerName:"Kilo Trailer",registrationNumber:"REG-011-2024",status:"low",location:"Salt Lake City, UT",assignedProjects:[{projectId:"proj-16",projectName:"Luxury Estate Security",projectStatus:"UB",startDate:"2025-10-20",endDate:"2025-10-27",role:"Support Equipment"}]},{trailerId:"trailer-12",trailerName:"Lima Trailer",registrationNumber:"REG-012-2024",status:"available",location:"Billings, MT",assignedProjects:[{projectId:"proj-17",projectName:"Warehouse Security Installation",projectStatus:"WB",startDate:"2025-10-25",endDate:"2025-10-31",role:"Support Equipment"}]}],l={PV90:"bg-gray-200 text-gray-800 border-gray-300",UB:"bg-blue-200 text-blue-800 border-blue-300",WB:"bg-teal-200 text-teal-800 border-teal-300",WIP:"bg-amber-200 text-amber-800 border-amber-300",Completed:"bg-green-200 text-green-800 border-green-300"},c={Lead:"bg-red-100 text-red-800 border-red-200",Supervisor:"bg-purple-100 text-purple-800 border-purple-200","Crew Leader":"bg-blue-100 text-blue-800 border-blue-200",Installer:"bg-gray-100 text-gray-800 border-gray-200",Coordinator:"bg-green-100 text-green-800 border-green-200"},d=({project:e,startPosition:t,width:r,top:s,height:o,onHover:n,onClick:i,isHovered:c})=>{const d=l[e.status],[m,p,h]=d.split(" "),u=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(0,a.jsxs)("div",{className:`absolute rounded-md cursor-pointer transition-all duration-200 hover:shadow-lg ${m} ${p} ${h} ${c?"shadow-lg z-20 scale-105":"z-10"}`,style:{left:`${t}%`,width:`${r}%`,top:`${s}px`,height:`${o}px`,minWidth:"60px"},onClick:()=>i(e),onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),children:[(0,a.jsxs)("div",{className:"flex items-center h-full px-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-xs font-medium truncate",children:e.projectName}),(0,a.jsx)("div",{className:"text-xs opacity-90 truncate",children:e.role})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-1",children:(0,a.jsx)("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${d}`,children:e.status})})]}),c&&(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg whitespace-nowrap z-30",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.projectName}),(0,a.jsxs)("div",{className:"opacity-90",children:["Role: ",e.role]}),(0,a.jsxs)("div",{className:"opacity-90",children:["Start: ",u(e.startDate)]}),(0,a.jsxs)("div",{className:"opacity-90",children:["End: ",u(e.endDate)]}),(0,a.jsxs)("div",{className:"opacity-90",children:["Status: ",e.status]}),(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]})},m=({member:e,viewMode:t,currentDate:r,onProjectHover:o,onProjectClick:n,hoveredProject:i})=>{const l=(0,s.useMemo)(()=>{const a=[];if(0===e.projects.length)return a;let s,o,n;if("day"===t)s=new Date(r),s.setHours(0,0,0,0),o=new Date(r),o.setHours(23,59,59,999),n=1;else if("week"===t){const e=new Date(r),t=e.getDay(),a=e.getDate()-t+(0===t?-6:1);e.setDate(a),s=e,o=new Date(e),o.setDate(e.getDate()+6),n=7}else if("month"===t){const e=r.getFullYear(),t=r.getMonth();s=new Date(e,t,1),o=new Date(e,t+1,0),n=o.getDate()}else{const e=r.getFullYear();s=new Date(e,0,1),o=new Date(e,11,31),n=12}const i=o.getTime()-s.getTime(),l=[],c=new Set;return e.projects.forEach(t=>{if(c.has(t.projectId))return;const r=new Date(t.startDate),a=new Date(t.endDate);if(a<s||r>o)return;const n=[t];c.add(t.projectId),e.projects.forEach(e=>{if(c.has(e.projectId))return;if(e.projectId===t.projectId)return;const s=new Date(e.startDate);new Date(e.endDate)<r||s>a||(n.push(e),c.add(e.projectId))}),l.push(n)}),l.forEach((e,t)=>{e.forEach((e,t)=>{const r=new Date(e.startDate),n=new Date(e.endDate),l=n>o?o:n,c=(r<s?s:r).getTime()-s.getTime(),d=l.getTime()-s.getTime(),m=c/i*100,p=(d-c)/i*100,h=4+32*t;a.push({project:e,startPosition:Math.max(0,m),width:Math.max(2,p),top:h,height:28})})}),a},[e.projects,t,r]),m=c[e.role],[p,h,u]=m.split(" ");return(0,a.jsxs)("div",{className:"flex border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"w-80 p-4 flex-shrink-0 border-r border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center text-gray-600 text-sm font-medium",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsx)("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m}`,children:e.role})]})]})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("div",{className:"h-20 relative",children:0===e.projects.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Unassigned"}):l.map((e,t)=>(0,a.jsx)(d,{project:e.project,startPosition:e.startPosition,width:e.width,top:e.top,height:e.height,onHover:o,onClick:n,isHovered:i?.projectId===e.project.projectId},`${e.project.projectId}-${t}`))})})]})},p={PV90:"bg-green-200 text-green-800 border-green-300",UB:"bg-amber-200 text-amber-800 border-amber-300",WB:"bg-teal-200 text-teal-800 border-teal-300",WIP:"bg-blue-200 text-blue-800 border-blue-300",QF:"bg-red-200 text-red-800 border-red-300"},h=({project:e,viewMode:t,currentDate:r,onProjectHover:o,onProjectClick:n,hoveredProject:i})=>{const l=(0,s.useMemo)(()=>{let a,s;if("day"===t)a=new Date(r),a.setHours(0,0,0,0),s=new Date(r),s.setHours(23,59,59,999);else if("week"===t){const e=new Date(r),t=e.getDay(),o=e.getDate()-t+(0===t?-6:1);e.setDate(o),a=e,s=new Date(e),s.setDate(e.getDate()+6)}else if("month"===t){const e=r.getFullYear(),t=r.getMonth();a=new Date(e,t,1),s=new Date(e,t+1,0)}else{const e=r.getFullYear();a=new Date(e,0,1),s=new Date(e,11,31)}const o=new Date(e.startDate),n=new Date(e.endDate);if(n<a||o>s)return null;const i=s.getTime()-a.getTime(),l=n>s?s:n,c=(o<a?a:o).getTime()-a.getTime(),d=c/i*100,m=(l.getTime()-a.getTime()-c)/i*100;return{startPosition:Math.max(0,d),width:Math.max(2,m),top:4,height:28}},[e,t,r]),c=p[e.status],[m,h,u]=c.split(" ");return(0,a.jsxs)("div",{className:"flex border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("div",{className:"w-80 p-4 flex-shrink-0 border-r border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-gray-200 flex-shrink-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:`w-8 h-8 rounded ${m} flex items-center justify-center`,children:(0,a.jsx)("span",{className:`text-xs font-bold ${h}`,children:e.projectName.charAt(0)})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.projectName}),(0,a.jsx)("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${c}`,children:e.status}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.assignedMembers.length," member",1!==e.assignedMembers.length?"s":""," assigned"]})]})]})}),(0,a.jsx)("div",{className:"flex-1 relative",children:(0,a.jsx)("div",{className:"h-20 relative",children:l?(0,a.jsx)(d,{project:{projectId:e.projectId,projectName:e.projectName,status:e.status,startDate:e.startDate,endDate:e.endDate,role:`${e.assignedMembers.length} members`},startPosition:l.startPosition,width:l.width,top:l.top,height:l.height,onHover:o,onClick:n,isHovered:i?.projectId===e.projectId}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Outside timeline"})})})]})},u=({trailer:e,viewMode:t,currentDate:r,onProjectHover:s,onProjectClick:o,hoveredProject:n})=>{const i=((e,t)=>{const r=[],a=new Date;if("week"===t){const t=new Date(e),s=t.getDay(),o=t.getDate()-s+(0===s?-6:1);t.setDate(o);for(let e=0;e<7;e++){const s=new Date(t);s.setDate(t.getDate()+e),r.push({date:s,label:s.toLocaleDateString("en-US",{weekday:"short",day:"2-digit"}),isToday:s.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("month"===t){new Date(e.getFullYear(),e.getMonth(),1);const t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();for(let s=1;s<=t;s++){const t=new Date(e.getFullYear(),e.getMonth(),s);r.push({date:t,label:t.toLocaleDateString("en-US",{day:"2-digit"}),isToday:t.toDateString()===a.toDateString(),isCurrentPeriod:!0})}}else if("day"===t){const t=new Date(e);r.push({date:t,label:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit"}),isToday:t.toDateString()===a.toDateString(),isCurrentPeriod:!0})}else if("year"===t){new Date(e.getFullYear(),0,1);for(let t=0;t<12;t++){const s=new Date(e.getFullYear(),t,1);r.push({date:s,label:s.toLocaleDateString("en-US",{month:"short"}),isToday:s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear(),isCurrentPeriod:!0})}}return r})(r,t),l=e.assignedProjects.length,c=Math.max(64,32+32*l);return(0,a.jsxs)("div",{className:"flex border-b border-gray-200 hover:bg-gray-50",style:{height:`${c}px`},children:[(0,a.jsx)("div",{className:"w-80 flex items-center px-4 py-3 border-r border-gray-200 bg-white",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full ${(e=>{const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-red-500"];return t[e.length%t.length]})(e.trailerName)} flex items-center justify-center text-white text-sm font-semibold`,children:(m=e.trailerName,m.split(" ").map(e=>e[0]).join("").toUpperCase())}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.trailerName}),(0,a.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${{available:"bg-green-200 text-green-800 border-green-300",low:"bg-yellow-200 text-yellow-800 border-yellow-300",unavailable:"bg-red-200 text-red-800 border-red-300"}[e.status]}`,children:e.status.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.registrationNumber}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"•"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.location})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.assignedProjects.length," project",1!==e.assignedProjects.length?"s":""," assigned"]})]})]})}),(0,a.jsx)("div",{className:"flex-1 relative bg-white",children:(0,a.jsxs)("div",{className:"relative h-full",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex",children:i.map((e,t)=>(0,a.jsx)("div",{className:"flex-1 border-r border-gray-200 "+(e.isToday?"bg-blue-50":"")},t))}),(0,a.jsx)("div",{className:"relative h-full",children:e.assignedProjects.map((e,i)=>{const l={projectId:e.projectId,projectName:e.projectName,status:e.projectStatus,startDate:e.startDate,endDate:e.endDate,role:e.role},{startPosition:c,width:m}=((e,t,r)=>{const a=new Date(e.startDate),s=new Date(e.endDate);let o=0,n=0;if("week"===r){const e=new Date(t),r=e.getDay(),i=e.getDate()-r+(0===r?-6:1);e.setDate(i);const l=new Date(e);if(l.setDate(e.getDate()+6),s<e||a>l)return{startPosition:0,width:0};const c=e.getTime(),d=l.getTime(),m=Math.max(a.getTime(),c);o=(m-c)/(d-c)*100,n=(Math.min(s.getTime(),d)-m)/(d-c)*100}else if("month"===r){const e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);if(s<e||a>r)return{startPosition:0,width:0};const i=e.getTime(),l=r.getTime(),c=Math.max(a.getTime(),i);o=(c-i)/(l-i)*100,n=(Math.min(s.getTime(),l)-c)/(l-i)*100}else if("day"===r){const e=new Date(t);e.setHours(0,0,0,0);const r=new Date(t);if(r.setHours(23,59,59,999),s<e||a>r)return{startPosition:0,width:0};const i=e.getTime(),l=r.getTime(),c=Math.max(a.getTime(),i);o=(c-i)/(l-i)*100,n=(Math.min(s.getTime(),l)-c)/(l-i)*100}else if("year"===r){const e=new Date(t.getFullYear(),0,1),r=new Date(t.getFullYear(),11,31);if(s<e||a>r)return{startPosition:0,width:0};const i=a.getMonth(),l=100/12;o=i*l,n=(s.getMonth()-i+1)*l}return{startPosition:o,width:n}})(l,r,t),p=4+32*i;return(0,a.jsx)(d,{project:l,startPosition:c,width:m,top:p,height:28,onHover:s,onClick:o,isHovered:n?.projectId===e.projectId},`${e.projectId}-${i}`)})})]})})]});var m};var j=r(1377);const x=({teamMembers:e,currentDate:t,viewMode:r,layoutMode:n,onDateChange:l,onViewModeChange:c,onLayoutModeChange:d,onProjectHover:p,onProjectClick:x,hoveredProject:g})=>{const{isCollapsed:b}=(0,j.c)(),[f,D]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),w=(0,s.useMemo)(()=>(e=>{const t=new Map;return e.forEach(e=>{e.projects.forEach(r=>{t.has(r.projectId)||t.set(r.projectId,{projectId:r.projectId,projectName:r.projectName,status:r.status,startDate:r.startDate,endDate:r.endDate,assignedMembers:[]}),t.get(r.projectId).assignedMembers.push({memberId:e.id,memberName:e.name,role:e.role,projectRole:r.role})})}),Array.from(t.values()).sort((e,t)=>new Date(e.startDate).getTime()-new Date(t.startDate).getTime())})(e),[e]),y=((0,s.useMemo)(()=>(e=>{const t=new Map;return e.forEach(e=>{e.assignedProjects.forEach(r=>{t.has(r.projectId)||t.set(r.projectId,{projectId:r.projectId,projectName:r.projectName,status:r.projectStatus,startDate:r.startDate,endDate:r.endDate,assignedMembers:[]}),t.get(r.projectId).assignedMembers.push({memberId:e.trailerId,memberName:e.trailerName,role:"Trailer",projectRole:r.role})})}),Array.from(t.values()).sort((e,t)=>new Date(e.startDate).getTime()-new Date(t.startDate).getTime())})(i),[]),(0,s.useMemo)(()=>{const t=new Set;return e.forEach(e=>{e.projects.forEach(e=>{t.add(e.projectName)})}),i.forEach(e=>{e.assignedProjects.forEach(e=>{t.add(e.projectName)})}),Array.from(t).sort()},[e])),S=(0,s.useMemo)(()=>{let e=i;return f.trim()&&(e=e.filter(e=>e.trailerName.toLowerCase().includes(f.toLowerCase())||e.registrationNumber.toLowerCase().includes(f.toLowerCase())||e.location.toLowerCase().includes(f.toLowerCase())||e.status.toLowerCase().includes(f.toLowerCase()))),N&&(e=e.map(e=>({...e,assignedProjects:e.assignedProjects.filter(e=>e.projectName===N)})).filter(e=>e.assignedProjects.length>0)),e},[f,N]),P=(0,s.useMemo)(()=>{let t=e;return f.trim()&&(t=t.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.role.toLowerCase().includes(f.toLowerCase()))),N&&(t=t.map(e=>({...e,projects:e.projects.filter(e=>e.projectName===N)})).filter(e=>e.projects.length>0)),t},[e,f,N]),I=(0,s.useMemo)(()=>{let e=w;return f.trim()&&(e=e.filter(e=>e.projectName.toLowerCase().includes(f.toLowerCase())||e.status.toLowerCase().includes(f.toLowerCase()))),N&&(e=e.filter(e=>e.projectName===N)),e},[w,f,N]);return(0,a.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["team"===n?"Team":"project"===n?"Project":"Trailer"," Scheduler"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"team"===n?`${P.length} team member${1!==P.length?"s":""} scheduled`:"project"===n?`${I.length} project${1!==I.length?"s":""} scheduled`:`${S.length} trailer${1!==S.length?"s":""} scheduled`})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,a.jsx)("button",{onClick:()=>d("team"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+("team"===n?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Team View"}),(0,a.jsx)("button",{onClick:()=>d("project"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+("project"===n?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Project View"}),(0,a.jsx)("button",{onClick:()=>d("trailer"),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+("trailer"===n?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Trailer View"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[{mode:"day",label:"Day"},{mode:"week",label:"Week"},{mode:"month",label:"Month"},{mode:"year",label:"Year"}].map(({mode:e,label:t})=>(0,a.jsx)("button",{onClick:()=>c(e),className:"px-3 py-1.5 text-sm font-medium rounded-md transition-colors "+(r===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:t},e))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})})}),(0,a.jsxs)("select",{value:N,onChange:e=>v(e.target.value),className:"block w-48 pl-10 pr-8 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm appearance-none",children:[(0,a.jsx)("option",{value:"",children:"All Projects"}),y.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,a.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),(0,a.jsx)(o,{viewMode:r,currentDate:t,onDateChange:l,searchTerm:f,onSearchChange:D,layoutMode:n}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"h-full overflow-y-auto pb-24",children:"team"===n?0===P.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members found"}),(0,a.jsx)("p",{className:"text-gray-600",children:f?"No team members match your search criteria.":"No team members are available."})]})}):(0,a.jsx)("div",{className:"bg-white",children:P.map(e=>(0,a.jsx)(m,{member:e,viewMode:r,currentDate:t,onProjectHover:p,onProjectClick:x,hoveredProject:g},e.id))}):"project"===n?0===I.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-600",children:f?"No projects match your search criteria.":"No projects are available."})]})}):(0,a.jsx)("div",{className:"bg-white",children:I.map(e=>(0,a.jsx)(h,{project:e,viewMode:r,currentDate:t,onProjectHover:p,onProjectClick:x,hoveredProject:g},e.projectId))}):0===S.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,a.jsx)("p",{className:"text-gray-600",children:f?"No trailers match your search criteria.":"No trailers are available."})]})}):(0,a.jsx)("div",{className:"bg-white",children:S.map(e=>(0,a.jsx)(u,{trailer:e,viewMode:r,currentDate:t,onProjectHover:p,onProjectClick:x,hoveredProject:g},e.trailerId))})})}),(0,a.jsx)("div",{className:`fixed bottom-0 ${b?"left-16":"left-64"} right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-50 transition-all duration-300`,children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"trailer"===n?"Trailer & Project Status Legend":"Project Status Legend"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:["trailer"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Available"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-yellow-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Low Stock"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-red-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Unavailable"})]}),(0,a.jsx)("div",{className:"w-px h-4 bg-gray-300"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-gray-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"PV90"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-blue-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"UB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-teal-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WB"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-amber-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"WIP"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-red-200 rounded"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"QF"})]})]})]})})]})},g=()=>{const[e,t]=(0,s.useState)(new Date("2025-10-01")),[r,o]=(0,s.useState)("week"),[i,l]=(0,s.useState)("project"),[c,d]=(0,s.useState)(null);return(0,a.jsx)(x,{teamMembers:n,currentDate:e,viewMode:r,layoutMode:i,onDateChange:e=>{t(e)},onViewModeChange:e=>{o(e)},onLayoutModeChange:e=>{l(e)},onProjectHover:e=>{d(e)},onProjectClick:e=>{console.log("Project clicked:",e)},hoveredProject:c})}}}]);