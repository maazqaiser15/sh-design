/*! For license information please see 732.743bd8f970d15fd510fd.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[732],{372:(e,t,r)=>{r.d(t,{r:()=>d});var s=r(4848),a=r(6540),n=r(3573),i=r(74),l=r(7821);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var d=function(e){var t=e.isOpen,r=e.onClose,c=e.onConfirm,d=e.projectTitle,m=e.projectStatus,u=e.initialStartDate,x=void 0===u?"":u,f=e.initialEndDate,p=void 0===f?"":f,h=o((0,a.useState)(""),2),g=h[0],b=h[1],y=o((0,a.useState)(""),2),j=y[0],v=y[1],N=o((0,a.useState)({}),2),w=N[0],S=N[1],C=o((0,a.useState)(null),2),A=C[0],k=C[1];return(0,a.useEffect)(function(){t&&(b(x),v(p),S({}),k(null))},[t,x,p]),(0,a.useEffect)(function(){if(g&&j){var e=new Date(g),t=new Date(j);if(e<t){var r=Math.abs(t.getTime()-e.getTime()),s=Math.ceil(r/864e5);k("".concat(s," days"))}else k(null)}else k(null)},[g,j]),(0,s.jsx)(l.a,{isOpen:t,onClose:r,title:"Set Project Dates for ".concat(d),children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,s.jsx)("span",{className:"font-semibold",children:function(e){switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}}(m)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"startDate",value:g,onChange:function(e){return b(e.target.value)},min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border ".concat(w.startDate?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500")}),(0,s.jsx)(n.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),w.startDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.startDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"date",id:"endDate",value:j,onChange:function(e){return v(e.target.value)},min:function(){if(g){var e=new Date(g);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]}(),disabled:!g,className:"w-full px-3 py-2 border ".concat(w.endDate?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ").concat(g?"":"bg-gray-100 cursor-not-allowed")}),(0,s.jsx)(n.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),w.endDate&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w.endDate})]})]}),A&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-green-800",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",A]})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)(i.$,{variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsx)(i.$,{variant:"primary",onClick:function(){var e,t;e={},t=(new Date).toISOString().split("T")[0],g?g<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",j?g&&j&&new Date(j)<new Date(g)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",S(e),0===Object.keys(e).length&&(c(g,j),r())},children:"Save Dates"})]})]})})}},445:(e,t,r)=>{r.d(t,{W:()=>h});var s=r(4848),a=r(6540),n=r(3573),i=r(1397),l=r(2053),o=r(799),c=r(4574),d=r(9237),m=r(74),u=r(7821);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var h=function(e){var t=e.isOpen,r=e.onClose,h=e.onAssignTeam,g=e.availableMembers,b=e.assignedMemberIds,y=void 0===b?[]:b,j=e.projectDetails,v=x((0,a.useState)(""),2),N=v[0],w=v[1],S=x((0,a.useState)(""),2),C=S[0],A=S[1],k=x((0,a.useState)(""),2),D=k[0],O=k[1],T=x((0,a.useState)(""),2),M=T[0],P=T[1],L=x((0,a.useState)(y),2),I=L[0],R=L[1],E=x((0,a.useState)(1),2),F=E[0],q=E[1],W=15,B=(0,a.useMemo)(function(){return g.map(function(e){return e.location}).filter(function(e,t,r){return r.indexOf(e)===t&&e}).sort()},[g]),U=(0,a.useMemo)(function(){return g.filter(function(e){var t,r=e.name.toLowerCase().includes(N.toLowerCase())||e.role.toLowerCase().includes(N.toLowerCase())||(null===(t=e.phone)||void 0===t?void 0:t.toLowerCase().includes(N.toLowerCase())),s=!C||e.role===C,a=!D||e.status===D,n=!M||e.location===M;return r&&s&&a&&n})},[g,N,C,D,M]),z=Math.ceil(U.length/W),H=(0,a.useMemo)(function(){var e=(F-1)*W;return U.slice(e,e+W)},[U,F,W]),J=function(e){var t=g.find(function(t){return t.id===e});t&&"Available"===t.status&&R(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(function(e){if(Array.isArray(e))return p(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||f(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var r})},$=function(e){return new Date(e).toLocaleDateString("en-GB")},V=I.length,Z=U.length,_=g.filter(function(e){return I.includes(e.id)});return(0,s.jsx)(u.a,{isOpen:t,onClose:r,title:"Assign Team Members",size:"xl",children:(0,s.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[j&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,s.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,s.jsx)("span",{className:"font-medium",children:$(j.startDate)}),(0,s.jsx)("span",{className:"mx-2",children:"→"}),(0,s.jsx)("span",{className:"font-medium",children:$(j.endDate)})]})]})}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:N,onChange:function(e){return w(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:C,onChange:function(e){return A(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Roles"}),(0,s.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,s.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,s.jsx)("option",{value:"Installer",children:"Installer"}),(0,s.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,s.jsxs)("select",{value:D,onChange:function(e){return O(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"Available",children:"Available"}),(0,s.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{value:M,onChange:function(e){return P(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),B.map(function(e){return(0,s.jsx)("option",{value:e,children:e},e)})]})]}),V>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",V,")"]})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:_.map(function(e){return(0,s.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,s.jsx)("button",{onClick:function(){return t=e.id,void R(function(e){return e.filter(function(e){return e!==t})});var t},className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(d.A,{className:"w-3 h-3"})})]},e.id)})})]}),(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[Z," members found"]})}),(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(function(e){var t,r="Unavailable"===e.status,a=I.includes(e.id);return(0,s.jsxs)("tr",{className:"".concat(r?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"," ").concat(a?"bg-blue-50":""),onClick:function(){return!r&&J(e.id)},title:r?"Unavailable until ".concat(e.unavailableUntil?$(e.unavailableUntil):"TBD"," — cannot assign."):"",children:[(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("input",{type:"checkbox",checked:a,disabled:r,onChange:function(){return!r&&J(e.id)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,s.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,s.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(t=e.name,t.split(" ").map(function(e){return e[0]}).join("").toUpperCase().slice(0,2))})}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(l.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.phone||"—"})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium ".concat("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,s.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",$(e.unavailableUntil)]})]})}),(0,s.jsx)("td",{className:"px-3 py-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,s.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.location||"—"})]})})]},e.id)})})]})})}),z>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(F-1)*W+1," to ",Math.min(F*W,Z)," of ",Z," results"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:function(){return q(function(e){return Math.max(e-1,1)})},disabled:1===F,children:"Previous"}),(0,s.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[F," of ",z]}),(0,s.jsx)(m.$,{variant:"ghost",size:"sm",onClick:function(){return q(function(e){return Math.min(e+1,z)})},disabled:F===z,children:"Next"})]})]}),0===U.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(c.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(m.$,{variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsxs)(m.$,{variant:"primary",onClick:function(){var e=g.filter(function(e){return I.includes(e.id)});h(e),r()},disabled:0===V,children:["Add Team Members (",V,")"]})]})]})})}},732:(e,t,r)=>{r.r(t),r.d(t,{ProjectDetailsPage:()=>Vt});var s=r(4848),a=r(6540),n=r(7767),i=r(4976),l=r(6517),o=r(1819),c=r(4131),d=r(4574),m=r(339),u=r(445),x=r(8503),f=r(5822),p=r(3166),h=r(372),g=r(3729),b=r(5732),y=r(9237),j=r(799),v=r(7596),N=r(1397),w=r(74),S=r(7821);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var D=function(e){var t=e.isOpen,r=e.onClose,n=e.onAssignTrailer,i=e.availableTrailers,l=e.assignedTrailerId,o=C((0,a.useState)(""),2),c=o[0],d=o[1],m=C((0,a.useState)(""),2),u=m[0],x=m[1],f=C((0,a.useState)(""),2),p=f[0],h=f[1],D=C((0,a.useState)(l||null),2),O=D[0],T=D[1],M=(0,a.useMemo)(function(){var e,t=i.map(function(e){return e.currentLocation});return(e=new Set(t),function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort()},[i]),P=(0,a.useMemo)(function(){return i.filter(function(e){var t=e.trailerName.toLowerCase().includes(c.toLowerCase())||e.registrationNumber.toLowerCase().includes(c.toLowerCase())||e.currentLocation.toLowerCase().includes(c.toLowerCase()),r=!u||e.status===u,s=!p||e.currentLocation===p;return t&&r&&s})},[i,c,u,p]),L=function(){r(),d(""),x(""),T(l||null)};return(0,s.jsx)(S.a,{isOpen:t,onClose:L,title:"Assign Trailer to Project",size:"lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)(j.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:c,onChange:function(e){return d(e.target.value)}}),c&&(0,s.jsx)("button",{onClick:function(){return d("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,s.jsx)(y.A,{size:16})})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:u,onChange:function(e){return x(e.target.value)},children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,s.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:p,onChange:function(e){return h(e.target.value)},children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),M.map(function(e){return(0,s.jsx)("option",{value:e,children:e},e)})]})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===P.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,s.jsx)(v.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,s.jsx)("div",{className:"space-y-3",children:P.map(function(e){var t=function(e){return"available"===e.status}(e),r=O===e.id;return function(e){e.inventory.filmSheets.reduce(function(e,t){return e+t.currentStock},0),e.inventory.tools.filter(function(e){return"good"===e.status}).length,e.inventory.tools.length}(e),(0,s.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 ".concat(t?r?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:function(){return t&&(r=e.id,void T(r));var r},children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pt-1",children:t?r?(0,s.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"w-3 h-3 text-white"})}):(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,s.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,s.jsx)(y.A,{className:"w-3 h-3 text-gray-500"})})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,s.jsx)(v.A,{className:"w-4 h-4 text-blue-600"})})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-1 ".concat(t?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("p",{className:"text-sm ".concat(t?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,s.jsx)(N.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{children:e.currentLocation})]})]})]}),(0,s.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end",children:"available"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,s.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,s.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,s.jsx)(y.A,{className:"w-3 h-3 mr-1"}),"Unavailable"]}),(0,s.jsxs)("span",{className:"text-xs text-red-600 mt-1",children:["until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})]})})]})})]})},e.id)})})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,s.jsx)(w.$,{variant:"secondary",onClick:L,children:"Cancel"}),(0,s.jsx)(w.$,{variant:"primary",onClick:function(){var e=i.find(function(e){return e.id===O});e&&(n(e),r())},disabled:!O,children:l?"Update Trailer":"Assign Trailer"})]})]})})},O=r(3459),T=r(45),M=r(1314);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var R=function(e){var t=e.assignedTrailer,r=e.onAssignTrailer,n=e.onAddAttachment,i=e.onMarkComplete,l=(e.hasReceipt,e.isCompleted),o=void 0!==l&&l,c=e.availableTrailers,d=void 0===c?[]:c,u=e.attachedFiles,x=void 0===u?[]:u,f=P((0,a.useState)(!1),2),p=f[0],h=f[1],g=P((0,a.useState)(x),2),b=g[0],y=g[1],j=(0,a.useRef)(null),N=function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex gap-4 items-start w-full",children:(0,s.jsx)("div",{className:"flex flex-col gap-1 flex-1",children:(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Trailer & Films"})})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"w-5 h-5 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:t?t.trailerName:"No trailer assigned yet"})]}),(0,s.jsxs)("button",{onClick:function(){return h(!0)},className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),t?"Change trailer":"Add trailer"]})]}),(0,s.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(O.A,{className:"w-5 h-5 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:b.length>0?"".concat(b.length," file(s) attached"):"No receipt attached yet"})]}),(0,s.jsxs)("button",{onClick:function(){var e;null===(e=j.current)||void 0===e||e.click()},className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(T.A,{className:"w-4 h-4"}),"Add attachment"]})]}),(0,s.jsx)("input",{ref:j,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:function(e){var t,r=Array.from(e.target.files||[]);if(r.length>0){var s=[].concat(function(e){if(Array.isArray(e))return I(e)}(t=b)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||L(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r);y(s),n&&n(s)}j.current&&(j.current.value="")},className:"hidden"}),b.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-2",children:b.map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(O.A,{className:"w-4 h-4 text-blue-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:N(e.size)})]})]}),(0,s.jsx)("button",{onClick:function(){return function(e){var t=b.filter(function(t,r){return r!==e});y(t),n&&n(t)}(t)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove file",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)})})]}),t&&(0,s.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.A,{className:"w-5 h-5 ".concat(o?"text-green-600":"text-gray-400")}),(0,s.jsx)("span",{className:"text-sm ".concat(o?"text-green-700":"text-gray-700"),children:o?"Trailer & Films completed":"Ready to mark as complete"})]}),!o&&(0,s.jsxs)("button",{onClick:function(){i&&i()},className:"bg-gray-50 border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-100 transition-colors",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-600 flex items-center justify-center",children:(0,s.jsx)("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1 3L3 5L7 1",stroke:"#374151",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),"Mark as complete"]}),o&&(0,s.jsxs)("div",{className:"bg-green-100 text-green-800 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,s.jsx)(M.A,{className:"w-4 h-4"}),"Completed"]})]})]})}),(0,s.jsx)(D,{isOpen:p,onClose:function(){return h(!1)},onAssignTrailer:function(e){r(e),h(!1)},availableTrailers:d,assignedTrailerId:null==t?void 0:t.id})]})},E=r(7261),F=function(){return(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},q=function(e){var t=e.member,r=e.onClick,a=e.onRemove,n=e.className,i=void 0===n?"":n,l=t.name,o=t.role,c=t.avatar,d=t.location,m=t.isLead,u=c||(l.toLowerCase().includes("james")?"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face":l.toLowerCase().includes("emma")?"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face":void 0);return(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-all duration-200 group relative ".concat(i),onClick:r,children:[a&&(0,s.jsx)("button",{onClick:function(e){e.stopPropagation(),null==a||a(t.id)},className:"absolute top-2 right-2 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600",title:"Remove team member",children:(0,s.jsx)(F,{})}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(E.e,{src:u,name:l,size:"md"})}),(0,s.jsxs)("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5 truncate",children:l}),m&&(0,s.jsx)("span",{className:"bg-[#0D76BF] text-white px-2 py-0.5 rounded text-xs font-medium",children:"Lead"})]}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5 truncate",children:o}),d&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1C4.34 1 3 2.34 3 4C3 6.5 6 9 6 9C6 9 9 6.5 9 4C9 2.34 7.66 1 6 1ZM6 5.25C5.45 5.25 5 4.8 5 4.25C5 3.7 5.45 3.25 6 3.25C6.55 3.25 7 3.7 7 4.25C7 4.8 6.55 5.25 6 5.25Z",fill:"#6B7280"})}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#6B7280] leading-4 truncate",children:d})]})]})]})]})},W=function(e){var t=e.members,r=e.onMemberClick,a=e.onMemberRemove,n=e.maxVisible,i=void 0===n?6:n,l=e.className,o=void 0===l?"":l,c=t.slice(0,i),d=t.length-i;return(0,s.jsxs)("div",{className:"space-y-3 ".concat(o),children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.map(function(e){return(0,s.jsx)(q,{member:e,onClick:function(){return null==r?void 0:r(e)},onRemove:a},e.id)})}),d>0&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"text-xs text-[#475467]",children:["+",d," more member",d>1?"s":""]})})]})};function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t,r){return(t=function(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J=function(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},$=function(){return(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},V=function(){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.3333 6.66667C13.3333 8.50761 11.841 10 10 10C8.15905 10 6.66667 8.50761 6.66667 6.66667C6.66667 4.82572 8.15905 3.33333 10 3.33333C11.841 3.33333 13.3333 4.82572 13.3333 6.66667Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M10 12.5C7.23858 12.5 5 14.7386 5 17.5H15C15 14.7386 12.7614 12.5 10 12.5Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M15.8333 6.66667C15.8333 7.58714 15.4542 8.47052 14.7791 9.14559C14.104 9.82066 13.2206 10.2 12.3 10.2",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"}),(0,s.jsx)("path",{d:"M17.5 12.5C17.5 13.4205 17.1209 14.3039 16.4458 14.9789C15.7707 15.654 14.8873 16.0333 13.9667 16.0333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"})]})},Z=function(e){var t=e.icon,r=e.message;return(0,s.jsxs)("div",{className:"flex flex-col gap-1.5 items-center w-full",children:[t,(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:r})]})},_=function(e){var t=e.title,r=e.subtitle,a=e.actionButtons;return(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:t}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:r})]}),a]})},Q=function(e){var t=e.assignedTeam,r=e.onAddMember,a=e.onRemoveMember,n=e.onMarkComplete,i=e.isCompleted,l=void 0!==i&&i,o=e.showActions,c=void 0===o||o,d=t&&t.members.length>0;return(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsx)(_,{title:"Assigned team",subtitle:"Select team members",actionButtons:c?(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[d&&(l?(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,s.jsx)(J,{}),"Completed"]}):(0,s.jsxs)("button",{onClick:n,className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(J,{}),"Mark as Complete"]})),(0,s.jsx)("button",{onClick:r,className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)($,{})})]}):null}),d?(0,s.jsx)(W,{members:t.members.map(function(e){var r;return z(z({},e),{},{isLead:e.id===(null===(r=t.leadMember)||void 0===r?void 0:r.id)})}),onMemberClick:function(e){return console.log("Member clicked:",e)},onMemberRemove:a,maxVisible:4}):(0,s.jsx)(Z,{icon:(0,s.jsx)(V,{}),message:"No team assigned yet"})]})})},G=r(82),Y=r(3573),K=r(1523),X=r(9775),ee=r(6085),te=r(1676),re=r(1415),se=r(775),ae=r(3),ne=r(2053);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach(function(t){ce(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ce(e,t,r){return(t=function(e){var t=function(e){if("object"!=ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){if(e){if("string"==typeof e)return xe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var fe=[{id:"1",name:"John Smith",role:"Project Manager"},{id:"2",name:"Sarah Johnson",role:"Site Engineer"},{id:"3",name:"Mike Wilson",role:"Safety Officer"},{id:"4",name:"Lisa Brown",role:"Quality Inspector"},{id:"5",name:"David Lee",role:"Technician"},{id:"6",name:"Emma Davis",role:"Supervisor"}],pe=function(e){var t,r,n,i=e.isOpen,l=e.onClose,o=e.onSubmit,c=me((0,a.useState)([]),2),u=c[0],x=c[1],f=me((0,a.useState)([]),2),p=f[0],h=f[1],b=me((0,a.useState)([{companyName:"",bookingName:"",bookedBy:"",companyContactNumber:"",rentalCost:0,fromDate:"",toDate:"",bookingSlipFiles:[]}]),2),y=b[0],j=b[1],v=function(e,t,r){x(function(s){return s.map(function(s){return s.id===e?oe(oe({},s),{},ce({},t,r)):s})})},N=function(e,t,r){j(function(s){return s.map(function(s,a){return a===e?oe(oe({},s),{},ce({},t,r)):s})})},C=function(e,t,r){h(function(s){return s.map(function(s,a){return a===e?oe(oe({},s),{},ce({},t,r)):s})})};return(0,s.jsx)(S.a,{isOpen:i,onClose:l,title:"Add Travel & Accommodation Details",size:"xl",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Flight Tickets"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[u.length," ticket",1!==u.length?"s":""," configured"]})]}),(0,s.jsx)(w.$,{variant:"primary",size:"sm",onClick:function(){var e={id:Date.now().toString(),passengerName:"",isRoundTrip:!1,departureDate:"",departureTime:"",arrivalDate:"",arrivalTime:"",airline:"",cost:""};x(function(t){return[].concat(de(t),[e])})},icon:m.A,children:"Add Ticket"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[u.map(function(e,t){return(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:["Ticket ",t+1]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.isRoundTrip,onChange:function(t){return v(e.id,"isRoundTrip",t.target.checked)},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Round Trip"})]}),(0,s.jsx)("button",{onClick:function(){return t=e.id,void x(function(e){return e.filter(function(e){return e.id!==t})});var t},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passenger *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsxs)("select",{value:e.passengerName,onChange:function(t){return v(e.id,"passengerName",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select passenger"}),fe.map(function(e){return(0,s.jsxs)("option",{value:e.name,children:[e.name," - ",e.role]},e.id)})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.departureDate,onChange:function(t){return v(e.id,"departureDate",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Time *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"time",value:e.departureTime,onChange:function(t){return v(e.id,"departureTime",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.arrivalDate,onChange:function(t){return v(e.id,"arrivalDate",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Time *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"time",value:e.arrivalTime,onChange:function(t){return v(e.id,"arrivalTime",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Airline *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(X.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.airline,onChange:function(t){return v(e.id,"airline",t.target.value)},placeholder:"Enter airline name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Cost *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ee.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"number",value:e.cost,onChange:function(t){return v(e.id,"cost",t.target.value)},placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Upload"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"file",id:"ticket-".concat(e.id),accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:function(t){return r=e.id,void((a=null===(s=t.target.files)||void 0===s?void 0:s[0])&&v(r,"attachment",a));var r,s,a},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"ticket-".concat(e.id),className:"flex items-center justify-center w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(te.A,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e.attachment?e.attachment.name:"Upload ticket"})]})]})]})]}),e.isRoundTrip&&(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(g.A,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("h5",{className:"font-medium text-gray-900",children:"Return Ticket Details"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.returnDate||"",onChange:function(t){return v(e.id,"returnDate",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Time *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"time",value:e.returnTime||"",onChange:function(t){return v(e.id,"returnTime",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Arrival Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.returnArrivalDate||"",onChange:function(t){return v(e.id,"returnArrivalDate",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Arrival Time *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"time",value:e.returnArrivalTime||"",onChange:function(t){return v(e.id,"returnArrivalTime",t.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Airline *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(X.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.returnAirline||"",onChange:function(t){return v(e.id,"returnAirline",t.target.value)},placeholder:"Enter return airline name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Cost *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ee.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"number",value:e.returnCost||"",onChange:function(t){return v(e.id,"returnCost",t.target.value)},placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Ticket Upload"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"file",id:"return-ticket-".concat(e.id),accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:function(t){var r,s=null===(r=t.target.files)||void 0===r?void 0:r[0];s&&v(e.id,"returnAttachment",s)},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"return-ticket-".concat(e.id),className:"flex items-center justify-center w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(te.A,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e.returnAttachment?e.returnAttachment.name:"Upload return ticket"})]})]})]})]})]})]},e.id)}),0===u.length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)(X.A,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,s.jsx)("p",{children:'No flight tickets added yet. Click "Add Ticket" to get started.'})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(re.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Accommodation Details"})]}),(0,s.jsxs)("button",{onClick:function(){var e={hotelName:"",numberOfRooms:1,checkInDate:"",checkOutDate:"",hotelCost:0,reservationSlipFiles:[]};h(function(t){return[].concat(de(t),[e])})},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 transition-colors",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Add Hotel"]})]}),0===p.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(re.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No hotels added yet. Click 'Add Hotel' to get started."})]}):(0,s.jsx)("div",{className:"space-y-4",children:p.map(function(e,t){return(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(re.A,{className:"w-4 h-4 text-green-600"}),(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:["Hotel ",t+1]})]}),(0,s.jsxs)("button",{onClick:function(){return e=t,void h(function(t){return t.filter(function(t,r){return r!==e})});var e},className:"flex items-center gap-1 px-2 py-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[(0,s.jsx)(G.A,{className:"w-3 h-3"}),"Remove"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Name *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(re.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.hotelName,onChange:function(e){return C(t,"hotelName",e.target.value)},placeholder:"Enter hotel name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Rooms *"}),(0,s.jsx)("input",{type:"number",value:e.numberOfRooms,onChange:function(e){return C(t,"numberOfRooms",Math.max(1,Number(e.target.value)))},min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.checkInDate,onChange:function(e){return C(t,"checkInDate",e.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.checkOutDate,onChange:function(e){return C(t,"checkOutDate",e.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Cost *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 font-medium",children:"$"}),(0,s.jsx)("input",{type:"number",value:e.hotelCost,onChange:function(e){return C(t,"hotelCost",Math.max(0,Number(e.target.value)))},min:"0",step:"0.01",placeholder:"0.00",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Reservation Slips"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,s.jsx)("input",{type:"file",id:"hotel-reservation-".concat(t),multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:function(e){return function(e,t){var r=Array.from(t.target.files||[]);C(e,"reservationSlipFiles",[].concat(de(p[e].reservationSlipFiles),r))}(t,e)},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"hotel-reservation-".concat(t),className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,s.jsx)(te.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload reservation slips or drag and drop"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),e.reservationSlipFiles.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-2",children:e.reservationSlipFiles.map(function(e,r){return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-md p-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(te.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,s.jsx)("button",{onClick:function(){return function(e,t){var r=p[e].reservationSlipFiles.filter(function(e,r){return r!==t});C(e,"reservationSlipFiles",r)}(t,r)},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},r)})})]})]},t)})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(se.A,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rental Vehicle Details"})]}),(0,s.jsxs)("button",{onClick:function(){var e={companyName:"",bookingName:"",bookedBy:"",companyContactNumber:"",rentalCost:0,fromDate:"",toDate:"",bookingSlipFiles:[]};j(function(t){return[].concat(de(t),[e])})},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-orange-600 bg-orange-50 border border-orange-200 rounded-md hover:bg-orange-100 transition-colors",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Add Vehicle"]})]}),y.map(function(e,t){return(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h4",{className:"text-md font-medium text-gray-800",children:["Vehicle ",t+1]}),y.length>1&&(0,s.jsxs)("button",{onClick:function(){return e=t,void j(function(t){return t.filter(function(t,r){return r!==e})});var e},className:"flex items-center gap-1 px-2 py-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[(0,s.jsx)(G.A,{className:"w-3 h-3"}),"Remove"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ae.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.companyName,onChange:function(e){return N(t,"companyName",e.target.value)},placeholder:"Enter company name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(O.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.bookingName,onChange:function(e){return N(t,"bookingName",e.target.value)},placeholder:"Enter booking name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booked By"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:e.bookedBy,onChange:function(e){return N(t,"bookedBy",e.target.value)},placeholder:"Enter booked by name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Contact Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ne.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:e.companyContactNumber,onChange:function(e){return N(t,"companyContactNumber",e.target.value)},placeholder:"Enter company contact number",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rental Cost"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ee.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"number",value:e.rentalCost,onChange:function(e){return N(t,"rentalCost",Math.max(0,Number(e.target.value)))},min:"0",step:"0.01",placeholder:"0.00",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.fromDate,onChange:function(e){return N(t,"fromDate",e.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"date",value:e.toDate,onChange:function(e){return N(t,"toDate",e.target.value)},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Booking Slips"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,s.jsx)("input",{type:"file",id:"rentalBookingSlipsUpload-".concat(t),multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:function(e){return function(e,t){var r=Array.from(t.target.files||[]);N(e,"bookingSlipFiles",[].concat(de(y[e].bookingSlipFiles),r))}(t,e)},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"rentalBookingSlipsUpload-".concat(t),className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,s.jsx)(te.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload booking slips or drag and drop"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),e.bookingSlipFiles.length>0&&(0,s.jsx)("div",{className:"mt-3 space-y-2",children:e.bookingSlipFiles.map(function(e,r){return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,s.jsx)("button",{onClick:function(){return function(e,t){var r=y[e].bookingSlipFiles.filter(function(e,r){return r!==t});N(e,"bookingSlipFiles",r)}(t,r)},className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},r)})})]})]},t)})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,s.jsx)(w.$,{variant:"secondary",onClick:function(){l()},className:"px-6 py-2",children:"Cancel"}),(0,s.jsx)(w.$,{onClick:function(){var e={tickets:u,hotelDetails:p.filter(function(e){return e.hotelName}),rentalVehicleDetails:y.filter(function(e){return e.companyName})};o(e),l()},disabled:(t=p.length>0&&p.every(function(e){return e.hotelName&&e.checkInDate&&e.checkOutDate}),r=u.length>0&&u.every(function(e){var t,r,s=""!==e.passengerName&&""!==e.departureDate&&""!==e.departureTime&&""!==e.arrivalDate&&""!==e.arrivalTime&&""!==e.airline.trim()&&""!==e.cost.trim();return e.isRoundTrip?s&&""!==e.returnDate&&""!==e.returnTime&&""!==e.returnArrivalDate&&""!==e.returnArrivalTime&&""!==(null===(t=e.returnAirline)||void 0===t?void 0:t.trim())&&""!==(null===(r=e.returnCost)||void 0===r?void 0:r.trim()):s}),n=y.every(function(e){return!e.companyName||e.companyName&&e.bookingName&&e.bookedBy&&e.companyContactNumber&&e.fromDate&&e.toDate}),!(t&&r&&n)),className:"px-6 py-2",children:"Submit Details"})]})]})})};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ge(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach(function(t){je(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function je(e,t,r){return(t=function(e){var t=function(e){if("object"!=he(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Se=function(e){var t=e.isOpen,r=e.onClose,n=e.onSubmit,i=e.assignedTeamMembers,l=e.projectLocation,o=ve((0,a.useState)(!1),2),c=o[0],d=o[1],m=ve((0,a.useState)(!1),2),u=m[0],x=m[1],f=ve((0,a.useState)(!1),2),p=f[0],h=f[1],g=ve((0,a.useState)("air"),2),b=g[0],y=(g[1],ve((0,a.useState)([]),2)),j=y[0],v=y[1],N=ve((0,a.useState)([]),2),C=N[0],A=N[1],k=ve((0,a.useState)({fromDate:"",toDate:"",numberOfCars:1,pickupLocation:""}),2),D=k[0],O=k[1],T=ve((0,a.useState)({}),2),M=T[0],P=T[1],L=ve((0,a.useState)({}),2),I=L[0],R=L[1],F=ve((0,a.useState)({}),2),q=F[0],W=F[1],B=function(e,t){R(function(r){return ye(ye({},r),{},je({},e,t))}),v(function(r){return r.map(function(r){return r.id===e?ye(ye({},r),{},{travelMethod:t}):r})})},U=function(e,t){O(function(r){return ye(ye({},r),{},je({},e,t))})};return(0,s.jsx)(S.a,{isOpen:t,onClose:r,title:"Request Travel & Accommodation",size:"lg",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Please specify your travel and accommodation requirements. You can add detailed information later."}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(X.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"Travel Required"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:c,onChange:function(e){return d(e.target.checked)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c&&(0,s.jsx)("div",{className:"space-y-4 pl-2",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-3",children:"Team Members"}),(0,s.jsx)("div",{className:"space-y-3",children:i.map(function(e){return(0,s.jsx)("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(E.e,{src:e.avatar,name:e.name,size:"lg"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.role})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1C4.34 1 3 2.34 3 4C3 6.5 6 9 6 9C6 9 9 6.5 9 4C9 2.34 7.66 1 6 1ZM6 5.25C5.45 5.25 5 4.8 5 4.25C5 3.7 5.45 3.25 6 3.25C6.55 3.25 7 3.7 7 4.25C7 4.8 6.55 5.25 6 5.25Z",fill:"#6B7280"})}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 truncate",children:[e.location," → ",l]})]})]})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:M[e.id]||!1,onChange:function(t){return function(e,t){if(P(function(r){return ye(ye({},r),{},je({},e,t))}),t){var r=i.find(function(t){return t.id===e});r&&!j.some(function(t){return t.id===e})&&v(function(t){return[].concat(ge(t),[ye(ye({},r),{},{travelMethod:I[e]||"air"})])})}else v(function(t){return t.filter(function(t){return t.id!==e})})}(e.id,t.target.checked)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),M[e.id]&&(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-3",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Travel Method"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"travelMethod-".concat(e.id),value:"air",checked:"air"===(I[e.id]||"air"),onChange:function(){return B(e.id,"air")},className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-xs text-gray-700",children:"Air"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"radio",name:"travelMethod-".concat(e.id),value:"road",checked:"road"===(I[e.id]||"air"),onChange:function(){return B(e.id,"road")},className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-xs text-gray-700",children:"Road"})]})]})]})]})},e.id)})}),j.length>0&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-blue-100 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800 font-medium",children:[j.length," team member",j.length>1?"s":""," selected for travel"]})})]})})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(re.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"Accommodation Required"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:u,onChange:function(e){return x(e.target.checked)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),u&&(0,s.jsxs)("div",{className:"space-y-4 pl-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-3",children:"Team Members"}),(0,s.jsx)("div",{className:"space-y-3",children:i.map(function(e){return(0,s.jsx)("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(E.e,{src:e.avatar,name:e.name,size:"lg"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.role})]})})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:q[e.id]||!1,onChange:function(t){return function(e,t){if(W(function(r){return ye(ye({},r),{},je({},e,t))}),t){var r=i.find(function(t){return t.id===e});r&&!C.some(function(t){return t.id===e})&&A(function(e){return[].concat(ge(e),[r])})}else A(function(t){return t.filter(function(t){return t.id!==e})})}(e.id,t.target.checked)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})})},e.id)})}),C.length>0&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:[C.length," team member",C.length>1?"s":""," selected for accommodation"]})})]}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"Accommodation details can be added later after the request is approved."})]})]}),(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(se.A,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-orange-900",children:"Rental Vehicle Required"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:p,onChange:function(e){return h(e.target.checked)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"})]})]}),p&&(0,s.jsxs)("div",{className:"space-y-4 pl-2",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"From Date"}),(0,s.jsx)("input",{type:"date",value:D.fromDate,onChange:function(e){return U("fromDate",e.target.value)},className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"To Date"}),(0,s.jsx)("input",{type:"date",value:D.toDate,onChange:function(e){return U("toDate",e.target.value)},className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Number of Cars Needed"}),(0,s.jsx)("input",{type:"number",min:"1",max:"10",value:D.numberOfCars,onChange:function(e){return U("numberOfCars",parseInt(e.target.value)||1)},className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Where Picking Up From"}),(0,s.jsx)("input",{type:"text",value:D.pickupLocation,onChange:function(e){return U("pickupLocation",e.target.value)},placeholder:"Enter pickup location (e.g., Airport, Hotel, Office)",className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),D.fromDate&&D.toDate&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-orange-100 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-orange-800 font-medium",children:[D.numberOfCars," car",D.numberOfCars>1?"s":""," needed from ",new Date(D.fromDate).toLocaleDateString()," to ",new Date(D.toDate).toLocaleDateString(),D.pickupLocation&&(0,s.jsxs)("span",{className:"block mt-1",children:["Pickup from: ",D.pickupLocation]})]})})]}),(0,s.jsx)("p",{className:"text-sm text-orange-700",children:"Vehicle details can be added later after the request is approved."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,s.jsx)(w.$,{variant:"secondary",onClick:function(){r()},className:"px-6 py-2",children:"Cancel"}),(0,s.jsx)(w.$,{onClick:function(){n({travelRequired:c,accommodationRequired:u,rentalVehicleRequired:p,travelMethod:c?b:void 0,selectedTeamMembers:j,selectedAccommodationMembers:C,rentalVehicleDetails:p?D:void 0}),r()},disabled:!((c||u||p)&&(!p||D.fromDate&&D.toDate&&D.numberOfCars>0)),className:"px-6 py-2",children:"Submit Request"})]})]})})},Ce=r(5339),Ae=r(7379),ke=function(e){var t,r,a,n=e.travelAccommodationData,i=e.onAddDetails,l=e.onMarkComplete,o=e.onExpand,c=e.onEditDetails,u=e.isCompleted,x=void 0!==u&&u,f=function(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},p=function(e){return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};if(!n||!(n.tickets.length>0||n.hotelDetails.length>0||(null===(t=n.rentalVehicleDetails)||void 0===t?void 0:t.length)>0))return(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsx)("div",{className:"flex flex-col gap-4",children:(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"No details added yet"})]}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)("button",{onClick:i,className:"bg-white border border-gray-300 border-dashed text-gray-700 w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(m.A,{className:"w-4 h-4"})})})]})})});var h=(null==n?void 0:n.tickets.length)||0,b=((null==n?void 0:n.tickets.filter(function(e){return e.attachment}).length)||0)+((null==n||null===(r=n.hotelDetails)||void 0===r?void 0:r.reduce(function(e,t){var r;return e+((null===(r=t.reservationSlipFiles)||void 0===r?void 0:r.length)||0)},0))||0)+((null==n||null===(a=n.rentalVehicleDetails)||void 0===a?void 0:a.reduce(function(e,t){var r;return e+((null===(r=t.bookingSlipFiles)||void 0===r?void 0:r.length)||0)},0))||0);return(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,s.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[h," ticket",1!==h?"s":""," • ",b," attachment",1!==b?"s":""]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[x?(0,s.jsxs)("div",{className:"bg-green-600 border border-green-600 text-white px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"w-3 h-3 text-white"})}),"Completed"]}):(0,s.jsxs)("button",{onClick:l,className:"bg-gray-50 border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-100 transition-colors",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded-full flex items-center justify-center",children:(0,s.jsx)(g.A,{className:"w-3 h-3 text-white"})}),"Mark as Complete"]}),(0,s.jsx)("button",{onClick:c,className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:"Edit Details"}),(0,s.jsx)("button",{onClick:o,className:"bg-white border border-gray-300 text-gray-700 w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(Ce.A,{className:"w-4 h-4"})})]})]}),(null==n?void 0:n.tickets)&&n.tickets.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(X.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Travel Details"})]}),(0,s.jsx)("div",{className:"space-y-3",children:n.tickets.map(function(e,t){return(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsxs)("span",{className:"font-medium text-blue-900",children:["Ticket ",t+1]})]}),e.attachment&&(0,s.jsxs)("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,s.jsx)(T.A,{className:"w-3 h-3"}),"Attachment"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-blue-700 font-medium",children:"Passenger:"}),(0,s.jsx)("p",{className:"text-blue-900",children:e.passengerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-blue-700 font-medium",children:"Airline:"}),(0,s.jsx)("p",{className:"text-blue-900",children:e.airline})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-blue-700 font-medium",children:"Departure:"}),(0,s.jsxs)("p",{className:"text-blue-900",children:[f(e.departureDate)," at ",p(e.departureTime)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-blue-700 font-medium",children:"Arrival:"}),(0,s.jsxs)("p",{className:"text-blue-900",children:[f(e.arrivalDate)," at ",p(e.arrivalTime)]})]})]})]},e.id)})})]}),(null==n?void 0:n.hotelDetails)&&n.hotelDetails.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(re.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Accommodation Details"})]}),(0,s.jsx)("div",{className:"space-y-3",children:n.hotelDetails.map(function(e,t){return(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h5",{className:"font-medium text-green-900",children:["Hotel ",t+1]}),e.reservationSlipFiles.length>0&&(0,s.jsxs)("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[e.reservationSlipFiles.length," file",1!==e.reservationSlipFiles.length?"s":""]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Hotel Name:"}),(0,s.jsx)("p",{className:"text-green-900 font-medium",children:e.hotelName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Number of Rooms:"}),(0,s.jsx)("p",{className:"text-green-900 font-medium",children:e.numberOfRooms})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Check-in:"}),(0,s.jsx)("p",{className:"text-green-900 font-medium",children:f(e.checkInDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Check-out:"}),(0,s.jsx)("p",{className:"text-green-900 font-medium",children:f(e.checkOutDate)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Hotel Cost:"}),(0,s.jsxs)("p",{className:"text-green-900 font-medium",children:["$",e.hotelCost.toFixed(2)]})]})]}),e.reservationSlipFiles&&e.reservationSlipFiles.length>0&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(T.A,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Reservation Slips:"})]}),(0,s.jsx)("div",{className:"space-y-2",children:e.reservationSlipFiles.map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white border border-green-200 rounded-md p-2",children:[(0,s.jsx)("span",{className:"text-green-900 text-sm truncate",children:e.name}),(0,s.jsxs)("button",{className:"text-green-600 hover:text-green-800 text-sm flex items-center gap-1",children:[(0,s.jsx)(Ae.A,{className:"w-3 h-3"}),"Download"]})]},t)})})]})]},t)})})]}),(null==n?void 0:n.rentalVehicleDetails)&&n.rentalVehicleDetails.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(se.A,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Rental Vehicle Details"})]}),(0,s.jsx)("div",{className:"space-y-4",children:n.rentalVehicleDetails.map(function(e,t){return(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("h5",{className:"font-medium text-orange-900",children:["Vehicle ",t+1]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Company Name:"}),(0,s.jsx)("p",{className:"text-orange-900 font-medium",children:e.companyName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Booking Name:"}),(0,s.jsx)("p",{className:"text-orange-900 font-medium",children:e.bookingName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Booked By:"}),(0,s.jsx)("p",{className:"text-orange-900 font-medium",children:e.bookedBy})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Company Contact:"}),(0,s.jsx)("p",{className:"text-orange-900 font-medium",children:e.companyContactNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Rental Cost:"}),(0,s.jsxs)("p",{className:"text-orange-900 font-medium",children:["$",e.rentalCost.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Duration:"}),(0,s.jsxs)("p",{className:"text-orange-900 font-medium",children:[f(e.fromDate)," → ",f(e.toDate)]})]})]}),e.bookingSlipFiles&&e.bookingSlipFiles.length>0&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-orange-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(T.A,{className:"w-4 h-4 text-orange-600"}),(0,s.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Booking Slips:"})]}),(0,s.jsx)("div",{className:"space-y-2",children:e.bookingSlipFiles.map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white border border-orange-200 rounded-md p-2",children:[(0,s.jsx)("span",{className:"text-orange-900 text-sm truncate",children:e.name}),(0,s.jsxs)("button",{className:"text-orange-600 hover:text-orange-800 text-sm flex items-center gap-1",children:[(0,s.jsx)(Ae.A,{className:"w-3 h-3"}),"Download"]})]},t)})})]})]},t)})})]})]})})},De=r(4372),Oe=r(5331),Te=r(2080),Me=r(4099),Pe=r(4334);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ie(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach(function(t){Fe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fe(e,t,r){return(t=function(e){var t=function(e){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return Be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Ue=function(){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M10 18.3333C10 18.3333 16.6667 12.5 16.6667 8.33333C16.6667 6.44928 15.7143 4.64236 14.0711 3.28595C12.4278 1.92954 10.2243 1.16667 8.33333 1.16667C6.44238 1.16667 4.23886 1.92954 2.59564 3.28595C0.952427 4.64236 0 6.44928 0 8.33333C0 12.5 6.66667 18.3333 10 18.3333Z",stroke:"#667085",strokeWidth:"1.5"}),(0,s.jsx)("path",{d:"M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z",stroke:"#667085",strokeWidth:"1.5"})]})},ze=function(){return(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6.66667 1.66667V4.16667M13.3333 1.66667V4.16667M2.91667 7.5H17.0833M17.5 7.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V7.5H17.5ZM2.5 7.5V5.83333C2.5 5.39131 2.67559 4.96738 2.98816 4.65482C3.30072 4.34226 3.72464 4.16667 4.16667 4.16667H15.8333C16.2754 4.16667 16.6993 4.34226 17.0118 4.65482C17.3244 4.96738 17.5 5.39131 17.5 5.83333V7.5H2.5Z",stroke:"#667085",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},He=function(){return(0,s.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},Je=function(){return(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},$e=function(){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M1.66667 12.5H13.3333V4.16667H1.66667V12.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.3333 8.33333H15.8333L18.3333 10.8333V12.5H13.3333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("circle",{cx:"5",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,s.jsx)("circle",{cx:"15",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"})]})},Ve=function(){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.3333 1.66667H5C4.55797 1.66667 4.13405 1.84226 3.82149 2.15482C3.50893 2.46738 3.33333 2.89131 3.33333 3.33333V16.6667C3.33333 17.1087 3.50893 17.5326 3.82149 17.8452C4.13405 18.1577 4.55797 18.3333 5 18.3333H15C15.442 18.3333 15.866 18.1577 16.1785 17.8452C16.4911 17.5326 16.6667 17.1087 16.6667 16.6667V6.66667L13.3333 1.66667Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.3333 1.66667V6.66667H16.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},Ze=function(e){var t=e.title,r=e.status,a=e.description;return(0,s.jsxs)("div",{className:"flex gap-3 items-start flex-1",children:[(0,s.jsx)("div",{className:"flex flex-col items-center pt-1",children:"completed"===r?(0,s.jsx)("div",{className:"bg-[#027a48] rounded-xl w-6 h-6 flex items-center justify-center",children:(0,s.jsx)(He,{})}):(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl w-6 h-6 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full"})})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("p",{className:"font-semibold text-sm text-[#344054] leading-5",children:t}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:a})]})]})},_e=function(e){var t=e.icon,r=e.message,a=e.actionButton;return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[t,(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:r}),a]})},Qe=function(){var e,t,r=(0,n.g)().projectId,i=(0,Oe.d)().showToast,o=((0,n.Zp)(),qe((0,a.useState)(l.U),2)),c=o[0],g=(o[1],qe((0,a.useState)(l.y),2)),b=g[0],y=g[1],j=qe((0,a.useState)(!1),2),v=j[0],N=j[1],C=qe((0,a.useState)(!1),2),A=C[0],k=C[1],O=qe((0,a.useState)(!1),2),T=O[0],M=O[1],P=qe((0,a.useState)(!1),2),L=P[0],I=P[1],E=qe((0,a.useState)(!1),2),F=E[0],q=E[1],W=qe((0,a.useState)(null),2),B=W[0],U=(W[1],qe((0,a.useState)(!1),2)),z=U[0],H=U[1],J=qe((0,a.useState)(!1),2),$=J[0],V=J[1],Z=qe((0,a.useState)(null),2),_=Z[0],G=(Z[1],qe((0,a.useState)(!1),2)),Y=G[0],K=G[1],X=qe((0,a.useState)(null),2),ee=X[0],te=X[1],re=qe((0,a.useState)(!1),2),se=re[0],ae=re[1],ne=qe((0,a.useState)(!1),2),ie=ne[0],le=ne[1],oe=qe((0,a.useState)(!1),2),ce=oe[0],de=oe[1],me=qe((0,a.useState)(!1),2),ue=me[0],xe=me[1],fe=qe((0,a.useState)(!1),2),he=fe[0],ge=fe[1],be=qe((0,a.useState)(!1),2),ye=be[0],je=be[1],ve=qe((0,a.useState)(!1),2),Ne=ve[0],we=ve[1],Ce=qe((0,a.useState)(!1),2),Ae=Ce[0],Le=Ce[1],Re=qe((0,a.useState)(!1),2),Fe=Re[0],We=Re[1],Be=qe((0,a.useState)(null),2),Qe=Be[0],Ge=Be[1],Ye=qe((0,a.useState)(null),2),Ke=Ye[0],Xe=Ye[1],et=qe((0,a.useState)([]),2),tt=et[0],rt=et[1],st=qe((0,a.useState)(!1),2),at=st[0],nt=st[1],it=qe((0,a.useState)((0,Te.Qp)()),1)[0],lt=qe((0,a.useState)(Me.xw),2),ot=(lt[0],lt[1],qe((0,a.useState)(!1),2)),ct=ot[0],dt=ot[1],mt=qe((0,a.useState)([]),2),ut=(mt[0],mt[1],ue&&ce&&ie),xt=qe((0,a.useState)([{id:"sw600br",name:"SW600BR",required:1,inTrailer:0,needToShip:1},{id:"sw600rc-plus",name:"SW600RC+",required:2,inTrailer:0,needToShip:2},{id:"sw600rc",name:"SW600RC",required:3,inTrailer:0,needToShip:3},{id:"sw440rc",name:"SW440RC",required:1,inTrailer:0,needToShip:1},{id:"sw600fe",name:"SW600FE",required:2,inTrailer:0,needToShip:2},{id:"sw450sr",name:"SW450SR",required:1,inTrailer:0,needToShip:1},{id:"tint-only",name:"Tint Only",required:2,inTrailer:0,needToShip:2},{id:"kevlar",name:"Kevlar",required:1,inTrailer:0,needToShip:1}]),2),ft=xt[0],pt=(xt[1],qe((0,a.useState)(!1),2)),ht=pt[0],gt=(pt[1],qe((0,a.useState)([]),2)),bt=gt[0],yt=gt[1],jt=qe((0,a.useState)(!1),2),vt=(jt[0],jt[1],function(){je(!0)}),Nt=(ft.reduce(function(e,t){return e+t.required},0),ft.reduce(function(e,t){return e+t.inTrailer},0),ft.reduce(function(e,t){return e+t.needToShip},0),ht||ft.slice(0,4),ft.length,function(e){if(0===e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}),wt=function(e){var t={members:e.map(function(e){return Ee(Ee({},e),{},{assignedAt:(new Date).toISOString(),assignedBy:"Current User"})}),count:e.length,leadMember:e.find(function(e){return"Lead Supervisor"===e.role})||void 0};y(function(e){return Ee(Ee({},e),{},{assignedTeam:t,checklist:e.checklist.map(function(e){return"Team Assigned"===e.label?Ee(Ee({},e),{},{completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}):e})})})},St=function(e){var t=Ee(Ee({},e),{},{id:"log-".concat(Date.now()),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"});y(function(e){return Ee(Ee({},e),{},{logisticsTravel:Ee(Ee({},e.logisticsTravel),{},{logistics:[].concat(Ie(e.logisticsTravel.logistics),[t])}),checklist:e.checklist.map(function(e){return"Logistics Confirmed"===e.label?Ee(Ee({},e),{},{completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}):e})})})},Ct=function(e){var t=Ee(Ee({},e),{},{id:"travel-".concat(Date.now()),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"});y(function(e){return Ee(Ee({},e),{},{logisticsTravel:Ee(Ee({},e.logisticsTravel),{},{travelPlans:[].concat(Ie(e.logisticsTravel.travelPlans),[t])}),checklist:e.checklist.map(function(e){return"Travel Setup"===e.label?Ee(Ee({},e),{},{completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}):e})})})},At=function(e){te(e),y(function(e){return Ee(Ee({},e),{},{checklist:e.checklist.map(function(e){return"Trailer Assigned"===e.label?Ee(Ee({},e),{},{completed:!0}):e})})}),ae(!1)};return"WIP"===c.status?(0,s.jsx)(Pe.ProjectDetailsWIP,{projectStatus:"WIP"}):(0,s.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsx)("div",{className:"bg-white rounded-xl p-6 mb-6 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 flex-1",children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("h1",{className:"font-semibold text-2xl text-gray-900 leading-9.5",children:"Marriot Windows Installation"}),(0,s.jsx)("div",{className:"bg-[#e6f4fd] flex items-center justify-center px-2 py-1 rounded-md",children:(0,s.jsx)("p",{className:"font-semibold text-sm text-[#0d76bf] leading-5",children:"PV90"})})]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)("div",{className:"bg-gray-50 flex items-center justify-center px-2 py-1 rounded-md",children:(0,s.jsx)("p",{className:"font-semibold text-xs text-[#344054] leading-5",children:"TXDA-SJ1BR1-EETUSC01-P20001"})}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(Ue,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"123 Main Street, Downtown"})]}),(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(ze,{}),(0,s.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"Feb 1, 2024 – Feb 15, 2024"})]}),c.assignedCoordinator&&(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 text-[#475467]"}),(0,s.jsxs)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:["Coordinator: ",c.assignedCoordinator.name]})]})]})]}),(0,s.jsx)("div",{className:"flex gap-3 items-center",children:(0,s.jsx)(w.$,{onClick:function(){dt(!0)},disabled:!ut,className:"px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] ".concat(ut?"bg-[#0d76bf] text-white hover:bg-[#0b5a8f]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Mark Stage as Complete"})})]}),(0,s.jsx)("div",{className:"h-px bg-gray-200 w-full"}),(0,s.jsxs)("div",{className:"flex items-center w-full",children:[(0,s.jsx)(Ze,{title:"Team Assignment",status:ue?"completed":"incomplete",description:ue?"Completed":"In Progress"}),(0,s.jsx)(Ze,{title:"Travel & Accommodation",status:ce?"completed":"incomplete",description:ce?"Completed":"In Progress"}),(0,s.jsx)(Ze,{title:"Trailer & Films",status:ie?"completed":"incomplete",description:ie?"Completed":"In Progress"})]})]})}),(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6 flex-1",children:[(0,s.jsx)(Q,{assignedTeam:b.assignedTeam,onAddMember:function(){k(!0)},onRemoveMember:function(e){y(function(t){var r;if(!t.assignedTeam)return t;var s=t.assignedTeam.members.filter(function(t){return t.id!==e}),a=(null===(r=t.assignedTeam.leadMember)||void 0===r?void 0:r.id)===e?void 0:t.assignedTeam.leadMember;return Ee(Ee({},t),{},{assignedTeam:s.length>0?{members:s,count:s.length,leadMember:a}:null})})},onMarkComplete:function(){xe(!0),i("Assigned team marked as complete")},isCompleted:ue,showActions:!0}),Fe?(0,s.jsx)(ke,{travelAccommodationData:Ke,onAddDetails:vt,onMarkComplete:function(){de(!0),i("Travel & Accommodation marked as complete")},onExpand:function(){console.log("Expand travel accommodation details")},onEditDetails:vt,isCompleted:ce}):(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,s.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:Ae?"Travel not required for this project":Ne?"Request submitted to logistics manager":"Assign travel & accommodation"})]}),(0,s.jsx)("div",{className:"flex gap-2 items-center",children:Ae?(0,s.jsxs)(w.$,{onClick:function(){Le(!1),i("You can now add travel requirements")},className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Add Travel"]}):Ne?(0,s.jsxs)(w.$,{onClick:vt,className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"Add Details"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{onClick:function(){Le(!0),de(!0),i("Travel marked as not required for this project")},className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,s.jsx)(He,{}),"Not Required"]}),(0,s.jsx)("button",{onClick:function(){ge(!0)},className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,s.jsx)(Je,{})})]})})]}),Ae?(0,s.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(He,{}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"Travel not required for this project"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"You can add travel requirements later if needed"})]}):Ne?(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(He,{}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Request submitted successfully"})]}),(0,s.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Logistics manager will review and provide details"}),Qe&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-green-700",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Travel Required:"})," ",Qe.travelRequired?"Yes":"No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Accommodation Required:"})," ",Qe.accommodationRequired?"Yes":"No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Rental Vehicle Required:"})," ",Qe.rentalVehicleRequired?"Yes":"No"]}),Qe.travelMethod&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Travel Method:"})," ","air"===Qe.travelMethod?"Air":"Road"]}),Qe.travelRequired&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Travel Team Members:"})," ",Qe.selectedTeamMembers.length," selected"]}),Qe.selectedTeamMembers.length>0&&(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("div",{className:"space-y-1",children:Qe.selectedTeamMembers.map(function(e){return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-blue-700",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,s.jsx)("span",{className:"text-gray-700",children:e.name}),(0,s.jsxs)("span",{className:"text-gray-500",children:["(",e.role,")"]})]},e.id)})})})]}),Qe.accommodationRequired&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Accommodation Team Members:"})," ",Qe.selectedAccommodationMembers.length," selected"]}),Qe.selectedAccommodationMembers.length>0&&(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("div",{className:"space-y-1",children:Qe.selectedAccommodationMembers.map(function(e){return(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-green-700",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,s.jsx)("span",{className:"text-gray-700",children:e.name}),(0,s.jsxs)("span",{className:"text-gray-500",children:["(",e.role,")"]})]},e.id)})})})]}),Qe.rentalVehicleRequired&&Qe.rentalVehicleDetails&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Rental Vehicle Details:"})}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,s.jsxs)("span",{className:"text-gray-700",children:[(0,s.jsx)("strong",{children:"Duration:"})," ",new Date(Qe.rentalVehicleDetails.fromDate).toLocaleDateString()," to ",new Date(Qe.rentalVehicleDetails.toDate).toLocaleDateString()]})}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,s.jsxs)("span",{className:"text-gray-700",children:[(0,s.jsx)("strong",{children:"Number of Cars:"})," ",Qe.rentalVehicleDetails.numberOfCars]})})]})})]})]})]}):(0,s.jsx)(_e,{icon:(0,s.jsx)($e,{}),message:"No travel & accommodation assigned yet"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-xl p-5 border-2 transition-colors ".concat(at?"border-blue-300 bg-blue-50":"border-gray-200"),onDragOver:function(e){e.preventDefault(),nt(!0)},onDragLeave:function(e){e.preventDefault(),nt(!1)},onDrop:function(e){e.preventDefault(),nt(!1);var t=e.dataTransfer.files;if(t.length>0){var r=Array.from(t);rt(function(e){return[].concat(Ie(e),r)}),i("".concat(r.length," document(s) uploaded successfully!"))}},children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Documents"}),(0,s.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[tt.length," document",1!==tt.length?"s":""]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsx)("input",{type:"file",id:"document-upload",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif",onChange:function(e){var t=e.target.files;if(t){var r=Array.from(t);rt(function(e){return[].concat(Ie(e),r)}),i("".concat(r.length," document(s) uploaded successfully!"))}e.target.value=""},className:"hidden"}),(0,s.jsxs)("label",{htmlFor:"document-upload",className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload document"]})]})]}),tt.length>0?(0,s.jsx)("div",{className:"space-y-3",children:tt.map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(Ve,{})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:Nt(e.size)})]})]}),(0,s.jsx)("button",{onClick:function(){return function(e){rt(function(t){return t.filter(function(t,r){return r!==e})}),i("Document removed successfully!")}(t)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove document",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)})}):(0,s.jsx)(_e,{icon:(0,s.jsx)(Ve,{}),message:"No documents uploaded yet"})]})}),(0,s.jsx)(De.n,{notes:b.notes,onAddNote:function(e,t){var s={id:"note-".concat(Date.now()),content:e,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:r||"",isInternal:t};y(function(e){return Ee(Ee({},e),{},{notes:[].concat(Ie(e.notes),[s])})})},onEditNote:function(e,t){y(function(r){return Ee(Ee({},r),{},{notes:r.notes.map(function(r){return r.id===e?Ee(Ee({},r),{},{content:t,updatedAt:(new Date).toISOString()}):r})})})},onDeleteNote:function(e){y(function(t){return Ee(Ee({},t),{},{notes:t.notes.filter(function(t){return t.id!==e})})})}})]}),(0,s.jsx)("div",{className:"flex flex-col gap-6 flex-1",children:(0,s.jsx)(R,{assignedTrailer:ee,onAssignTrailer:At,onAddAttachment:function(e){yt(e)},onMarkComplete:function(){le(!0),i("Trailer & Films marked as complete")},hasReceipt:bt.length>0,isCompleted:ie,availableTrailers:it,attachedFiles:bt})})]})]}),(0,s.jsx)(S.a,{isOpen:v,onClose:function(){return N(!1)},title:"Edit Project",size:"md",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,s.jsx)("div",{className:"flex justify-end space-x-3",children:(0,s.jsx)("button",{onClick:function(){return N(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,s.jsx)(u.W,{isOpen:A,onClose:function(){return k(!1)},onAssignTeam:wt,availableMembers:p.N,projectDetails:c}),(0,s.jsx)(u.W,{isOpen:T,onClose:function(){return M(!1)},onAssignTeam:wt,availableMembers:p.N,assignedMemberIds:(null===(e=b.assignedTeam)||void 0===e?void 0:e.members.map(function(e){return e.id}))||[],projectDetails:c}),(0,s.jsx)(x.C,{isOpen:L,onClose:function(){return I(!1)},onSave:St}),(0,s.jsx)(x.C,{isOpen:F,onClose:function(){return q(!1)},onSave:St,onEdit:function(e,t){y(function(r){return Ee(Ee({},r),{},{logisticsTravel:Ee(Ee({},r.logisticsTravel),{},{logistics:r.logisticsTravel.logistics.map(function(r){return r.id===e?Ee(Ee(Ee({},r),t),{},{updatedAt:(new Date).toISOString()}):r})})})})},editingLogistics:B}),(0,s.jsx)(f.b,{isOpen:z,onClose:function(){return H(!1)},onSave:Ct,availableTeamMembers:p.N.map(function(e){return{id:e.id,name:e.name,role:e.role}})}),(0,s.jsx)(f.b,{isOpen:$,onClose:function(){return V(!1)},onSave:Ct,onEdit:function(e,t){y(function(r){return Ee(Ee({},r),{},{logisticsTravel:Ee(Ee({},r.logisticsTravel),{},{travelPlans:r.logisticsTravel.travelPlans.map(function(r){return r.id===e?Ee(Ee(Ee({},r),t),{},{updatedAt:(new Date).toISOString()}):r})})})})},editingTravel:_,availableTeamMembers:p.N.map(function(e){return{id:e.id,name:e.name,role:e.role}})}),(0,s.jsx)(h.r,{isOpen:Y,onClose:function(){return K(!1)},onConfirm:function(e,t){console.log("Updating project dates:",{startDate:e,endDate:t}),K(!1)},projectTitle:c.name,projectStatus:c.status,initialStartDate:c.startDate,initialEndDate:c.endDate}),(0,s.jsx)(D,{isOpen:se,onClose:function(){return ae(!1)},onAssignTrailer:At,availableTrailers:it,assignedTrailerId:null==ee?void 0:ee.id}),(0,s.jsx)(Se,{isOpen:he,onClose:function(){return ge(!1)},onSubmit:function(e){console.log("Travel & Accommodation Request:",e),Ge(e),we(!0),i("Request submitted to logistics manager successfully!")},assignedTeamMembers:(null===(t=b.assignedTeam)||void 0===t?void 0:t.members)||[],projectLocation:"123 Main Street, Downtown"}),(0,s.jsx)(pe,{isOpen:ye,onClose:function(){return je(!1)},onSubmit:function(e){console.log("Travel & Accommodation Details:",e),Xe(e),We(!0),de(!0),i("Travel details added successfully!")}}),(0,s.jsx)(S.a,{isOpen:ct,onClose:function(){return dt(!1)},title:"Project Contract Required",size:"md",children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Cannot Move to Next Status"}),(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed",children:"The project cannot move to the next status because the project contract needs to be added. Please contact the sales person."})]}),(0,s.jsx)("div",{className:"flex justify-center w-full",children:(0,s.jsx)(w.$,{onClick:function(){return dt(!1)},className:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-6 py-2 rounded-lg font-medium transition-colors",children:"Close"})})]})})})]})},Ge=r(5719),Ye=r(3183),Ke=r(5891),Xe=r(5426),et=r(904),tt=r(8931),rt=r(8252),st=r(5279),at=r(6368),nt=r(6813),it=r(4186),lt=r(5320),ot=r(7990),ct=r(7985),dt=r(1899),mt=r(1449),ut=r(9735),xt=r(4159);function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach(function(t){bt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bt(e,t,r){return(t=function(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){if(e){if("string"==typeof e)return vt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Nt=function(e){var t=e.projectStatus,r=void 0===t?"QF":t,i=((0,n.g)().projectId,(0,n.Zp)(),(0,Oe.d)().showToast),o=(0,it.c)().isMobile,d=(0,c.A)().user,u=yt((0,a.useState)("window-management"),2),x=u[0],f=u[1],p=yt((0,a.useState)(ut.xw.map(function(e){return gt(gt({},e),{},{status:"Complete"})})),2),h=p[0],g=p[1],b=yt((0,a.useState)(""),2),y=b[0],v=b[1],S=yt((0,a.useState)({filmType:"all",status:"all",layers:"all"}),2),C=S[0],A=S[1],k=yt((0,a.useState)("list"),2),D=k[0],T=k[1];(0,a.useEffect)(function(){o&&T("grid")},[o]);var M=yt((0,a.useState)(!1),2),P=M[0],L=M[1],I=yt((0,a.useState)(!1),2),R=I[0],E=I[1],F=yt((0,a.useState)(!1),2),q=F[0],W=F[1],B=yt((0,a.useState)(!1),2),U=(B[0],B[1]),z=yt((0,a.useState)(null),2),H=z[0],J=z[1],$=yt((0,a.useState)(null),2),V=$[0],Z=$[1],_=yt((0,a.useState)(!1),2),Q=_[0],K=_[1],X=yt((0,a.useState)(!1),2),ee=X[0],re=X[1],se=yt((0,a.useState)(null),2),ae=se[0],ne=se[1],ie=yt((0,a.useState)(xt.d),2),le=ie[0],oe=ie[1],ce=yt((0,a.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"failed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Minor bubbling detected in corner area",issues:["Air bubbles in corner","Edge alignment needs adjustment"]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"pending",inspector:null,checkedAt:null,notes:"",issues:[]}]),2),de=ce[0];ce[1],(0,a.useEffect)(function(){var e=function(e){e.target.closest(".dropdown-container")||document.querySelectorAll('[id^="dropdown-"]').forEach(function(e){e.classList.add("hidden")})};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var me=gt(gt({},l.U),{},{progress:85,currentPhase:"Quality Review",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:12,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"13 out of 15 windows passed quality check"},{id:"2",user:"Sarah Johnson",action:"uploaded quality report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"quality-inspection-report.pdf",fileSize:"2.1 MB"},{id:"3",user:"Mike Lee",action:"marked 2 windows for reinstallation in Marriot Windows Installation",time:"6 hours ago",type:"update",fileName:null,fileSize:null,note:"Windows #12 and #8 require reinstallation due to quality issues"},{id:"4",user:"Emily Rodriguez",action:"uploaded document for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"safety-checklist.pdf",fileSize:"0.9 MB"},{id:"5",user:"David Chen",action:"updated Marriot Windows Installation project",time:"1 day ago",type:"update",fileName:null,fileSize:null,note:"Quality review process initiated"},{id:"6",user:"Ayesha Khan",action:"uploaded document for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"architectural-plans.pdf",fileSize:"3.2 MB"}]}),ue=(gt(gt({},me),{},{status:r}),h.filter(function(e){var t,r=(e.windowName||"").toLowerCase().includes(y.toLowerCase()),s="all"===C.filmType||e.filmType===C.filmType,a="all"===C.status||e.status===C.status,n="all"===C.layers||((null===(t=e.layers)||void 0===t?void 0:t.length)||0).toString()===C.layers;return r&&s&&a&&n})),xe=function(e){J(e),L(!0)},fe=function(e){Z(e),E(!0)},pe=function(e){window.confirm("Are you sure you want to remove this window?")&&(g(function(t){return t.filter(function(t){return t.id!==e})}),i("Window removed successfully"))},he=function(e){var t=gt(gt({},e),{},{status:"In Progress",assignedTeamMembers:[].concat(pt(e.assignedTeamMembers),[(null==d?void 0:d.name)||"Current User"]),updatedAt:new Date});g(function(r){return r.map(function(r){return r.id===e.id?t:r})}),i("Started working on ".concat(e.windowName))},ge=function(e){return"Pending"===e.status?{text:"Start Working",icon:Ge.A,action:function(){return he(e)},className:"text-green-700 hover:bg-green-50"}:"In Progress"===e.status?{text:"Mark as Completed",icon:Ge.A,action:function(){return function(e){var t=e.layers.map(function(e){return gt(gt({},e),{},{status:"Installed",installedBy:(null==d?void 0:d.name)||"Current User",installedAt:new Date})}),r=gt(gt({},e),{},{layers:t,status:"Complete",assignedTeamMembers:[].concat(pt(e.assignedTeamMembers),[(null==d?void 0:d.name)||"Current User"]),updatedAt:new Date});g(function(t){return t.map(function(t){return t.id===e.id?r:t})}),i("Completed ".concat(e.windowName))}(e)},className:"text-blue-700 hover:bg-blue-50"}:"Reinstallation Needed"===e.status?{text:"Start Working",icon:Ge.A,action:function(){return he(e)},className:"text-orange-700 hover:bg-orange-50"}:null},be=function(e,t){A(function(r){return gt(gt({},r),{},bt({},e,t))})};return de.filter(function(e){return"passed"===e.status}).length,de.filter(function(e){return"failed"===e.status}).length,de.filter(function(e){return"pending"===e.status}).length,(0,s.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,s.jsx)("style",{children:"\n        @media (max-width: 640px) {\n          .touch-manipulation {\n            touch-action: manipulation;\n            -webkit-tap-highlight-color: transparent;\n          }\n          .mobile-scroll {\n            -webkit-overflow-scrolling: touch;\n          }\n          .mobile-card {\n            border-radius: 12px;\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 16px;\n          }\n          .mobile-touch-target {\n            min-height: 44px;\n            min-width: 44px;\n            padding: 12px 16px;\n          }\n        }\n      "}),(0,s.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,s.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:gap-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-3 sm:gap-5",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-orange-50 text-orange-700 w-fit",children:"QF"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold w-fit",children:me.projectId}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,s.jsx)("span",{children:me.location})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(Y.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,s.jsxs)("span",{className:"text-xs sm:text-sm",children:[me.startDate," - ",me.endDate]})]})]})]}),(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3"})]})}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Window Installation Progress"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"100% Complete"})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs sm:text-sm text-gray-600 gap-1 sm:gap-0",children:[(0,s.jsx)("span",{children:"Current Phase: Installation completed"}),(0,s.jsx)("span",{children:"Project Completed"})]})]})]})})}),(0,s.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 mb-4 sm:mb-6",children:(0,s.jsx)("nav",{className:"flex space-x-1 sm:space-x-4 lg:space-x-8 overflow-x-auto mobile-scroll",children:[{id:"window-management",label:"Window Management"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(function(e){return(0,s.jsx)("button",{onClick:function(){return f(e.id)},className:"py-2 px-2 sm:px-3 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap flex-shrink-0 ".concat(x===e.id?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id)})})}),"window-management"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-4",children:[(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Window Management"}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)(w.$,{variant:"primary",icon:m.A,onClick:function(){J(null),L(!0)},className:"w-full sm:w-auto text-sm mobile-touch-target",children:"Add Window"})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search by window name",value:y,onChange:function(e){return v(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,s.jsxs)("select",{value:C.filmType,onChange:function(e){return be("filmType",e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All Film Types"}),(0,s.jsx)("option",{value:"BR",children:"BR"}),(0,s.jsx)("option",{value:"Riot",children:"Riot"}),(0,s.jsx)("option",{value:"Riot+",children:"Riot+"})]}),(0,s.jsxs)("select",{value:C.status,onChange:function(e){return be("status",e.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"Pending",children:"Pending"}),(0,s.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,s.jsx)("option",{value:"Complete",children:"Complete"}),(0,s.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex items-center gap-2 col-span-1",children:[(0,s.jsx)("button",{onClick:function(){return T("list")},className:"p-2 rounded-lg ".concat("list"===D?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,s.jsx)(Ye.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return T("grid")},className:"p-2 rounded-lg ".concat("grid"===D?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,s.jsx)(Ke.A,{className:"w-4 h-4"})})]})]})]}),0===ue.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No windows found matching your criteria"})}):"list"!==D||o?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ue.map(function(e){var t,r,a,n,i;return(0,s.jsxs)(at.Z,{className:"p-3 sm:p-4 cursor-pointer hover:shadow-md transition-shadow mobile-card",onClick:function(){return fe(e)},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:e.windowName}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Created ",(null===(t=e.createdAt)||void 0===t?void 0:t.toLocaleDateString())||"Unknown"]})]}),(0,s.jsx)(nt.W,{status:e.status})]}),(0,s.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:["Film Type: ",e.filmType]}),(0,s.jsxs)("div",{children:["Dimensions: ",e.length," x ",e.width," cm"]}),(0,s.jsxs)("div",{children:["Layers: ",e.layers.length]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end mt-3 sm:mt-4",children:[(0,s.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==(null==d?void 0:d.userType)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),fe(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,s.jsx)(Xe.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),xe(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,s.jsx)(et.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),pe(e.id)},className:"text-gray-400 hover:text-red-600 p-2 mobile-touch-target",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]}),ge(e)&&(0,s.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),null===(r=ge(e))||void 0===r||r.action()},className:"flex items-center gap-1 px-2 py-1 text-xs mobile-touch-target ".concat(null===(r=ge(e))||void 0===r?void 0:r.className),children:[(0,s.jsx)(Ge.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:(null===(a=ge(e))||void 0===a?void 0:a.text)||"Complete"})]})]}),(0,s.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,s.jsx)("button",{onClick:function(t){t.stopPropagation();var r=document.getElementById("dropdown-grid-".concat(e.id));r&&r.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1 mobile-touch-target",children:(0,s.jsx)(tt.A,{className:"w-4 h-4"})}),(0,s.jsx)("div",{id:"dropdown-grid-".concat(e.id),className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),fe(e),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-gray-700 hover:bg-gray-100 mobile-touch-target",children:[(0,s.jsx)(Xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,s.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),xe(e),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-gray-700 hover:bg-gray-100 mobile-touch-target",children:[(0,s.jsx)(et.A,{className:"w-4 h-4"}),"Edit Window"]}),ge(e)&&(0,s.jsxs)("button",{onClick:function(t){var r,s;t.stopPropagation(),null===(r=ge(e))||void 0===r||r.action(),null===(s=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===s||s.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm mobile-touch-target ".concat(null===(n=ge(e))||void 0===n?void 0:n.className),children:[(0,s.jsx)(Ge.A,{className:"w-4 h-4"}),null===(i=ge(e))||void 0===i?void 0:i.text]}),(0,s.jsxs)("button",{onClick:function(t){var r;t.stopPropagation(),pe(e.id),null===(r=document.getElementById("dropdown-grid-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-red-600 hover:bg-red-50 mobile-touch-target",children:[(0,s.jsx)(G.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})]})]},e.id)})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"WINDOW NAME"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"FILM TYPE"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"DIMENSIONS"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"LAYERS"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"STATUS"}),(0,s.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900",children:"ACTIONS"})]})}),(0,s.jsx)("tbody",{children:ue.map(function(e){var t,r,a,n,i;return(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.windowName}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",(null===(t=e.createdAt)||void 0===t?void 0:t.toLocaleDateString())||"Unknown"]})]})}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsx)("span",{className:"text-blue-600 font-medium",children:e.filmType})}),(0,s.jsxs)("td",{className:"py-4 px-4 text-gray-900",children:[e.length," x ",e.width," cm"]}),(0,s.jsx)("td",{className:"py-4 px-4 text-gray-900",children:e.layers.length}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsx)(nt.W,{status:e.status})}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-end",children:[(0,s.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==(null==d?void 0:d.userType)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){fe(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,s.jsx)(Xe.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){xe(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,s.jsx)(et.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){pe(e.id)},className:"text-gray-400 hover:text-red-600 p-2 mobile-touch-target",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]}),ge(e)&&(0,s.jsxs)("button",{onClick:function(){var t;null===(t=ge(e))||void 0===t||t.action()},className:"flex items-center gap-1 px-2 py-1 text-xs mobile-touch-target ".concat(null===(r=ge(e))||void 0===r?void 0:r.className),children:[(0,s.jsx)(Ge.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:(null===(a=ge(e))||void 0===a?void 0:a.text)||"Complete"})]})]}),(0,s.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,s.jsx)("button",{onClick:function(){var t=document.getElementById("dropdown-".concat(e.id));t&&t.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,s.jsx)(tt.A,{className:"w-4 h-4"})}),(0,s.jsx)("div",{id:"dropdown-".concat(e.id),className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("button",{onClick:function(){var t;fe(e),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(Xe.A,{className:"w-4 h-4"}),"View Details"]}),(0,s.jsxs)("button",{onClick:function(){var t;xe(e),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(et.A,{className:"w-4 h-4"}),"Edit Window"]}),ge(e)&&(0,s.jsxs)("button",{onClick:function(){var t,r;null===(t=ge(e))||void 0===t||t.action(),null===(r=document.getElementById("dropdown-".concat(e.id)))||void 0===r||r.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm ".concat(null===(n=ge(e))||void 0===n?void 0:n.className),children:[(0,s.jsx)(Ge.A,{className:"w-4 h-4"}),null===(i=ge(e))||void 0===i?void 0:i.text]}),(0,s.jsxs)("button",{onClick:function(){var t;pe(e.id),null===(t=document.getElementById("dropdown-".concat(e.id)))||void 0===t||t.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,s.jsx)(G.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})]})})]},e.id)})})]})}),ue.length>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(w.$,{variant:"secondary",size:"sm",icon:rt.A,children:"Previous"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:"1"}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"2"}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"3"}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"..."}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"8"}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"9"}),(0,s.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"10"})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(w.$,{variant:"secondary",size:"sm",icon:st.A,children:"Next"})})]})]})})}),"issues"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,s.jsx)("div",{className:"space-y-4",children:de.filter(function(e){return"failed"===e.status}).map(function(e){return(0,s.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-orange-900",children:e.windowName}),(0,s.jsx)("p",{className:"text-orange-700 mt-1",children:e.notes}),e.issues.length>0&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Issues:"}),(0,s.jsx)("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:e.issues.map(function(e,t){return(0,s.jsx)("li",{children:e},t)})})]})]},e.id)})})]})}),"team"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,s.jsx)("div",{className:"space-y-4",children:[{name:"John Smith",role:"Lead Supervisor",phone:"+1-555-0123"},{name:"Ayesha Khan",role:"Crew Leader",phone:"+1-555-0124"},{name:"Mike Lee",role:"Senior Installer",phone:"+1-555-0125"},{name:"Sarah Johnson",role:"Installer",phone:"+1-555-0126"},{name:"David Chen",role:"Installer",phone:"+1-555-0127"},{name:"Emily Rodriguez",role:"Safety Coordinator",phone:"+1-555-0128"}].map(function(e,t){return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},t)})})]})}),"document"===x&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 documents"})]}),(0,s.jsx)(w.$,{variant:"secondary",icon:te.A,onClick:function(){return i("Upload document functionality coming soon")},className:"w-full sm:w-auto px-4 py-2 mobile-touch-target",children:"Upload document"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QR"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Quality Inspection Report.pdf"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"2.1 MB"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"})]}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs w-fit",children:"Sarah Johnson"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Quality Inspection Report.pdf")},className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete document functionality coming soon")},className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"DOC"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Site Map - Floor Plan.pdf"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"1.95 MB"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"})]}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs w-fit",children:"John Doe"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Site Map - Floor Plan.pdf")},className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete document functionality coming soon")},className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"TXT"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Architectural Plan.txt"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"1.95 MB"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"})]}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs w-fit",children:"Ema Will"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Architectural Plan.txt")},className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete document functionality coming soon")},className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Installation Guides"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Step-by-step installation procedures"})]}),(0,s.jsx)(w.$,{variant:"secondary",icon:te.A,onClick:function(){return i("Upload installation guide functionality coming soon")},className:"w-full sm:w-auto px-4 py-2 mobile-touch-target",children:"Upload document"})]}),(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(O.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No installation guides uploaded yet"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload guides to help your team with installation procedures"})]})]})]}),"notes"===x&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 notes"})]}),(0,s.jsx)("button",{onClick:function(){return i("Add note functionality coming soon")},className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,s.jsx)(m.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 11:15 AM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Quality inspection completed. 13 windows passed, 2 need reinstallation."'})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsx)("button",{onClick:function(){return i("Edit note functionality coming soon")},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(et.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]})}),(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 03:15 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Client requested additional security measures for the main entrance."'})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsx)("button",{onClick:function(){return i("Edit note functionality coming soon")},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(et.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]})}),(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Maria Will"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 11, 2024, 03:15 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Site visit completed. All measurements confirmed."'})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsx)("button",{onClick:function(){return i("Edit note functionality coming soon")},className:"p-1 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(et.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,s.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,s.jsx)(at.Z,{className:"p-5 h-fit",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,s.jsx)("div",{className:"space-y-4",children:me.activityLog.map(function(e){return(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(function(e){return e[0]}).join("")})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,s.jsx)("span",{className:"font-semibold text-orange-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-orange-50 rounded flex items-center justify-center",children:(0,s.jsx)(O.A,{className:"w-3 h-3 text-orange-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,s.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id)})})]})})})]})}),(0,s.jsx)(ot.f,{isOpen:P,onClose:function(){return L(!1)},windowItem:H,onSave:function(e){if(H)g(function(t){return t.map(function(t){return t.id===H.id?gt(gt({},t),e):t})}),i("Window updated successfully");else{var t=gt({id:Date.now().toString(),windowName:e.windowName||"",filmType:e.filmType||"BR",length:e.length||0,width:e.width||0,layers:e.layers||[],status:"Pending",assignedTeamMembers:[],createdAt:new Date,updatedAt:new Date},e);g(function(e){return[].concat(pt(e),[t])}),i("Window added successfully")}L(!1),J(null)}}),(0,s.jsx)(lt.n,{isOpen:R,onClose:function(){return E(!1)},windowItem:V,onUpdate:function(e){V&&(g(function(t){return t.map(function(t){return t.id===V.id?gt(gt({},t),e):t})}),Z(gt(gt({},V),e)),i("Window updated successfully"))}}),(0,s.jsx)(ct.R,{isOpen:q,onClose:function(){return W(!1)},onSubmit:function(e){U(!0),i("Quality check form submitted successfully - QF is marked as completed"),console.log("Quality Check Form Data:",e)}}),(0,s.jsx)(dt.o,{isOpen:Q,onClose:function(){return K(!1)},onSubmit:function(e){K(!1),i("Usage data added successfully"),console.log("Usage Data:",e)}}),(0,s.jsx)(mt.s,{isOpen:ee,onClose:function(){re(!1),ne(null)},onUpdateTrailer:function(e){if(ae){var t=le.map(function(t){return t.id===ae.id?gt(gt(gt({},t),e),{},{updatedAt:(new Date).toISOString()}):t});oe(t),i("Trailer updated successfully"),re(!1),ne(null)}},trailer:ae,existingTrailerNumbers:le.map(function(e){return e.trailerName})})]})},wt=r(1085),St=r(7177),Ct=r(5758);function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var kt=function(e){var t,r,n=e.isOpen,i=e.onClose,l=e.pdfBlob,o=e.fileName,c=(t=(0,a.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],m=c[1];return(0,a.useEffect)(function(){if(l){var e=URL.createObjectURL(l);return m(e),function(){return URL.revokeObjectURL(e)}}},[l]),n?(0,s.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i}),(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-6xl w-full h-[800px] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(Xe.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Report Preview"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(w.$,{variant:"secondary",icon:Ae.A,onClick:function(){if(l){var e=URL.createObjectURL(l),t=document.createElement("a");t.href=e,t.download=o,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)}},className:"px-4 py-2",children:"Download PDF"}),(0,s.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)(y.A,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("div",{className:"flex-1 p-6 overflow-hidden",children:d?(0,s.jsx)("iframe",{src:d,className:"w-full h-full border-0 rounded-lg",title:"Project Report PDF"}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading PDF preview..."})]})})})]})]})}):null},Dt=r(5085),Ot=function(e){var t=new Dt.Ay,r=t.internal.pageSize.getWidth(),s=t.internal.pageSize.getHeight(),a=20,n=a,i=function(e,s){t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(0,0,0);var n=function(e,s,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.splitTextToSize(e,r-40);return t.text(i,s,a),a+i.length*(n.fontSize||10)*.4}(e,a,s,{fontSize:14});return t.setLineWidth(.5),t.line(a,n+3,r-a,n+3),n+10},l=function(e,s,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.setFontSize(10),t.setFont("helvetica",i?"bold":"normal"),t.setTextColor(0,0,0),t.text(e,30,n),t.text(s,r-a-10,n,{align:"right"}),n+5};t.setFillColor(41,128,185),t.rect(0,0,r,50,"F"),t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text("SAFE HAVEN",20,18),t.setFillColor(255,255,255),t.circle(20,28,6,"F"),t.setFontSize(8),t.setTextColor(41,128,185),t.text("SH",20,30,{align:"center"}),t.setFontSize(18),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text("PROJECT COMPLETION REPORT",r/2,25,{align:"center"}),n=60,t.setFontSize(12),t.setFont("helvetica","bold"),t.setTextColor(0,0,0),t.text("Project: ".concat(e.projectName),a,n),n+=6,t.text("Project ID: ".concat(e.projectId),a,n),n+=6,t.text("Location: ".concat(e.location),a,n),n+=6,t.text("Duration: ".concat(e.startDate," - ").concat(e.endDate),a,n),n+=6,t.text("Estimated Completion: ".concat(e.estimatedCompletion),a,n),n+=6,t.text("Actual Completion: ".concat(e.actualCompletion),a,n),n=i("EXECUTIVE SUMMARY",n+=12);var o=e.labourCosts.regularCost+e.labourCosts.overtimeCost+e.travelAccommodation.totalTravelAccommodation;n=l("Total Project Cost","$".concat(o.toLocaleString()),n,!0),n=l("Square Footage Completed","".concat(e.squareFootage.operationsMeasurement.toLocaleString()," sq ft"),n),n=l("Total Hours Worked","".concat(e.totalHoursSpent," hours"),n),n=l("Team Size","".concat(e.totalPeopleWorked," people"),n),n=l("Quality Success Rate","".concat(e.qualityChecks.successRate,"%"),n),n=i("SQUARE FOOTAGE ANALYSIS",n+=10),n=l("Sales Estimate","".concat(e.squareFootage.salesEstimate.toLocaleString()," sq ft"),n),n=l("Operations Measurement","".concat(e.squareFootage.operationsMeasurement.toLocaleString()," sq ft"),n),n=l("Variance","".concat(e.squareFootage.variance>0?"+":"").concat(e.squareFootage.variance," sq ft"),n),n=l("Variance Percentage","".concat(e.squareFootage.variancePercentage>0?"+":"").concat(e.squareFootage.variancePercentage,"%"),n),n=i("LABOUR COST BREAKDOWN",n+=10),n=l("Regular Hours","".concat(e.labourCosts.regularHours," hrs"),n),n=l("Overtime Hours","".concat(e.labourCosts.overtimeHours," hrs"),n),n=l("Estimated Hours","".concat(e.labourCosts.estimatedHours," hrs"),n),n=l("Actual Hours","".concat(e.labourCosts.actualHours," hrs"),n),n=l("Actual Overtime Hours","".concat(e.labourCosts.actualOvertimeHours," hrs"),n),n=l("Overtime Percentage","".concat(e.labourCosts.overtimePercentage,"%"),n),n=l("Regular Cost","$".concat(e.labourCosts.regularCost.toLocaleString()),n),n=l("Overtime Cost","$".concat(e.labourCosts.overtimeCost.toLocaleString()),n),n=i("FILM USAGE & WASTE ANALYSIS",n+=10),n=l("Total Film Used","".concat(e.filmUsage.totalFilmUsed.toLocaleString()," sq ft"),n),n=l("Film Recut","".concat(e.filmUsage.filmRecut," sq ft"),n),n=l("Waste Percentage","".concat(e.filmUsage.wastePercentage,"%"),n),n=l("Recut Percentage","".concat(e.filmUsage.recutPercentage,"%"),n),n=i("TRAVEL & ACCOMMODATION COSTS",n+=10),n=l("Hotel Cost","$".concat(e.travelAccommodation.hotelCost.toLocaleString()),n),n=l("Flight Cost To Job","$".concat(e.travelAccommodation.flightCostToJob.toLocaleString()),n),n=l("Flight Cost From Job","$".concat(e.travelAccommodation.flightCostFromJob.toLocaleString()),n),n=l("Rental Car Y/N",e.travelAccommodation.rentalCar?"Yes":"No",n),n=l("Rental Cost","$".concat(e.travelAccommodation.rentalCost.toLocaleString()),n),n=l("Total Travel & Accommodation","$".concat(e.travelAccommodation.totalTravelAccommodation.toLocaleString()),n,!0),n=l("Team Members Traveled","".concat(e.travelAccommodation.teamMembersTraveled," people"),n),n=i("QUALITY SUMMARY",n+=10),n=l("Layers Installed","".concat(e.qualityChecks.passed," windows"),n),n=l("Layers Reinstalled","".concat(e.qualityChecks.failed," windows"),n),n=l("Success Rate","".concat(e.qualityChecks.successRate,"%"),n,!0),n=l("Average Quality Score","".concat(e.qualityChecks.averageQualityScore,"%"),n),n=i("TEAM PERFORMANCE",n+=10),e.teamMembers.forEach(function(e,r){n>s-60&&(t.addPage(),n=a),n=l("".concat(e.name," (").concat(e.role,")"),"".concat(e.layersInstalled," layers installed | ").concat(e.layersReinstalled," layers reinstalled | ").concat(e.hoursWorked," hrs | ").concat(e.qualityScore,"% quality"),n)});var c=s-30;return t.setFontSize(8),t.setFont("helvetica","normal"),t.setTextColor(128,128,128),t.text("Safe Haven Project Management",r/2,c,{align:"center"}),t.text("123 Business Street, Suite 100 | City, State 12345",r/2,c+4,{align:"center"}),t.text("Phone: (555) 123-4567 | Email: info@safehaven.com",r/2,c+8,{align:"center"}),t.text("Generated on ".concat((new Date).toLocaleDateString()," at ").concat((new Date).toLocaleTimeString()),r/2,c+14,{align:"center"}),t};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Mt(){var e,t,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function n(r,s,a,n){var o=s&&s.prototype instanceof l?s:l,c=Object.create(o.prototype);return Pt(c,"_invoke",function(r,s,a){var n,l,o,c=0,d=a||[],m=!1,u={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return n=t,l=0,o=e,u.n=r,i}};function x(r,s){for(l=r,o=s,t=0;!m&&c&&!a&&t<d.length;t++){var a,n=d[t],x=u.p,f=n[2];r>3?(a=f===s)&&(o=n[(l=n[4])?5:(l=3,3)],n[4]=n[5]=e):n[0]<=x&&((a=r<2&&x<n[1])?(l=0,u.v=s,u.n=n[1]):x<f&&(a=r<3||n[0]>s||s>f)&&(n[4]=r,n[5]=s,u.n=f,l=0))}if(a||r>1)return i;throw m=!0,s}return function(a,d,f){if(c>1)throw TypeError("Generator is already running");for(m&&1===d&&x(d,f),l=d,o=f;(t=l<2?e:o)||!m;){n||(l?l<3?(l>1&&(u.n=-1),x(l,o)):u.n=o:u.v=o);try{if(c=2,n){if(l||(a="next"),t=n[a]){if(!(t=t.call(n,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=n.return)&&t.call(n),l<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),l=1);n=e}else if((t=(m=u.n<0)?o:r.call(s,u))!==i)break}catch(t){n=e,l=1,o=t}finally{c=1}}return{value:t,done:m}}}(r,a,n),!0),c}var i={};function l(){}function o(){}function c(){}t=Object.getPrototypeOf;var d=[][s]?t(t([][s]())):(Pt(t={},s,function(){return this}),t),m=c.prototype=l.prototype=Object.create(d);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Pt(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return o.prototype=c,Pt(m,"constructor",c),Pt(c,"constructor",o),o.displayName="GeneratorFunction",Pt(c,a,"GeneratorFunction"),Pt(m),Pt(m,a,"Generator"),Pt(m,s,function(){return this}),Pt(m,"toString",function(){return"[object Generator]"}),(Mt=function(){return{w:n,m:u}})()}function Pt(e,t,r,s){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Pt=function(e,t,r,s){function n(t,r){Pt(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!s,configurable:!s,writable:!s}):e[t]=r:(n("next",0),n("throw",1),n("return",2))},Pt(e,t,r,s)}function Lt(e,t,r,s,a,n,i){try{var l=e[n](i),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(s,a)}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach(function(t){Et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Et(e,t,r){return(t=function(e){var t=function(e){if("object"!=Tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Wt=function(e){var t=e.projectStatus,r=void 0===t?"Completed":t,i=((0,n.g)().projectId,(0,n.Zp)(),(0,Oe.d)().showToast),o=Ft((0,a.useState)("project-report"),2),c=o[0],d=o[1],u=Ft((0,a.useState)(!1),2),x=u[0],f=u[1],p=Ft((0,a.useState)(null),2),h=p[0],g=p[1],b=Ft((0,a.useState)(!1),2),y=b[0],j=b[1],v=Ft((0,a.useState)({totalHoursSpent:320,totalPeopleWorked:5,windowLayersReinstalled:2,sheetLayersInstalled:45,estimatedCompletion:"2024-02-15",actualCompletion:"2024-02-14",squareFootage:{salesEstimate:2850,operationsMeasurement:2795,variance:-55,variancePercentage:-1.93},labourCosts:{regularHours:308,regularCost:24640,overtimeHours:12,overtimeCost:1920,actualHours:320,estimatedHours:300,actualOvertimeHours:12,overtimePercentage:3.75},filmUsage:{totalFilmUsed:2850,filmRecut:45,wastePercentage:2.98,recutPercentage:1.58,filmCostPerSqFt:12.5},travelAccommodation:{hotelCost:1800,flightCostToJob:1200,flightCostFromJob:1200,rentalCar:!0,rentalCost:400,totalTravelAccommodation:4600,teamMembersTraveled:5},teamMembers:[{id:"1",name:"John Smith",role:"Lead Supervisor",hoursWorked:80,layersInstalled:12,layersReinstalled:2,qualityScore:98},{id:"2",name:"Ayesha Khan",role:"Crew Leader",hoursWorked:75,layersInstalled:10,layersReinstalled:1,qualityScore:95},{id:"3",name:"Mike Lee",role:"Senior Installer",hoursWorked:70,layersInstalled:8,layersReinstalled:1,qualityScore:92},{id:"4",name:"Sarah Johnson",role:"Installer",hoursWorked:65,layersInstalled:7,layersReinstalled:0,qualityScore:94},{id:"5",name:"David Chen",role:"Installer",hoursWorked:60,layersInstalled:6,layersReinstalled:0,qualityScore:90}]}),1)[0],S=Ft((0,a.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Excellent work quality after reinstallation",issues:[]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T13:00:00Z",notes:"Perfect installation",issues:[]}]),1)[0],C=Rt(Rt({},l.U),{},{progress:100,currentPhase:"Project Completed",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:15,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed final quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"All 15 windows passed final quality check - project completed successfully"},{id:"2",user:"Sarah Johnson",action:"uploaded final project report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"final-project-report.pdf",fileSize:"3.2 MB"},{id:"3",user:"Mike Lee",action:"completed reinstallation of 2 windows in Marriot Windows Installation",time:"6 hours ago",type:"completion",fileName:null,fileSize:null,note:"Windows #12 and #8 successfully reinstalled and quality approved"},{id:"4",user:"Emily Rodriguez",action:"uploaded client satisfaction survey for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"client-satisfaction-survey.pdf",fileSize:"1.1 MB"},{id:"5",user:"David Chen",action:"completed project cleanup for Marriot Windows Installation",time:"1 day ago",type:"completion",fileName:null,fileSize:null,note:"Site cleanup completed, all materials properly disposed"},{id:"6",user:"Ayesha Khan",action:"uploaded final documentation for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"project-documentation-final.pdf",fileSize:"4.8 MB"}]}),A=(Rt(Rt({},C),{},{status:r}),function(){var e,t=(e=Mt().m(function e(){var t,r,s;return Mt().w(function(e){for(;;)switch(e.n){case 0:j(!0);try{t={projectName:C.name||"Project",projectId:C.projectId||"N/A",location:C.location||"N/A",startDate:C.startDate||"N/A",endDate:C.endDate||"N/A",estimatedCompletion:v.estimatedCompletion,actualCompletion:v.actualCompletion,totalHoursSpent:v.totalHoursSpent,totalPeopleWorked:v.totalPeopleWorked,squareFootage:v.squareFootage,labourCosts:v.labourCosts,filmUsage:v.filmUsage,travelAccommodation:v.travelAccommodation,qualityChecks:{passed:k,failed:D,successRate:100,averageQualityScore:94.8},teamMembers:v.teamMembers},r=Ot(t),s=r.output("blob"),g(s),f(!0),i("PDF report generated successfully!")}catch(e){console.error("Error generating PDF:",e),i("Unable to generate report. Please check your connection and try again.")}finally{j(!1)}case 1:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(s,a){var n=e.apply(t,r);function i(e){Lt(n,s,a,i,l,"next",e)}function l(e){Lt(n,s,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()),k=S.filter(function(e){return"passed"===e.status}).length,D=S.filter(function(e){return"failed"===e.status}).length;return S.filter(function(e){return"pending"===e.status}).length,(0,s.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,s.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,s.jsx)("div",{className:"py-6",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-5",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-green-50 text-green-700",children:"Completed"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:C.projectId||"N/A"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:C.location||"N/A"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(Y.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[C.startDate||"N/A"," - ",C.endDate||"N/A"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(K.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Est: ",v.estimatedCompletion," | Act: ",v.actualCompletion]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{className:"font-medium",children:"Safe Haven"}),(0,s.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-xs font-bold",children:"SH"})})]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)(w.$,{variant:"primary",onClick:function(){i("Create Associated Project functionality coming soon")},className:"px-3 py-2",children:"Create Follow-up Project"})})]})}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Overview"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Ge.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Successfully Completed"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,s.jsx)(K.A,{className:"w-4 h-4 text-green-600"})}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:v.totalHoursSpent})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Hours Worked"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,s.jsx)(wt.A,{className:"w-4 h-4 text-green-600"})}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:v.totalPeopleWorked})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Team Members"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,s.jsx)(St.A,{className:"w-4 h-4 text-blue-600"})}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:v.squareFootage.operationsMeasurement})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Square Footage Installed"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-purple-50 rounded-md flex items-center justify-center",children:(0,s.jsx)(ee.A,{className:"w-4 h-4 text-purple-600"})}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:v.sheetLayersInstalled})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Layers Installed"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Completion Status"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"100% Complete"})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"Status: Project completed successfully"}),(0,s.jsxs)("span",{children:["Completed on ",C.endDate||"N/A"]})]})]})]})})}),(0,s.jsx)("div",{className:"py-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,s.jsx)("nav",{className:"flex space-x-8",children:[{id:"project-report",label:"Project Report"},{id:"issues",label:"Quality Issues"},{id:"team",label:"Team"},{id:"document",label:"Documents"},{id:"notes",label:"Project Notes"}].map(function(e){return(0,s.jsx)("button",{onClick:function(){return d(e.id)},className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(c===e.id?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id)})})}),"project-report"===c&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Report"}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)(w.$,{variant:"primary",icon:Ae.A,onClick:A,disabled:y,className:"px-4 py-2",children:y?"Generating...":"Export Report"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(St.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Square Footage Analysis"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Sales Estimate"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[v.squareFootage.salesEstimate.toLocaleString()," sq ft"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Operations Measurement"}),(0,s.jsxs)("span",{className:"font-semibold text-blue-600",children:[v.squareFootage.operationsMeasurement.toLocaleString()," sq ft"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Variance"}),(0,s.jsxs)("span",{className:"font-semibold ".concat(v.squareFootage.variance<0?"text-green-600":"text-red-600"),children:[v.squareFootage.variance>0?"+":"",v.squareFootage.variance," sq ft"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Variance %"}),(0,s.jsxs)("span",{className:"font-semibold ".concat(v.squareFootage.variancePercentage<0?"text-green-600":"text-red-600"),children:[v.squareFootage.variancePercentage>0?"+":"",v.squareFootage.variancePercentage,"%"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee.A,{className:"w-5 h-5 text-purple-600"}),(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Labour Cost Breakdown"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Regular Hours"}),(0,s.jsxs)("span",{className:"font-semibold text-blue-600",children:[v.labourCosts.regularHours," hrs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Overtime Hours"}),(0,s.jsxs)("span",{className:"font-semibold text-orange-600",children:[v.labourCosts.overtimeHours," hrs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Estimated Hours"}),(0,s.jsxs)("span",{className:"font-semibold text-blue-600",children:[v.labourCosts.estimatedHours," hrs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Actual Hours"}),(0,s.jsxs)("span",{className:"font-semibold text-green-600",children:[v.labourCosts.actualHours," hrs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Actual Overtime Hours"}),(0,s.jsxs)("span",{className:"font-semibold text-orange-600",children:[v.labourCosts.actualOvertimeHours," hrs"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Overtime Percentage"}),(0,s.jsxs)("span",{className:"font-semibold text-purple-600",children:[v.labourCosts.overtimePercentage,"%"]})]})]})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Ge.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Quality Summary"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:k}),(0,s.jsx)("div",{className:"text-sm text-green-700 font-medium",children:"Layers Installed"})]}),(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600 mb-1",children:D}),(0,s.jsx)("div",{className:"text-sm text-red-700 font-medium",children:"Layers Reinstalled"})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600 mb-1",children:"100%"}),(0,s.jsx)("div",{className:"text-sm text-green-700 font-medium",children:"Success Rate"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"94.8%"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 font-medium",children:"Average Quality Score"})]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Ct.A,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Film Usage & Waste Analysis"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Total Film Used"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[v.filmUsage.totalFilmUsed.toLocaleString()," sq ft"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Film Recut"}),(0,s.jsxs)("span",{className:"font-semibold text-orange-600",children:[v.filmUsage.filmRecut," sq ft"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Waste Percentage"}),(0,s.jsxs)("span",{className:"font-semibold text-red-600",children:[v.filmUsage.wastePercentage,"%"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(X.A,{className:"w-5 h-5 text-indigo-600"}),(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Travel & Accommodation"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Hotel Cost"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",v.travelAccommodation.hotelCost.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Flight Cost To Job"}),(0,s.jsxs)("span",{className:"font-semibold text-blue-600",children:["$",v.travelAccommodation.flightCostToJob.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Flight Cost From Job"}),(0,s.jsxs)("span",{className:"font-semibold text-blue-600",children:["$",v.travelAccommodation.flightCostFromJob.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Rental Car Y/N"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:v.travelAccommodation.rentalCar?"Yes":"No"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Rental Cost"}),(0,s.jsxs)("span",{className:"font-semibold text-orange-600",children:["$",v.travelAccommodation.rentalCost.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Total Travel & Accommodation"}),(0,s.jsxs)("span",{className:"font-semibold text-indigo-600",children:["$",v.travelAccommodation.totalTravelAccommodation.toLocaleString()]})]})]})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Team Performance Summary"}),(0,s.jsx)("div",{className:"space-y-3",children:v.teamMembers.map(function(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No of Layers Installed"}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:e.layersInstalled})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Issues Reported"}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:e.layersReinstalled})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Hours"}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:e.hoursWorked})]})]})]},e.id)})})]})]})})}),"issues"===c&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quality Issues"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-green-900",children:"All Issues Resolved"}),(0,s.jsx)("p",{className:"text-green-700 mt-1",children:"All quality issues have been successfully addressed and resolved"})]}),(0,s.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:"Resolution Summary"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"2 windows were reinstalled and passed final quality inspection"})]})]})]})}),"team"===c&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,s.jsx)("div",{className:"space-y-4",children:v.teamMembers.map(function(e){return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(function(e){return e[0]}).join("")})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.layersInstalled," layers installed"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.layersReinstalled," layers reinstalled"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.hoursWorked," hours worked"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.qualityScore,"% quality"]})]},e.id)})})]})}),"document"===c&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 documents"})]}),(0,s.jsx)(w.$,{variant:"secondary",icon:te.A,onClick:function(){return i("Document upload will be available soon")},className:"px-4 py-2",children:"Add Document"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-green-600",children:"FPR"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Final Project Report.pdf"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"3.2 MB"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Jan 20, 2024, 04:00 PM"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs",children:"Sarah Johnson"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Final Project Report.pdf")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Document deletion will be available soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"CSS"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Client Satisfaction Survey.pdf"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"1.1 MB"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Jan 19, 2024, 02:30 PM"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Emily Rodriguez"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Client Satisfaction Survey.pdf")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Document deletion will be available soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"DOC"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Project Documentation Final.pdf"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"4.8 MB"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Jan 18, 2024, 11:00 AM"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ayesha Khan"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Project Documentation Final.pdf")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Document deletion will be available soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QIR"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"Quality Inspection Report.pdf"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,s.jsx)("span",{children:"2.1 MB"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs",children:"John Smith"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:function(){return i("Downloading Quality Inspection Report.pdf")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(Ae.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:function(){return i("Document deletion will be available soon")},className:"p-2 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})]})]})]})]})}),"notes"===c&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 notes"})]}),(0,s.jsx)("button",{onClick:function(){return i("Add note functionality coming soon")},className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,s.jsx)(m.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 04:00 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Project completed successfully! All 15 windows installed and quality approved. Client is very satisfied with the work."'})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})})]})}),(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Sarah Johnson"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 02:30 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Final quality inspection completed. All windows passed with excellent results. Ready for client handover."'})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})})]})}),(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"Mike Lee"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 19, 2024, 03:15 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Reinstallation of windows #12 and #8 completed successfully. Both windows now pass quality standards."'})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})})]})}),(0,s.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:"David Chen"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 18, 2024, 05:30 PM"})]}),(0,s.jsx)("p",{className:"text-gray-700",children:'"Site cleanup completed. All materials properly disposed and site returned to original condition."'})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 ml-4",children:(0,s.jsx)("button",{onClick:function(){return i("Delete note functionality coming soon")},className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(G.A,{className:"w-4 h-4"})})})]})})]})]})})]}),(0,s.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,s.jsx)(at.Z,{className:"p-5 h-fit",children:(0,s.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,s.jsx)("div",{className:"space-y-4",children:(C.activityLog||[]).map(function(e){return(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(function(e){return e[0]}).join("")})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,s.jsx)("span",{className:"font-semibold text-green-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,s.jsx)(O.A,{className:"w-3 h-3 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,s.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id)})})]})})})]})}),(0,s.jsx)(kt,{isOpen:x,onClose:function(){return f(!1)},pdfBlob:h,fileName:"".concat((C.name||"Project").replace(/\s+/g,"_"),"_Project_Report_").concat((new Date).toISOString().split("T")[0],".pdf")})]})};function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach(function(t){Ht(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ht(e,t,r){return(t=function(e){var t=function(e){if("object"!=Bt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Vt=function(){var e=(0,n.g)().projectId,t=Jt((0,i.ok)(),1)[0],r=Jt((0,a.useState)(l.U),2),d=r[0],m=r[1],u=((0,c.A)().user,t.get("status")),x=t.get("title"),f=u||d.status;(0,o.KF)([{label:"Project Portfolio",href:"/projects"},{label:"Project Details",href:void 0}],[e,x,d.title]);var p=["PV75","PV90","UB","WB"].includes(f),h="WIP"===f,g="QF"===f,b="Completed"===f;return(0,a.useEffect)(function(){u&&m(function(e){return zt(zt({},e),{},{status:u})})},[u]),p?(0,s.jsx)(Qe,{}):h?(0,s.jsx)(Pe.ProjectDetailsWIP,{projectStatus:"WIP"}):g?(0,s.jsx)(Nt,{projectStatus:"QF"}):b?(0,s.jsx)(Wt,{projectStatus:"Completed"}):(0,s.jsx)(Qe,{})}},2080:(e,t,r)=>{r.d(t,{Qp:()=>n});var s=r(4159),a=function(e){return{id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:"".concat(e.city,", ").concat(e.state),currentLocation:"".concat(e.city,", ").concat(e.state),status:function(e){switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}}(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(function(e){return{sheetType:e.sheetType,required:e.threshold,available:e.currentStock}}),tools:e.inventory.tools.map(function(e){return{toolName:e.toolName,available:e.currentStock}})}}},n=function(){return s.d.map(a)}},3166:(e,t,r)=>{r.d(t,{N:()=>s});var s=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},4099:(e,t,r)=>{function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}r.d(t,{xw:()=>n});var a,n=[{id:"win-001",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:3,status:"Pending",assignedTeamMembers:[],installationBreakdown:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",projectId:"proj-001"},{id:"win-002",windowName:"Conference Room Window",filmType:"Riot+",length:200,width:100,layers:2,status:"In Progress",assignedTeamMembers:["tm-001","tm-002"],installationBreakdown:[{layerNumber:1,layerName:"Interior Layer",installerName:"John Smith",installerId:"tm-001",installedAt:"2024-01-16T09:00:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T09:00:00Z",projectId:"proj-001"},{id:"win-003",windowName:"Reception Area Window",filmType:"Security",length:150,width:90,layers:1,status:"Complete",assignedTeamMembers:["tm-003"],installationBreakdown:[{layerNumber:1,layerName:"Security Film",installerName:"Mike Lee",installerId:"tm-003",installedAt:"2024-01-16T14:30:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:30:00Z",projectId:"proj-001"}].concat(function(e){if(Array.isArray(e))return s(e)}(a=Array.from({length:57},function(e,t){var r=t+4,s=["BR","Riot","Riot+","Security","Privacy","Decorative","Other"],a=["Pending","In Progress","Complete","Reinstallation Needed"],n=s[t%s.length],i=a[t%a.length],l=Math.floor(3*Math.random())+1,o="In Progress"===i||"Complete"===i?["tm-001","tm-002","tm-003","tm-004","tm-005"].slice(0,Math.floor(3*Math.random())+1):[],c="Complete"===i||"In Progress"===i?Array.from({length:l},function(e,t){return{layerNumber:t+1,layerName:"Layer ".concat(t+1),installerName:"Installer ".concat(String.fromCharCode(65+t)),installerId:"tm-".concat(String(t+1).padStart(3,"0")),installedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),status:Math.random()>.1?"installed":"reinstallation_needed"}}):[];return{id:"win-".concat(String(r).padStart(3,"0")),windowName:"Window ".concat(r),filmType:n,length:Math.floor(200*Math.random())+80,width:Math.floor(120*Math.random())+60,layers:l,status:i,assignedTeamMembers:o,installationBreakdown:c,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),projectId:"proj-001"}}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},5822:(e,t,r)=>{r.d(t,{b:()=>h});var s=r(4848),a=r(6540),n=r(9775),i=r(1085),l=r(7821),o=r(74);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var h=function(e){var t=e.isOpen,r=e.onClose,c=e.onSave,d=e.onEdit,h=e.editingTravel,g=e.availableTeamMembers,b=x((0,a.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),2),y=b[0],j=b[1],v=x((0,a.useState)({}),2),N=v[0],w=v[1],S=!!h;(0,a.useEffect)(function(){t&&(j(h?{travelType:h.travelType,departureLocation:h.departureLocation,destination:h.destination,departureDate:h.departureDate,returnDate:h.returnDate||"",assignedTeamMembers:h.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),w({}))},[t,h]);var C=function(e,t){j(function(r){return m(m({},r),{},u({},e,t))}),N[e]&&w(function(t){return m(m({},t),{},u({},e,""))})},A=function(){return g.filter(function(e){return y.assignedTeamMembers.includes(e.id)})};return(0,s.jsx)(l.a,{isOpen:t,onClose:r,title:S?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t={},y.departureLocation.trim()||(t.departureLocation="Departure location is required"),y.destination.trim()||(t.destination="Destination is required"),y.departureDate||(t.departureDate="Departure date is required"),0===y.assignedTeamMembers.length&&(t.assignedTeamMembers="At least one team member must be selected"),w(t),0===Object.keys(t).length){var t,s=m(m({},y),{},{returnDate:y.returnDate||void 0});S&&d?d(h.id,s):c(s),r()}},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,s.jsxs)("select",{value:y.travelType,onChange:function(e){return C("travelType",e.target.value)},className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Flight",children:"Flight"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Train",children:"Train"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,s.jsx)("input",{type:"text",value:y.departureLocation,onChange:function(e){return C("departureLocation",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(N.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),N.departureLocation&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.departureLocation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,s.jsx)("input",{type:"text",value:y.destination,onChange:function(e){return C("destination",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(N.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),N.destination&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.destination})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,s.jsx)("input",{type:"date",value:y.departureDate,onChange:function(e){return C("departureDate",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(N.departureDate?"border-red-300":"border-gray-300")}),N.departureDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.departureDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,s.jsx)("input",{type:"date",value:y.returnDate,onChange:function(e){return C("returnDate",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),A().length>0&&(0,s.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",A().length,")"]})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:A().map(function(e){return(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id)})})]}),(0,s.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:g.map(function(e){return(0,s.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:y.assignedTeamMembers.includes(e.id),onChange:function(){return t=e.id,void j(function(e){return m(m({},e),{},{assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(function(e){return e!==t}):[].concat((r=e.assignedTeamMembers,function(e){if(Array.isArray(e))return p(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||f(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[t])});var r});var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id)})}),N.assignedTeamMembers&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:N.assignedTeamMembers})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(o.$,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsx)(o.$,{type:"submit",variant:"primary",icon:n.A,children:S?"Update Travel Plan":"Add Travel Plan"})]})]})})}},7261:(e,t,r)=>{r.d(t,{e:()=>c});var s=r(4848),a=r(6540);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var l={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},o=function(e){var t=e.name,r=e.size,a=void 0===r?"md":r,n=e.className,i=void 0===n?"":n,o=t.split(" ").map(function(e){return e.charAt(0).toUpperCase()}).join("").substring(0,2);return(0,s.jsx)("div",{className:"bg-[#0D76BF] rounded-full flex items-center justify-center ".concat(l[a]," ").concat(i),children:(0,s.jsx)("span",{className:"text-white font-medium",children:o})})},c=function(e){var t=e.src,r=e.name,i=e.size,c=void 0===i?"md":i,d=e.className,m=void 0===d?"":d,u=e.showInitials,x=void 0===u||u,f=n((0,a.useState)(!1),2),p=f[0],h=f[1],g=n((0,a.useState)(!0),2),b=g[0],y=g[1],j=t&&!p&&!b;return!j&&x?(0,s.jsx)(o,{name:r,size:c,className:m}):j?(0,s.jsxs)("div",{className:"relative ".concat(m),children:[b&&(0,s.jsx)("div",{className:"bg-gray-200 rounded-full flex items-center justify-center ".concat(l[c]," absolute inset-0"),children:(0,s.jsx)("div",{className:"animate-pulse bg-gray-300 rounded-full w-full h-full"})}),(0,s.jsx)("img",{src:t,alt:"".concat(r," avatar"),className:"rounded-full object-cover ".concat(l[c]," ").concat(b?"opacity-0":"opacity-100"," transition-opacity duration-200"),onError:function(){h(!0),y(!1)},onLoad:function(){y(!1)}})]}):(0,s.jsx)("div",{className:"bg-gray-200 rounded-full flex items-center justify-center ".concat(l[c]," ").concat(m),children:(0,s.jsx)("span",{className:"text-gray-500 font-medium",children:"?"})})}},8503:(e,t,r)=>{r.d(t,{C:()=>f});var s=r(4848),a=r(6540),n=r(1813),i=r(7821),l=r(74);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,a,n,i,l=[],o=!0,c=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=n.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var f=function(e){var t=e.isOpen,r=e.onClose,o=e.onSave,c=e.onEdit,x=e.editingLogistics,f=u((0,a.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),2),p=f[0],h=f[1],g=u((0,a.useState)({}),2),b=g[0],y=g[1],j=!!x;(0,a.useEffect)(function(){t&&(h(x?{name:x.name,type:x.type,description:x.description,quantity:x.quantity,location:x.location,expectedDate:x.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),y({}))},[t,x]);var v=function(e,t){h(function(r){return d(d({},r),{},m({},e,t))}),b[e]&&y(function(t){return d(d({},t),{},m({},e,""))})};return(0,s.jsx)(i.a,{isOpen:t,onClose:r,title:j?"Edit Logistics":"Add Logistics",size:"md",children:(0,s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t={},p.name.trim()||(t.name="Logistics name is required"),p.description.trim()||(t.description="Description is required"),p.quantity<=0&&(t.quantity="Quantity must be greater than 0"),p.location.trim()||(t.location="Location is required"),p.expectedDate||(t.expectedDate="Expected date is required"),y(t),0===Object.keys(t).length){var t,s=d(d({},p),{},{quantity:Number(p.quantity)});j&&c?c(x.id,s):o(s),r()}},className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,s.jsx)("input",{type:"text",value:p.name,onChange:function(e){return v("name",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(b.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),b.name&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:b.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,s.jsxs)("select",{value:p.type,onChange:function(e){return v("type",e.target.value)},className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"Material",children:"Material"}),(0,s.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,s.jsx)("textarea",{value:p.description,onChange:function(e){return v("description",e.target.value)},rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(b.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),b.description&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:b.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,s.jsx)("input",{type:"number",min:"1",value:p.quantity,onChange:function(e){return v("quantity",parseInt(e.target.value)||0)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(b.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),b.quantity&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:b.quantity})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,s.jsx)("input",{type:"text",value:p.location,onChange:function(e){return v("location",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(b.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),b.location&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:b.location})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,s.jsx)("input",{type:"date",value:p.expectedDate,onChange:function(e){return v("expectedDate",e.target.value)},className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 ".concat(b.expectedDate?"border-red-300":"border-gray-300")}),b.expectedDate&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:b.expectedDate})]})]}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,s.jsx)(l.$,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),(0,s.jsx)(l.$,{type:"submit",variant:"primary",icon:n.A,children:j?"Update Logistics":"Add Logistics"})]})]})})}}}]);