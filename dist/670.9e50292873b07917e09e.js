/*! For license information please see 670.9e50292873b07917e09e.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[670],{3670:(e,t,r)=>{r.r(t),r.d(t,{Trailers:()=>Se});var n=r(4848),s=r(6540),a=r(7767),i=r(7596),l=r(339),c=r(1813),o=r(6913),d=r(1397),u=r(1314),m=r(5732),x=r(8954),f=r(1741),h=r(3175),p=r(799),y=r(5426),g=r(3492),v=r(82),b=r(4810),j=r(885),N=r(8931),w=r(6368),S=r(74),k=r(6813),T=r(4186),A=r(3774);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw s}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t=e.trailers,r=e.onCreateTrailer,a=e.onViewTrailer,c=e.onEditTrailer,o=e.onDeleteTrailer,u=e.isExecutive,m=void 0!==u&&u,x=e.selectedTrailers,f=void 0===x?[]:x,h=e.onSelectTrailer,N=e.onSelectAllTrailers,C=(e.onBulkAction,(0,T.c)().isMobile),P=O((0,s.useState)(""),2),I=P[0],D=P[1],z=O((0,s.useState)(""),2),L=z[0],M=z[1],$=O((0,s.useState)(""),2),_=$[0],R=$[1],U=O((0,s.useState)("trailerName"),2),F=U[0],Z=U[1],G=O((0,s.useState)("asc"),2),B=G[0],W=G[1],V=O((0,s.useState)(1),2),H=V[0],K=V[1],Y=O((0,s.useState)(10),2),q=Y[0],J=Y[1],Q=O((0,s.useState)(null),2),X=Q[0],ee=Q[1],te=(0,s.useRef)(null);(0,s.useEffect)(function(){var e=function(e){te.current&&!te.current.contains(e.target)&&ee(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var re=(0,s.useMemo)(function(){var e=(0,A.Hc)(t,{status:L||void 0,state:_||void 0,search:I||void 0});return(0,A.LB)(e,F,B)},[t,I,L,_,F,B]),ne=re.length,se=Math.ceil(ne/q),ae=(H-1)*q,ie=ae+q,le=re.slice(ae,ie);return s.useEffect(function(){K(1)},[I,L,_]),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,n.jsx)(S.$,{onClick:r,icon:l.A,children:"Add New Trailer"})]}),(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(p.A,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search trailers by name or registration number..",value:I,onChange:function(e){return D(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,n.jsxs)("select",{value:L,onChange:function(e){return M(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,n.jsx)("option",{value:"",children:"All Statuses"}),(0,n.jsx)("option",{value:"available",children:"Available"}),(0,n.jsx)("option",{value:"low",children:"Low Stock"}),(0,n.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,n.jsxs)("select",{value:_,onChange:function(e){return R(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,n.jsx)("option",{value:"",children:"All Locations"}),A.hj.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})]})]})}),!C&&(0,n.jsx)(E,{trailers:le,sortBy:F,sortOrder:B,onSort:function(e){F===e?W("asc"===B?"desc":"asc"):(Z(e),W("asc"))},onViewTrailer:a,onEditTrailer:c,onDeleteTrailer:o,activeDropdown:X,onDropdownToggle:function(e){ee(X===e?null:e)},onMenuAction:function(e,t){switch(ee(null),e){case"view":a(t);break;case"edit":c(t);break;case"delete":o(t)}},dropdownRef:te,isExecutive:m,selectedTrailers:f,onSelectTrailer:h,onSelectAllTrailers:N}),C&&(0,n.jsx)("div",{className:"space-y-4",children:le.map(function(e){return(0,n.jsxs)(w.Z,{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.trailerName}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.registrationNumber})]}),(0,n.jsx)(k.W,{status:e.status})]}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(d.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:e.parkingAddress})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(i.A,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end mt-4 gap-2",children:[(0,n.jsx)(S.$,{variant:"ghost",size:"sm",onClick:function(){return a(e)},icon:y.A,children:"View"}),(0,n.jsx)(S.$,{variant:"ghost",size:"sm",onClick:function(){return c(e)},icon:g.A,children:"Edit"}),(0,n.jsx)(S.$,{variant:"ghost",size:"sm",onClick:function(){return o(e)},icon:v.A,className:"text-red-600 hover:text-red-700",children:"Delete"})]})]},e.id)})}),se>1&&(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("label",{htmlFor:"itemsPerPage",className:"text-sm text-gray-600",children:"Items per page:"}),(0,n.jsxs)("select",{id:"itemsPerPage",value:q,onChange:function(e){return t=Number(e.target.value),J(t),void K(1);var t},className:"px-2 py-1 pr-6 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,n.jsx)("option",{value:5,children:"5"}),(0,n.jsx)("option",{value:10,children:"10"}),(0,n.jsx)("option",{value:20,children:"20"}),(0,n.jsx)("option",{value:50,children:"50"})]})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",ae+1,"-",Math.min(ie,ne)," of ",ne," trailers"]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(S.$,{variant:"secondary",size:"sm",onClick:function(){H>1&&K(H-1)},disabled:1===H,className:"p-2",children:(0,n.jsx)(b.A,{size:16})}),(0,n.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:se},function(e,t){return t+1}).map(function(e){return(0,n.jsx)("button",{onClick:function(){return function(e){K(e)}(e)},className:"px-3 py-1 text-sm rounded ".concat(H===e?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:e},e)})}),(0,n.jsx)(S.$,{variant:"secondary",size:"sm",onClick:function(){H<se&&K(H+1)},disabled:H===se,className:"p-2",children:(0,n.jsx)(j.A,{size:16})})]})]})})]})},E=function(e){var t=e.trailers,r=e.sortBy,s=e.sortOrder,a=e.onSort,l=e.onViewTrailer,c=(e.onEditTrailer,e.onDeleteTrailer,e.activeDropdown),o=e.onDropdownToggle,d=e.onMenuAction,u=e.dropdownRef;if(e.isExecutive,e.selectedTrailers,e.onSelectTrailer,e.onSelectAllTrailers,0===t.length)return(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"text-gray-400 mb-4",children:(0,n.jsx)(i.A,{size:48,className:"mx-auto"})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});var m=function(e){var t=e.field,i=e.children;return(0,n.jsxs)("button",{onClick:function(){return a(t)},className:"flex items-center gap-1 text-left hover:text-primary transition-colors",children:[i,r===t&&(0,n.jsx)("span",{className:"text-primary",children:"asc"===s?"↑":"↓"})]})};return(0,n.jsx)(w.Z,{padding:"sm",children:(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,n.jsx)(m,{field:"trailerName",children:"Trailer Name"})}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,n.jsx)(m,{field:"registrationNumber",children:"Registration"})}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,n.jsx)(m,{field:"location",children:"Location"})}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,n.jsx)(m,{field:"status",children:"Status"})}),(0,n.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(function(e){return(0,n.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:function(){return l(e)},children:[(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.trailerName})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:e.registrationNumber})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,n.jsxs)("div",{className:"font-medium",children:[e.city,", ",e.state]}),(0,n.jsx)("div",{className:"text-gray-500 text-xs",children:e.parkingAddress})]})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)(k.W,{status:e.status,unavailableUntil:e.unavailableUntil})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,n.jsxs)("div",{className:"relative inline-block text-left",ref:c===e.id?u:null,onClick:function(e){return e.stopPropagation()},children:[(0,n.jsx)("button",{type:"button",className:"flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:function(t){t.stopPropagation(),o(e.id)},id:"menu-button-".concat(e.id),"aria-expanded":c===e.id,"aria-haspopup":"true",children:(0,n.jsx)(N.A,{size:20})}),c===e.id&&(0,n.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",onClick:function(e){return e.stopPropagation()},children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("view",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,n.jsx)(y.A,{size:16,className:"mr-2"}),"View Details"]}),(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("edit",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,n.jsx)(g.A,{size:16,className:"mr-2"}),"Edit Trailer"]}),(0,n.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("delete",e)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,n.jsx)(v.A,{size:16,className:"mr-2"}),"Delete Trailer"]})]})})]})})]},e.id)})})]})})})},I=r(8252),D=r(3459),z=r(7348),L=r(7720),M=r(4574);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function U(e,t,r){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw s}}return l}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return G(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e){var t=e.trailer,r=e.onBack,a=e.onEdit,u=e.onDelete,m=e.onRestock,x=F((0,s.useState)("tools"),2),f=x[0],h=x[1],p=F((0,s.useState)(t),2),y=p[0],b=p[1];return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(S.$,{variant:"ghost",onClick:r,icon:I.A,className:"p-2",children:"Back"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:y.trailerName}),(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Registration: ",y.registrationNumber]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:["available"===y.status&&(0,n.jsx)(S.$,{variant:"primary",onClick:function(){console.log("Assign trailer to project:",y.trailerName)},icon:l.A,children:"Assign to Project"}),(0,n.jsx)(S.$,{variant:"secondary",onClick:function(){return a(y)},icon:g.A,children:"Edit Trailer"}),(0,n.jsx)(S.$,{variant:"ghost",onClick:function(){return u(y)},icon:v.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Delete"})]})]}),(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,n.jsx)(k.W,{status:y.status,size:"md",unavailableUntil:y.unavailableUntil})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,n.jsx)(i.A,{size:20,className:"text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Name"}),(0,n.jsx)("div",{className:"font-medium text-gray-900",children:y.trailerName})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,n.jsx)(D.A,{size:20,className:"text-green-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,n.jsx)("div",{className:"font-medium text-gray-900",children:y.registrationNumber})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,n.jsx)(d.A,{size:20,className:"text-purple-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Address"}),(0,n.jsx)("div",{className:"font-medium text-gray-900",children:y.parkingAddress})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,n.jsx)(d.A,{size:20,className:"text-orange-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm text-gray-600",children:"Current Location"}),(0,n.jsx)("div",{className:"font-medium text-gray-500",children:"-"})]})]})]})]})}),(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"}),(0,n.jsx)(S.$,{variant:"secondary",onClick:function(){var e,t=R(R({},y),{},{inventory:{tools:y.inventory.tools.map(function(e){return R(R({},e),{},{currentStock:e.threshold,status:"good"})}),filmSheets:y.inventory.filmSheets.map(function(e){return R(R({},e),{},{currentStock:e.threshold,status:"good"})})},status:"available",updatedAt:(new Date).toISOString(),activityLogs:[].concat((e=y.activityLogs,function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{id:"restock-".concat(Date.now()),type:"inventory_updated",description:"Trailer inventory restocked to threshold levels",timestamp:(new Date).toISOString(),systemGenerated:!0,user:"System"}])});b(t),null==m||m(t)},icon:z.A,className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:"Mark Restocked"})]}),(0,n.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,n.jsx)("button",{onClick:function(){return h("tools")},className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("tools"===f?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)(c.A,{size:16}),"Tools (",y.inventory.tools.length,")"]})}),(0,n.jsx)("button",{onClick:function(){return h("sheets")},className:"flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("sheets"===f?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,n.jsx)(o.A,{size:16}),"Film Sheets (",y.inventory.filmSheets.length,")"]})})]}),"tools"===f&&(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.inventory.tools.map(function(e,t){return(0,n.jsx)(W,{item:e},t)})})]})}),"sheets"===f&&(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sheet Type"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,n.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.inventory.filmSheets.map(function(e,t){return(0,n.jsx)(V,{item:e},t)})})]})})]})}),(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(L.A,{size:20,className:"text-gray-600"}),(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===y.activityLogs.length?(0,n.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,n.jsx)("div",{className:"space-y-3",children:y.activityLogs.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()}).map(function(e){return(0,n.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"p-1 rounded-full ".concat(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,n.jsx)(L.A,{size:14,className:"text-blue-600"}):(0,n.jsx)(M.A,{size:14,className:"text-green-600"})})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,n.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,n.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var t})})]})})]})},W=function(e){var t=e.item;return(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.toolName})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:t.currentStock})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:t.threshold})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(k.W,{status:t.status}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("critical"===t.status?"bg-red-500":"low"===t.status?"bg-amber-500":"bg-green-500"),style:{width:"".concat(0===t.threshold?100:Math.min(t.currentStock/t.threshold*100,100),"%")}})}),(0,n.jsx)("div",{className:"text-xs text-gray-600",children:t.currentStock>t.threshold?(0,n.jsxs)("span",{className:"text-green-600",children:["+",t.currentStock-t.threshold," above threshold"]}):t.currentStock===t.threshold?(0,n.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===t.currentStock?(0,n.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,n.jsxs)("span",{className:"text-red-600",children:[t.threshold-t.currentStock," below threshold"]})})]})})]})},V=function(e){var t=e.item;return(0,n.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.sheetType})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:t.currentStock})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:t.threshold})}),(0,n.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(k.W,{status:t.status}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("critical"===t.status?"bg-red-500":"low"===t.status?"bg-amber-500":"bg-green-500"),style:{width:"".concat(0===t.threshold?100:Math.min(t.currentStock/t.threshold*100,100),"%")}})}),(0,n.jsx)("div",{className:"text-xs text-gray-600",children:t.currentStock>t.threshold?(0,n.jsxs)("span",{className:"text-green-600",children:["+",t.currentStock-t.threshold," above threshold"]}):t.currentStock===t.threshold?(0,n.jsx)("span",{className:"text-amber-600",children:"At threshold"}):0===t.currentStock?(0,n.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,n.jsxs)("span",{className:"text-red-600",children:[t.threshold-t.currentStock," below threshold"]})})]})})]})},H=r(9237),K=r(6628);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function q(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function a(r,n,s,a){var c=n&&n.prototype instanceof l?n:l,o=Object.create(c.prototype);return J(o,"_invoke",function(r,n,s){var a,l,c,o=0,d=s||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,c=e,m.n=r,i}};function x(r,n){for(l=r,c=n,t=0;!u&&o&&!s&&t<d.length;t++){var s,a=d[t],x=m.p,f=a[2];r>3?(s=f===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((s=r<2&&x<a[1])?(l=0,m.v=n,m.n=a[1]):x<f&&(s=r<3||a[0]>n||n>f)&&(a[4]=r,a[5]=n,m.n=f,l=0))}if(s||r>1)return i;throw u=!0,n}return function(s,d,f){if(o>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,f),l=d,c=f;(t=l<2?e:c)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,c)):m.n=c:m.v=c);try{if(o=2,a){if(l||(s="next"),t=a[s]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),l=1);a=e}else if((t=(u=m.n<0)?c:r.call(n,m))!==i)break}catch(t){a=e,l=1,c=t}finally{o=1}}return{value:t,done:u}}}(r,s,a),!0),o}var i={};function l(){}function c(){}function o(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(J(t={},n,function(){return this}),t),u=o.prototype=l.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,J(e,s,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=o,J(u,"constructor",o),J(o,"constructor",c),c.displayName="GeneratorFunction",J(o,s,"GeneratorFunction"),J(u),J(u,s,"Generator"),J(u,n,function(){return this}),J(u,"toString",function(){return"[object Generator]"}),(q=function(){return{w:a,m}})()}function J(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}J=function(e,t,r,n){function a(t,r){J(e,t,function(e){return this._invoke(t,r,e)})}t?s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},J(e,t,r,n)}function Q(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,s)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(t){re(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw s}}return l}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ie=function(e){var t=e.trailer,r=e.onSave,a=e.onCancel,i=e.existingTrailerNumbers,l=!!t,c=ne((0,s.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,10))},{})}),2),o=c[0],d=c[1],u=ne((0,s.useState)(A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,0))},{})),2),m=u[0],x=u[1],f=ne((0,s.useState)(A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,0))},{})),2),h=f[0],p=f[1],y=ne((0,s.useState)({}),2),g=y[0],v=y[1],b=ne((0,s.useState)(!1),2),j=b[0],N=b[1],k=ne((0,s.useState)([]),2),T=k[0],O=k[1];(0,s.useEffect)(function(){o.state?(O(A.mV[o.state]||[]),d(function(e){return te(te({},e),{},{city:""})})):O([])},[o.state]),(0,s.useEffect)(function(){if(t){var e=A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,t.defaultThreshold))},{});t.inventory.tools.forEach(function(t){e[t.toolName]=t.threshold});var r=A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,10))},{});t.inventory.filmSheets.forEach(function(e){r[e.sheetType]=e.threshold}),d({trailerName:t.trailerName,registrationNumber:t.registrationNumber,parkingAddress:t.parkingAddress||"",state:t.state||"",city:t.city||"",toolThresholds:e,filmSheetThresholds:r});var n=A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,0))},{});t.inventory.tools.forEach(function(e){n[e.toolName]=e.currentStock}),x(n);var s=A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,0))},{});t.inventory.filmSheets.forEach(function(e){s[e.sheetType]=e.currentStock}),p(s)}else d({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,10))},{})}),x(A.w9.reduce(function(e,t){return te(te({},e),{},re({},t.name,0))},{})),p(A.LT.reduce(function(e,t){return te(te({},e),{},re({},t,0))},{})),v({})},[t]);var C=function(e,t){d(function(r){return te(te({},r),{},re({},e,t))}),g[e]&&v(function(t){var r=te({},t);return delete r[e],r})},P=function(){var e,n=(e=q().m(function e(n){var s,a,c,d,u,x,f,p,y;return q().w(function(e){for(;;)switch(e.n){case 0:if(n.preventDefault(),N(!0),s=(0,A.is)(o),a=o.trailerName.trim(),(l?i.filter(function(e){return e!==(null==t?void 0:t.trailerName)}):i).includes(a)&&(s.errors.trailerName="Trailer name already exists",s.isValid=!1),s.isValid){e.n=1;break}return v(s.errors),N(!1),e.a(2);case 1:try{c=A.w9.map(function(e){return{toolName:e.name,currentStock:m[e.name],threshold:o.toolThresholds[e.name],status:0===m[e.name]?"critical":m[e.name]<=o.toolThresholds[e.name]?"low":"good"}}),d=A.LT.map(function(e){return{sheetType:e,currentStock:h[e],threshold:o.filmSheetThresholds[e],status:0===h[e]?"critical":h[e]<=o.filmSheetThresholds[e]?"low":"good"}}),u={tools:c,filmSheets:d},(new Date).toISOString(),x=t?Q(t.activityLogs):[],l&&t?(t.trailerName!==a&&x.push((0,A.WR)("updated","Trailer name changed from ".concat(t.trailerName," to ").concat(a),void 0,!0)),t.registrationNumber!==o.registrationNumber&&x.push((0,A.WR)("updated","Registration number updated",void 0,!0)),t.parkingAddress!==o.parkingAddress&&x.push((0,A.WR)("address_changed","Parking address changed from ".concat(t.parkingAddress," to ").concat(o.parkingAddress),void 0,!0)),t.state!==o.state&&x.push((0,A.WR)("state_changed","State changed from ".concat(t.state," to ").concat(o.state),void 0,!0)),t.city!==o.city&&x.push((0,A.WR)("city_changed","City changed from ".concat(t.city," to ").concat(o.city),void 0,!0)),f=t.inventory.tools.some(function(e){var t=c.find(function(t){return t.toolName===e.toolName});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),p=t.inventory.filmSheets.some(function(e){var t=d.find(function(t){return t.sheetType===e.sheetType});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),(f||p)&&x.push((0,A.WR)("inventory_updated","Inventory levels updated",void 0,!0))):x.push((0,A.WR)("created","Trailer ".concat(a," created"),void 0,!0)),y={trailerName:a,registrationNumber:o.registrationNumber.trim(),parkingAddress:o.parkingAddress.trim(),state:o.state,city:o.city,inventory:u,status:"available",activityLogs:x},r(y),v({})}catch(e){console.error("Error saving trailer:",e)}finally{N(!1)}case 2:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(e){X(a,n,s,i,l,"next",e)}function l(e){X(a,n,s,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:l?"Edit Trailer ".concat(null==t?void 0:t.trailerName):"Add New Trailer"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:l?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(S.$,{type:"button",variant:"secondary",onClick:a,disabled:j,icon:H.A,children:"Cancel"}),(0,n.jsx)(S.$,{type:"submit",form:"trailer-form",disabled:j,icon:K.A,children:j?"Saving...":l?"Update Trailer":"Create Trailer"})]})]}),(0,n.jsx)("form",{id:"trailer-form",onSubmit:P,className:"space-y-8",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"trailerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Trailer Name *"}),(0,n.jsx)("input",{type:"text",id:"trailerName",value:o.trailerName,onChange:function(e){return C("trailerName",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.trailerName?"border-red-300":"border-gray-300"),placeholder:"Enter trailer name"}),g.trailerName&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.trailerName})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),(0,n.jsx)("input",{type:"text",id:"registrationNumber",value:o.registrationNumber,onChange:function(e){return C("registrationNumber",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.registrationNumber?"border-red-300":"border-gray-300"),placeholder:"Enter registration number"}),g.registrationNumber&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.registrationNumber})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"parkingAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Address *"}),(0,n.jsx)("input",{type:"text",id:"parkingAddress",value:o.parkingAddress,onChange:function(e){return C("parkingAddress",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.parkingAddress?"border-red-300":"border-gray-300"),placeholder:"Enter parking address"}),g.parkingAddress&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.parkingAddress})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,n.jsxs)("select",{id:"state",value:o.state,onChange:function(e){return C("state",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.state?"border-red-300":"border-gray-300"),children:[(0,n.jsx)("option",{value:"",children:"Select state"}),A.hj.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})]}),g.state&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.state})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,n.jsxs)("select",{id:"city",value:o.city,onChange:function(e){return C("city",e.target.value)},disabled:!o.state,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.city?"border-red-300":"border-gray-300"," ").concat(o.state?"":"bg-gray-100 cursor-not-allowed"),children:[(0,n.jsx)("option",{value:"",children:"Select city"}),T.map(function(e){return(0,n.jsx)("option",{value:e,children:e},e)})]}),g.city&&(0,n.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.city})]})]})]})]})}),(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Film Sheets Inventory"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each film sheet type."}),(0,n.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:A.LT.map(function(e){return(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e})})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,n.jsx)("input",{type:"number",min:"0",value:h[e],onChange:function(t){return function(e,t){p(function(r){return te(te({},r),{},re({},e,Math.max(0,t)))})}(e,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,n.jsx)("input",{type:"number",min:"0",value:o.filmSheetThresholds[e]||10,onChange:function(t){return function(e,t){d(function(r){return te(te({},r),{},{filmSheetThresholds:te(te({},r.filmSheetThresholds),{},re({},e,Math.max(0,t)))})});var r="sheet_".concat(e);g[r]&&v(function(e){var t=te({},e);return delete t[r],t})}(e,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e)})})]})})]}),(0,n.jsx)("div",{className:"space-y-8",children:(0,n.jsx)(w.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Tools Inventory"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure current stock levels and thresholds for each tool. The system will alert when stock falls below threshold levels."}),(0,n.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:A.w9.map(function(e){return(0,n.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Default threshold: ",e.defaultThreshold]})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Initial Stock"}),(0,n.jsx)("input",{type:"number",min:"0",value:m[e.name],onChange:function(t){return r=e.name,n=parseInt(t.target.value)||0,void x(function(e){return te(te({},e),{},re({},r,Math.max(0,n)))});var r,n},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Inventory Left"}),(0,n.jsx)("input",{type:"number",min:"0",value:o.toolThresholds[e.name]||e.defaultThreshold,onChange:function(t){return function(e,t){d(function(r){return te(te({},r),{},{toolThresholds:te(te({},r.toolThresholds),{},re({},e,Math.max(0,t)))})});var r="tool_".concat(e);g[r]&&v(function(e){var t=te({},e);return delete t[r],t})}(e.name,parseInt(t.target.value)||0)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-primary focus:border-transparent"})]})]})]},e.name)})})]})})})]})})]})})},le=r(7821);function ce(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function a(r,n,s,a){var c=n&&n.prototype instanceof l?n:l,o=Object.create(c.prototype);return oe(o,"_invoke",function(r,n,s){var a,l,c,o=0,d=s||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,c=e,m.n=r,i}};function x(r,n){for(l=r,c=n,t=0;!u&&o&&!s&&t<d.length;t++){var s,a=d[t],x=m.p,f=a[2];r>3?(s=f===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((s=r<2&&x<a[1])?(l=0,m.v=n,m.n=a[1]):x<f&&(s=r<3||a[0]>n||n>f)&&(a[4]=r,a[5]=n,m.n=f,l=0))}if(s||r>1)return i;throw u=!0,n}return function(s,d,f){if(o>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,f),l=d,c=f;(t=l<2?e:c)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,c)):m.n=c:m.v=c);try{if(o=2,a){if(l||(s="next"),t=a[s]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),l=1);a=e}else if((t=(u=m.n<0)?c:r.call(n,m))!==i)break}catch(t){a=e,l=1,c=t}finally{o=1}}return{value:t,done:u}}}(r,s,a),!0),o}var i={};function l(){}function c(){}function o(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(oe(t={},n,function(){return this}),t),u=o.prototype=l.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,oe(e,s,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=o,oe(u,"constructor",o),oe(o,"constructor",c),c.displayName="GeneratorFunction",oe(o,s,"GeneratorFunction"),oe(u),oe(u,s,"Generator"),oe(u,n,function(){return this}),oe(u,"toString",function(){return"[object Generator]"}),(ce=function(){return{w:a,m}})()}function oe(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}oe=function(e,t,r,n){function a(t,r){oe(e,t,function(e){return this._invoke(t,r,e)})}t?s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},oe(e,t,r,n)}function de(e,t,r,n,s,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,s)}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var me=function(e){var t,r,a=e.isOpen,i=e.onClose,l=e.trailer,c=e.onConfirmDelete,o=(t=(0,s.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw s}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=o[0],u=o[1],x=function(){var e,t=(e=ce().m(function e(){var t;return ce().w(function(e){for(;;)switch(e.p=e.n){case 0:if(l){e.n=1;break}return e.a(2);case 1:return u(!0),e.p=2,e.n=3,c(l);case 3:i(),e.n=5;break;case 4:e.p=4,t=e.v,console.error("Error deleting trailer:",t);case 5:return e.p=5,u(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(n,s){var a=e.apply(t,r);function i(e){de(a,n,s,i,l,"next",e)}function l(e){de(a,n,s,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return l?(0,n.jsx)(le.a,{isOpen:a,onClose:i,title:"Delete Trailer?",size:"sm",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,n.jsx)(m.A,{size:24,className:"text-red-600"})})}),(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{className:"text-sm text-gray-900",children:["This will permanently remove ",(0,n.jsxs)("strong",{children:["Trailer ",l.trailerName]})," and its records. This action cannot be undone."]}),(0,n.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Registration:"})," ",l.registrationNumber]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Location:"})," ",l.location]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",l.inventory.length," film types"]}),(0,n.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",l.activityLogs.length," entries"]})]})]})})]}),(0,n.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-start gap-2",children:[(0,n.jsx)(m.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,n.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,n.jsx)("strong",{children:"Warning:"})," If this trailer is currently assigned to any projects, you may need to reassign them to other trailers before deletion."]})]})}),(0,n.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,n.jsx)(S.$,{type:"button",variant:"secondary",onClick:i,disabled:d,children:"Cancel"}),(0,n.jsx)(S.$,{type:"button",onClick:x,disabled:d,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:d?"Deleting...":"Delete Trailer"})]})]})}):null},xe=r(1819),fe=r(4131),he=r(4159);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ye(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach(function(t){be(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function be(e,t,r){return(t=function(e){var t=function(e){if("object"!=pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,l=[],c=!0,o=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){o=!0,s=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(o)throw s}}return l}}(e,t)||Ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Se=function(){var e=(0,a.g)().trailerId,t=(0,a.Zp)(),r=(0,fe.A)(),p=r.user,y=(r.hasPermission,"executive"===(null==p?void 0:p.userType)),g=je((0,s.useState)(he.d),2),v=g[0],b=g[1],j=je((0,s.useState)(!1),2),N=j[0],k=j[1],T=je((0,s.useState)(null),2),O=T[0],C=T[1],E=je((0,s.useState)("list"),2),I=E[0],D=E[1],z=je((0,s.useState)(null),2),L=z[0],M=z[1],$=je((0,s.useState)([]),2),_=$[0],R=$[1],U=je((0,s.useState)(!1),2),F=U[0],Z=U[1],G=je((0,s.useState)(!1),2),W=(G[0],G[1],v.map(function(e){return e.trailerName})),V=(0,s.useMemo)(function(){if(!y)return null;var e=v.length,t=v.filter(function(e){return"available"===e.status}).length,r=v.filter(function(e){return"low"===e.status}).length,n=v.filter(function(e){return"unavailable"===e.status}).length,s=v.reduce(function(e,t){return e[t.status]=(e[t.status]||0)+1,e},{}),a=v.reduce(function(e,t){return e[t.state]=(e[t.state]||0)+1,e},{}),i=v.reduce(function(e,t){return e+t.inventory.tools.reduce(function(e,t){return e+t.currentStock},0)},0),l=v.reduce(function(e,t){return e+t.inventory.filmSheets.reduce(function(e,t){return e+t.currentStock},0)},0);return{totalTrailers:e,availableTrailers:t,lowStockTrailers:r,unavailableTrailers:n,trailersByStatus:s,trailersByState:a,totalTools:i,totalFilmSheets:l,averageUtilization:e>0?(t+r)/e*100:0}},[v,y]),H=e?v.find(function(t){return t.id===e}):null;(0,s.useEffect)(function(){e&&H?D("detail"):e||D(function(e){return"create"===e||"edit"===e?e:"list"})},[e,H]),(0,xe.KF)("detail"===I&&H?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Trailer ".concat(H.trailerName)}]:"create"===I?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Add New Trailer"}]:"edit"===I&&L?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Edit Trailer ".concat(L.trailerName)}]:[{label:"Trailers",icon:i.A}],[I,H,L]),(0,s.useEffect)(function(){e&&!H&&t("/trailers",{replace:!0})},[e,H,t]);var K=(0,s.useCallback)(function(e){var t=(new Date).toISOString(),r=(0,A.A6)(e.inventory),n=(0,A.yS)(r),s=ve(ve({},e),{},{id:crypto.randomUUID(),inventory:r,status:n,createdAt:t,updatedAt:t});b(function(e){return[].concat(ye(e),[s])}),D("list")},[]),Y=(0,s.useCallback)(function(e){t("/trailers/".concat(e.id))},[t]),q=(0,s.useCallback)(function(){t("/trailers"),D("list")},[t]),J=(0,s.useCallback)(function(e){M(e),D("edit")},[]),Q=(0,s.useCallback)(function(e){var t=(new Date).toISOString(),r=ve(ve({},e),{},{id:(null==L?void 0:L.id)||crypto.randomUUID(),createdAt:(null==L?void 0:L.createdAt)||t,updatedAt:t});b(function(e){return e.map(function(e){return e.id===r.id?r:e})}),D("list"),M(null)},[L]),X=(0,s.useCallback)(function(){D("create")},[]),ee=(0,s.useCallback)(function(){D("list"),M(null)},[]),te=(0,s.useCallback)(function(e){C(e),k(!0)},[]),re=(0,s.useCallback)(function(r){b(function(e){return e.filter(function(e){return e.id!==r.id})}),e===r.id&&t("/trailers")},[e,t]),ne=(0,s.useCallback)(function(){k(!1),C(null)},[]),se=(0,s.useCallback)(function(e){R(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(ye(t),[e])})},[]),ae=(0,s.useCallback)(function(){_.length===v.length?R([]):R(v.map(function(e){return e.id}))},[_.length,v]),le=(0,s.useCallback)(function(e){console.log("Bulk action: ".concat(e," on trailers:"),_)},[_]),ce=((0,s.useCallback)(function(){console.log("Export all trailers data")},[]),(0,s.useCallback)(function(){console.log("Refresh inventory status for all trailers")},[]));return 0===v.length&&"list"===I?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,n.jsxs)(w.Z,{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,n.jsx)(i.A,{size:48,className:"text-blue-600"})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Trailers Yet"}),(0,n.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first trailer to manage inventory, track locations, and streamline your operations."}),(0,n.jsx)(S.$,{variant:"primary",size:"lg",onClick:X,icon:l.A,className:"mb-8",children:"Create Your First Trailer"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(c.A,{size:24,className:"text-green-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tool Management"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Track tools and equipment with real-time inventory levels"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(o.A,{size:24,className:"text-purple-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Film Inventory"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor film sheet stock and get low inventory alerts"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)(d.A,{size:24,className:"text-orange-600"})}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location Tracking"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of trailer locations and parking addresses"})]})]})]}),(0,n.jsxs)(w.Z,{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started Tips"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"1"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Set up basic information"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Add trailer name, registration number, and parking address"})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"2"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Configure inventory thresholds"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Set minimum stock levels for tools and film sheets"})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,n.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"3"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Start tracking"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor inventory levels and get automated alerts"})]})]})]})]})]})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["detail"===I&&H?(0,n.jsx)(B,{trailer:H,onBack:q,onEdit:J,onDelete:te,onRestock:function(e){b(function(t){return t.map(function(t){return t.id===e.id?e:t})})}}):"create"===I?(0,n.jsx)(ie,{trailer:null,onSave:K,onCancel:ee,existingTrailerNumbers:W}):"edit"===I&&L?(0,n.jsx)(ie,{trailer:L,onSave:Q,onCancel:ee,existingTrailerNumbers:W.filter(function(e){return e!==(null==L?void 0:L.trailerName)})}):(0,n.jsxs)("div",{className:"space-y-6",children:[y&&F&&V&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsx)(w.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Trailers"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:V.totalTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,n.jsx)(i.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,n.jsx)(w.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-600",children:V.availableTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,n.jsx)(u.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,n.jsx)(w.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:V.lowStockTrailers})]}),(0,n.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,n.jsx)(m.A,{className:"w-6 h-6 text-orange-600"})})]})}),(0,n.jsx)(w.Z,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilization"}),(0,n.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[V.averageUtilization.toFixed(1),"%"]})]}),(0,n.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,n.jsx)(x.A,{className:"w-6 h-6 text-purple-600"})})]})})]}),y&&(0,n.jsx)(w.Z,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)(S.$,{variant:"secondary",size:"sm",icon:f.A,onClick:function(){return Z(!F)},children:[F?"Hide":"Show"," Analytics"]}),(0,n.jsx)(S.$,{variant:"secondary",size:"sm",icon:h.A,onClick:ce,children:"Refresh Inventory"})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:[v.length," trailer(s) total"]})]})}),(0,n.jsx)(P,{trailers:v,onCreateTrailer:X,onViewTrailer:Y,onEditTrailer:J,onDeleteTrailer:te,isExecutive:y,selectedTrailers:_,onSelectTrailer:se,onSelectAllTrailers:ae,onBulkAction:le})]}),(0,n.jsx)(me,{isOpen:N,onClose:ne,trailer:O,onConfirmDelete:re})]})}}}]);