/*! For license information please see 670.7627ec964a8c484230b7.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[670],{3670:(e,t,r)=>{r.r(t),r.d(t,{Trailers:()=>fe});var s=r(4848),n=r(6540),a=r(7767),i=r(7596),l=r(339),o=r(1813),c=r(6913),d=r(1397),u=r(799),m=r(4413),x=r(1314),h=r(5732),f=r(8954),p=r(5426),y=r(3492),g=r(82),v=r(4810),j=r(885),b=r(8931),N=r(6368),w=r(74),k=r(6813),S=r(4186),T=r(3774);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var C=function(e){var t=e.trailers,r=(e.onCreateTrailer,e.onViewTrailer),a=e.onEditTrailer,l=e.onArchiveTrailer,o=e.isExecutive,c=void 0!==o&&o,u=e.selectedTrailers,m=void 0===u?[]:u,x=e.onSelectTrailer,h=e.onSelectAllTrailers,f=(e.onBulkAction,(0,S.c)().isMobile),b=L((0,n.useState)(""),2),A=b[0],C=(b[1],L((0,n.useState)(""),2)),G=C[0],P=(C[1],L((0,n.useState)(""),2)),E=P[0],I=(P[1],L((0,n.useState)("trailerName"),2)),B=I[0],z=I[1],D=L((0,n.useState)("asc"),2),M=D[0],R=D[1],F=L((0,n.useState)(1),2),W=F[0],$=F[1],U=L((0,n.useState)(10),2),_=U[0],Z=U[1],H=L((0,n.useState)(null),2),X=H[0],K=H[1],V=(0,n.useRef)(null);(0,n.useEffect)(function(){var e=function(e){V.current&&!V.current.contains(e.target)&&K(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]);var q=(0,n.useMemo)(function(){var e=(0,T.Hc)(t,{status:G||void 0,state:E||void 0,search:A||void 0});return(0,T.LB)(e,B,M)},[t,A,G,E,B,M]),Y=q.length,Q=Math.ceil(Y/_),J=(W-1)*_,ee=J+_,te=q.slice(J,ee);return n.useEffect(function(){$(1)},[A,G,E]),(0,s.jsxs)("div",{className:"space-y-6",children:[!f&&(0,s.jsx)(O,{trailers:te,sortBy:B,sortOrder:M,onSort:function(e){B===e?R("asc"===M?"desc":"asc"):(z(e),R("asc"))},onViewTrailer:r,onEditTrailer:a,onArchiveTrailer:l,activeDropdown:X,onDropdownToggle:function(e){K(X===e?null:e)},onMenuAction:function(e,t){switch(K(null),e){case"view":r(t);break;case"edit":a(t);break;case"delete":l(t)}},dropdownRef:V,isExecutive:c,selectedTrailers:m,onSelectTrailer:x,onSelectAllTrailers:h}),f&&(0,s.jsx)("div",{className:"space-y-4",children:te.map(function(e){return(0,s.jsxs)(N.Z,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.trailerName}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.registrationNumber})]}),(0,s.jsx)(k.W,{status:e.status})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.parkingAddress})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Last updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end mt-4 gap-2",children:[(0,s.jsx)(w.$,{variant:"ghost",size:"sm",onClick:function(){return r(e)},icon:p.A,children:"View"}),(0,s.jsx)(w.$,{variant:"ghost",size:"sm",onClick:function(){return a(e)},icon:y.A,children:"Edit"}),(0,s.jsx)(w.$,{variant:"ghost",size:"sm",onClick:function(){return l(e)},icon:g.A,className:"text-red-600 hover:text-red-700",children:"Archive"})]})]},e.id)})}),Q>1&&(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("label",{htmlFor:"itemsPerPage",className:"text-sm text-gray-600",children:"Items per page:"}),(0,s.jsxs)("select",{id:"itemsPerPage",value:_,onChange:function(e){return t=Number(e.target.value),Z(t),void $(1);var t},className:"px-2 py-1 pr-6 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:5,children:"5"}),(0,s.jsx)("option",{value:10,children:"10"}),(0,s.jsx)("option",{value:20,children:"20"}),(0,s.jsx)("option",{value:50,children:"50"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",J+1,"-",Math.min(ee,Y)," of ",Y," trailers"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(w.$,{variant:"secondary",size:"sm",onClick:function(){W>1&&$(W-1)},disabled:1===W,className:"p-2",children:(0,s.jsx)(v.A,{size:16})}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Q},function(e,t){return t+1}).map(function(e){return(0,s.jsx)("button",{onClick:function(){return function(e){$(e)}(e)},className:"px-3 py-1 text-sm rounded ".concat(W===e?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:e},e)})}),(0,s.jsx)(w.$,{variant:"secondary",size:"sm",onClick:function(){W<Q&&$(W+1)},disabled:W===Q,className:"p-2",children:(0,s.jsx)(j.A,{size:16})})]})]})})]})},O=function(e){var t=e.trailers,r=e.sortBy,n=e.sortOrder,a=e.onSort,l=e.onViewTrailer,o=(e.onEditTrailer,e.onArchiveTrailer,e.activeDropdown),c=e.onDropdownToggle,d=e.onMenuAction,u=e.dropdownRef;if(e.isExecutive,e.selectedTrailers,e.onSelectTrailer,e.onSelectAllTrailers,0===t.length)return(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-gray-400 mb-4",children:(0,s.jsx)(i.A,{size:48,className:"mx-auto"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No trailers found"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})});var m=function(e){var t=e.field,i=e.children;return(0,s.jsxs)("button",{onClick:function(){return a(t)},className:"flex items-center gap-1 text-left hover:text-primary transition-colors",children:[i,r===t&&(0,s.jsx)("span",{className:"text-primary",children:"asc"===n?"↑":"↓"})]})};return(0,s.jsx)(N.Z,{padding:"sm",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)(m,{field:"trailerName",children:"Trailer Name"})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)(m,{field:"registrationNumber",children:"Registration"})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)(m,{field:"location",children:"Location"})}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,s.jsx)(m,{field:"status",children:"Status"})}),(0,s.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(function(e){return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:function(){return l(e)},children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.trailerName})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.registrationNumber})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.city,", ",e.state]}),(0,s.jsx)("div",{className:"text-gray-500 text-xs",children:e.parkingAddress})]})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)(k.W,{status:e.status,unavailableUntil:e.unavailableUntil})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"relative inline-block text-left",ref:o===e.id?u:null,onClick:function(e){return e.stopPropagation()},children:[(0,s.jsx)("button",{type:"button",className:"flex items-center text-gray-500 hover:text-gray-700 focus:outline-none",onClick:function(t){t.stopPropagation(),c(e.id)},id:"menu-button-".concat(e.id),"aria-expanded":o===e.id,"aria-haspopup":"true",children:(0,s.jsx)(b.A,{size:20})}),o===e.id&&(0,s.jsx)("div",{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",onClick:function(e){return e.stopPropagation()},children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("view",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(p.A,{size:16,className:"mr-2"}),"View Details"]}),(0,s.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("edit",e)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,s.jsx)(y.A,{size:16,className:"mr-2"}),"Edit Trailer"]}),(0,s.jsxs)("button",{onClick:function(t){t.stopPropagation(),d("delete",e)},className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[(0,s.jsx)(g.A,{size:16,className:"mr-2"}),"Archive Trailer"]})]})})]})})]},e.id)})})]})})})},G=r(8252),P=r(3459),E=r(7720),I=r(4574);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var D=function(e){var t=e.trailer,r=e.onBack,a=e.onEdit,l=e.onArchive,o=(e.onRestock,B((0,n.useState)("cart"),2)),c=o[0],u=o[1],m=B((0,n.useState)(t),2),x=m[0];return m[1],(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(w.$,{variant:"ghost",onClick:r,icon:G.A,className:"p-2",children:"Back"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:x.trailerName}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Registration: ",x.registrationNumber]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(w.$,{variant:"secondary",onClick:function(){return a(x)},icon:y.A,children:"Edit Trailer"}),(0,s.jsx)(w.$,{variant:"ghost",onClick:function(){return l(x)},icon:g.A,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Archive"})]})]}),(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,s.jsx)(k.W,{status:x.status,size:"md",unavailableUntil:x.unavailableUntil})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(i.A,{size:20,className:"text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Trailer Name"}),(0,s.jsx)("div",{className:"font-medium text-gray-900",children:x.trailerName})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)(P.A,{size:20,className:"text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Registration Number"}),(0,s.jsx)("div",{className:"font-medium text-gray-900",children:x.registrationNumber})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)(d.A,{size:20,className:"text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Address"}),(0,s.jsx)("div",{className:"font-medium text-gray-900",children:x.parkingAddress})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,s.jsx)(d.A,{size:20,className:"text-orange-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Current Location"}),(0,s.jsx)("div",{className:"font-medium text-gray-500",children:"-"})]})]})]})]})}),(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Inventory"})}),(0,s.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:function(){return u("cart")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("cart"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Cart Item"}),(0,s.jsx)("button",{onClick:function(){return u("caulking")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("caulking"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Caulking Supplies"}),(0,s.jsx)("button",{onClick:function(){return u("trailer")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("trailer"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Trailer Item"}),(0,s.jsx)("button",{onClick:function(){return u("film")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("film"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Film"})]}),"cart"===c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Cart Item"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each cart item."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Threshold"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Inventory"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Beer Tank W/ Hose",threshold:5,inventoryLeft:6,status:"Good on stock"},{name:"Hard Press",threshold:3,inventoryLeft:5,status:"Good on stock"},{name:"Red Card",threshold:6,inventoryLeft:8,status:"Good on stock"},{name:"Olfa",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Olfa Blade Pack",threshold:8,inventoryLeft:12,status:"Good on stock"},{name:"Scrapers",threshold:4,inventoryLeft:2,status:"Low on stock"},{name:"Scraper Blade Pack",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"Pick",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"1 Qrt Acetone",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Phillips Head SD",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Window Squeegee",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Sharps Containers",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Headlamps",threshold:3,inventoryLeft:5,status:"Good on stock"},{name:"Batteries for Headlamps (Pack)",threshold:5,inventoryLeft:8,status:"Good on stock"}].map(function(e,t){return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.inventoryLeft})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Good on stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("Good on stock"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.inventoryLeft/e.threshold*100,100),"%")}})}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.inventoryLeft>e.threshold?(0,s.jsxs)("span",{className:"text-green-600",children:["+",e.inventoryLeft-e.threshold," above threshold"]}):e.inventoryLeft===e.threshold?(0,s.jsx)("span",{className:"text-yellow-600",children:"At threshold"}):0===e.inventoryLeft?(0,s.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,s.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.inventoryLeft," below threshold"]})})]})})]},t)})})]})})]}),"caulking"===c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Caulking Supplies"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each caulking supply item."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Rolls of Painters Tape",threshold:6,inventoryLeft:8,status:"Good on stock"},{name:"Caulk Sausage Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Caulk Gun (Sausage)",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Pack Nitrile Gloves",threshold:10,inventoryLeft:15,status:"Good on stock"},{name:"Case of Blue Towels",threshold:5,inventoryLeft:3,status:"Low on stock"},{name:"Tub O' Towels",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Crocodile Wipes",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"Caulking Gun Tips",threshold:8,inventoryLeft:12,status:"Good on stock"}].map(function(e,t){return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.inventoryLeft})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Good on stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("Good on stock"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.inventoryLeft/e.threshold*100,100),"%")}})}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.inventoryLeft>e.threshold?(0,s.jsxs)("span",{className:"text-green-600",children:["+",e.inventoryLeft-e.threshold," above threshold"]}):e.inventoryLeft===e.threshold?(0,s.jsx)("span",{className:"text-yellow-600",children:"At threshold"}):0===e.inventoryLeft?(0,s.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,s.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.inventoryLeft," below threshold"]})})]})})]},t)})})]})})]}),"trailer"===c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Trailer Item"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Current stock levels and thresholds for each trailer item."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Initial Stock"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Left"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Cordless Drill",threshold:1,inventoryLeft:2,status:"Good on stock"},{name:"Allen Key Set",threshold:2,inventoryLeft:4,status:"Good on stock"},{name:"Channel Lock Pliers",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Drill Bit Kit",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Generator W/ Cord",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Micro Fiber Package",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"5 Gal Gas Can",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Air Compressor W/ Hose",threshold:1,inventoryLeft:2,status:"Good on stock"},{name:"Trash Can",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"55 Gal Trash Bags Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Bath Towel",threshold:4,inventoryLeft:5,status:"Good on stock"},{name:"Towel Clips for Hanging",threshold:6,inventoryLeft:9,status:"Good on stock"},{name:"5 Gal Buckets",threshold:4,inventoryLeft:3,status:"Low on stock"},{name:"Sharpie Pack",threshold:5,inventoryLeft:8,status:"Good on stock"},{name:"Dry Erase Marker Pack",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Square",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Non Serated Scissors",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Ladders",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"Tank Fix Kits",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"Extras Spray Nozzles",threshold:4,inventoryLeft:5,status:"Good on stock"},{name:"Broom and Dust Pan",threshold:2,inventoryLeft:2,status:"Good on stock"},{name:"Scotch Brite Case",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Sos Pad Box",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Glass Thickness Gauge",threshold:2,inventoryLeft:1,status:"Low on stock"},{name:"PPE Bin/SDS Binder",threshold:2,inventoryLeft:2,status:"Good on stock"},{name:"Spare Cutter Blades (Box)",threshold:2,inventoryLeft:3,status:"Good on stock"},{name:"Tire Patch Kit",threshold:3,inventoryLeft:2,status:"Low on stock"},{name:"Parking Cones",threshold:4,inventoryLeft:6,status:"Good on stock"},{name:"Wheel Chalks",threshold:3,inventoryLeft:4,status:"Good on stock"},{name:"Tongue Lock",threshold:2,inventoryLeft:1,status:"Low on stock"}].map(function(e,t){return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.inventoryLeft})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Good on stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("Good on stock"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.inventoryLeft/e.threshold*100,100),"%")}})}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.inventoryLeft>e.threshold?(0,s.jsxs)("span",{className:"text-green-600",children:["+",e.inventoryLeft-e.threshold," above threshold"]}):e.inventoryLeft===e.threshold?(0,s.jsx)("span",{className:"text-yellow-600",children:"At threshold"}):0===e.inventoryLeft?(0,s.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,s.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.inventoryLeft," below threshold"]})})]})})]},t)})})]})})]}),"film"===c&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tool Name"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Min Threshold"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Inventory"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status & Stock Level"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"SW450",threshold:8,inventoryLeft:12,status:"Good on stock"},{name:"SW440BR",threshold:6,inventoryLeft:8,status:"Good on stock"},{name:"SW600BR",threshold:5,inventoryLeft:6,status:"Good on stock"},{name:"CL700 EXT",threshold:5,inventoryLeft:4,status:"Low on stock"},{name:"Madico SG20 E Tint",threshold:10,inventoryLeft:15,status:"Good on stock"},{name:"Madico RS20 E Tint",threshold:8,inventoryLeft:12,status:"Good on stock"},{name:"Suntek SXT-20",threshold:6,inventoryLeft:9,status:"Good on stock"},{name:"Suntek SXT-35",threshold:7,inventoryLeft:10,status:"Good on stock"},{name:"Suntek IXT-20",threshold:5,inventoryLeft:7,status:"Good on stock"},{name:"Suntek IXT-35",threshold:6,inventoryLeft:5,status:"Low on stock"},{name:"Suntek Frost",threshold:4,inventoryLeft:3,status:"Low on stock"}].map(function(e,t){return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.threshold})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.inventoryLeft})}),(0,s.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Good on stock"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all ".concat("Good on stock"===e.status?"bg-green-500":"bg-red-500"),style:{width:"".concat(Math.min(e.inventoryLeft/e.threshold*100,100),"%")}})}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:e.inventoryLeft>e.threshold?(0,s.jsxs)("span",{className:"text-green-600",children:["+",e.inventoryLeft-e.threshold," above threshold"]}):e.inventoryLeft===e.threshold?(0,s.jsx)("span",{className:"text-yellow-600",children:"At threshold"}):0===e.inventoryLeft?(0,s.jsx)("span",{className:"text-red-600",children:"Out of stock"}):(0,s.jsxs)("span",{className:"text-red-600",children:[e.threshold-e.inventoryLeft," below threshold"]})})]})})]},t)})})]})})})]})}),(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(E.A,{size:20,className:"text-gray-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"})]}),0===x.activityLogs.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No activity logs available"}):(0,s.jsx)("div",{className:"space-y-3",children:x.activityLogs.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()}).map(function(e){return(0,s.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"p-1 rounded-full ".concat(e.systemGenerated?"bg-blue-100":"bg-green-100"),children:e.systemGenerated?(0,s.jsx)(E.A,{size:14,className:"text-blue-600"}):(0,s.jsx)(I.A,{size:14,className:"text-green-600"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-sm text-gray-900",children:e.description}),(0,s.jsx)("time",{className:"text-xs text-gray-500 flex-shrink-0 ml-4",children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.user&&(0,s.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["by ",e.user]})]})]},e.id);var t})})]})})]})},M=r(9237),R=r(6628);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function W(){var e,t,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,s,n,a){var o=s&&s.prototype instanceof l?s:l,c=Object.create(o.prototype);return $(c,"_invoke",function(r,s,n){var a,l,o,c=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,o=e,m.n=r,i}};function x(r,s){for(l=r,o=s,t=0;!u&&c&&!n&&t<d.length;t++){var n,a=d[t],x=m.p,h=a[2];r>3?(n=h===s)&&(o=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((n=r<2&&x<a[1])?(l=0,m.v=s,m.n=a[1]):x<h&&(n=r<3||a[0]>s||s>h)&&(a[4]=r,a[5]=s,m.n=h,l=0))}if(n||r>1)return i;throw u=!0,s}return function(n,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,h),l=d,o=h;(t=l<2?e:o)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,o)):m.n=o:m.v=o);try{if(c=2,a){if(l||(n="next"),t=a[n]){if(!(t=t.call(a,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(o=TypeError("The iterator does not provide a '"+n+"' method"),l=1);a=e}else if((t=(u=m.n<0)?o:r.call(s,m))!==i)break}catch(t){a=e,l=1,o=t}finally{c=1}}return{value:t,done:u}}}(r,n,a),!0),c}var i={};function l(){}function o(){}function c(){}t=Object.getPrototypeOf;var d=[][s]?t(t([][s]())):($(t={},s,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,$(e,n,"GeneratorFunction")),e.prototype=Object.create(u),e}return o.prototype=c,$(u,"constructor",c),$(c,"constructor",o),o.displayName="GeneratorFunction",$(c,n,"GeneratorFunction"),$(u),$(u,n,"Generator"),$(u,s,function(){return this}),$(u,"toString",function(){return"[object Generator]"}),(W=function(){return{w:a,m}})()}function $(e,t,r,s){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}$=function(e,t,r,s){function a(t,r){$(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!s,configurable:!s,writable:!s}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},$(e,t,r,s)}function U(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t,r,s,n,a,i){try{var l=e[a](i),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(s,n)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){X(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(e,t,r){return(t=function(e){var t=function(e){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Y=function(e){var t=e.trailer,r=e.onSave,a=e.onCancel,i=e.existingTrailerNumbers,l=!!t,o=K((0,n.useState)({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,10))},{})}),2),c=o[0],d=o[1],u=K((0,n.useState)(T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,0))},{})),2),m=u[0],x=u[1],h=K((0,n.useState)(T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,0))},{})),2),f=h[0],p=h[1],y=K((0,n.useState)({}),2),g=y[0],v=y[1],j=K((0,n.useState)(!1),2),b=j[0],k=j[1],S=K((0,n.useState)([]),2),L=S[0],A=S[1],C=K((0,n.useState)("cart"),2),O=C[0],G=C[1];(0,n.useEffect)(function(){c.state?(A(T.mV[c.state]||[]),d(function(e){return H(H({},e),{},{city:""})})):A([])},[c.state]),(0,n.useEffect)(function(){if(t){var e=T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,t.defaultThreshold))},{});t.inventory.tools.forEach(function(t){e[t.toolName]=t.threshold});var r=T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,10))},{});t.inventory.filmSheets.forEach(function(e){r[e.sheetType]=e.threshold}),d({trailerName:t.trailerName,registrationNumber:t.registrationNumber,parkingAddress:t.parkingAddress||"",state:t.state||"",city:t.city||"",toolThresholds:e,filmSheetThresholds:r});var s=T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,0))},{});t.inventory.tools.forEach(function(e){s[e.toolName]=e.currentStock}),x(s);var n=T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,0))},{});t.inventory.filmSheets.forEach(function(e){n[e.sheetType]=e.currentStock}),p(n)}else d({trailerName:"",registrationNumber:"",parkingAddress:"",state:"",city:"",toolThresholds:T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,t.defaultThreshold))},{}),filmSheetThresholds:T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,10))},{})}),x(T.w9.reduce(function(e,t){return H(H({},e),{},X({},t.name,0))},{})),p(T.LT.reduce(function(e,t){return H(H({},e),{},X({},t,0))},{})),v({})},[t]);var P=function(e,t){d(function(r){return H(H({},r),{},X({},e,t))}),g[e]&&v(function(t){var r=H({},t);return delete r[e],r})},E=function(){var e,s=(e=W().m(function e(s){var n,a,o,d,u,x,h,p,y;return W().w(function(e){for(;;)switch(e.n){case 0:if(s.preventDefault(),k(!0),n=(0,T.is)(c),a=c.trailerName.trim(),(l?i.filter(function(e){return e!==(null==t?void 0:t.trailerName)}):i).includes(a)&&(n.errors.trailerName="Trailer name already exists",n.isValid=!1),n.isValid){e.n=1;break}return v(n.errors),k(!1),e.a(2);case 1:try{o=T.w9.map(function(e){return{toolName:e.name,currentStock:m[e.name],threshold:c.toolThresholds[e.name],status:0===m[e.name]?"critical":m[e.name]<=c.toolThresholds[e.name]?"low":"good"}}),d=T.LT.map(function(e){return{sheetType:e,currentStock:f[e],threshold:c.filmSheetThresholds[e],status:0===f[e]?"critical":f[e]<=c.filmSheetThresholds[e]?"low":"good"}}),u={tools:o,filmSheets:d},(new Date).toISOString(),x=t?U(t.activityLogs):[],l&&t?(t.trailerName!==a&&x.push((0,T.WR)("updated","Trailer name changed from ".concat(t.trailerName," to ").concat(a),void 0,!0)),t.registrationNumber!==c.registrationNumber&&x.push((0,T.WR)("updated","Registration number updated",void 0,!0)),t.parkingAddress!==c.parkingAddress&&x.push((0,T.WR)("address_changed","Parking address changed from ".concat(t.parkingAddress," to ").concat(c.parkingAddress),void 0,!0)),t.state!==c.state&&x.push((0,T.WR)("state_changed","State changed from ".concat(t.state," to ").concat(c.state),void 0,!0)),t.city!==c.city&&x.push((0,T.WR)("city_changed","City changed from ".concat(t.city," to ").concat(c.city),void 0,!0)),h=t.inventory.tools.some(function(e){var t=o.find(function(t){return t.toolName===e.toolName});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),p=t.inventory.filmSheets.some(function(e){var t=d.find(function(t){return t.sheetType===e.sheetType});return t&&(t.currentStock!==e.currentStock||t.threshold!==e.threshold)}),(h||p)&&x.push((0,T.WR)("inventory_updated","Inventory levels updated",void 0,!0))):x.push((0,T.WR)("created","Trailer ".concat(a," created"),void 0,!0)),y={trailerName:a,registrationNumber:c.registrationNumber.trim(),parkingAddress:c.parkingAddress.trim(),state:c.state,city:c.city,inventory:u,status:"available",activityLogs:x},r(y),v({})}catch(e){console.error("Error saving trailer:",e)}finally{k(!1)}case 2:return e.a(2)}},e)}),function(){var t=this,r=arguments;return new Promise(function(s,n){var a=e.apply(t,r);function i(e){_(a,s,n,i,l,"next",e)}function l(e){_(a,s,n,i,l,"throw",e)}i(void 0)})});return function(e){return s.apply(this,arguments)}}();return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:l?"Edit Trailer ".concat(null==t?void 0:t.trailerName):"Add New Trailer"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:l?"Update trailer information and inventory":"Create a new trailer with inventory configuration"})]})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(w.$,{type:"button",variant:"secondary",onClick:a,disabled:b,icon:M.A,children:"Cancel"}),(0,s.jsx)(w.$,{type:"submit",form:"trailer-form",disabled:b,icon:R.A,children:b?"Saving...":l?"Update Trailer":"Create Trailer"})]})]}),(0,s.jsxs)("form",{id:"trailer-form",onSubmit:E,className:"space-y-8",children:[(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 pb-4 border-b border-gray-200",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"trailerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Trailer Name *"}),(0,s.jsx)("input",{type:"text",id:"trailerName",value:c.trailerName,onChange:function(e){return P("trailerName",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.trailerName?"border-red-300":"border-gray-300"),placeholder:"Enter trailer name"}),g.trailerName&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.trailerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number *"}),(0,s.jsx)("input",{type:"text",id:"registrationNumber",value:c.registrationNumber,onChange:function(e){return P("registrationNumber",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.registrationNumber?"border-red-300":"border-gray-300"),placeholder:"Enter registration number"}),g.registrationNumber&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.registrationNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"parkingAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Address *"}),(0,s.jsx)("input",{type:"text",id:"parkingAddress",value:c.parkingAddress,onChange:function(e){return P("parkingAddress",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.parkingAddress?"border-red-300":"border-gray-300"),placeholder:"Enter parking address"}),g.parkingAddress&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.parkingAddress})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,s.jsxs)("select",{id:"state",value:c.state,onChange:function(e){return P("state",e.target.value)},className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.state?"border-red-300":"border-gray-300"),children:[(0,s.jsx)("option",{value:"",children:"Select state"}),T.hj.map(function(e){return(0,s.jsx)("option",{value:e,children:e},e)})]}),g.state&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.state})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,s.jsxs)("select",{id:"city",value:c.city,onChange:function(e){return P("city",e.target.value)},disabled:!c.state,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent ".concat(g.city?"border-red-300":"border-gray-300"," ").concat(c.state?"":"bg-gray-100 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",children:"Select city"}),L.map(function(e){return(0,s.jsx)("option",{value:e,children:e},e)})]}),g.city&&(0,s.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.city})]})]})]})}),(0,s.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[(0,s.jsx)("button",{type:"button",onClick:function(){return G("cart")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("cart"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Cart Item"}),(0,s.jsx)("button",{type:"button",onClick:function(){return G("caulking")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("caulking"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Caulking Supplies"}),(0,s.jsx)("button",{type:"button",onClick:function(){return G("trailer")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("trailer"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Trailer Item"}),(0,s.jsx)("button",{type:"button",onClick:function(){return G("film")},className:"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat("film"===O?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Film"})]}),(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"p-6 min-h-[400px]",children:["cart"===O&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Cart Item"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each cart item. The system will alert when stock falls below threshold levels."}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:["Beer Tank W/ Hose","Hard Press","Red Card","Olfa","Olfa Blade Pack","Scrapers","Scraper Blade Pack","Pick","1 Qrt Acetone","Phillips Head SD","Window Squeegee","Sharps Containers","Headlamps","Batteries for Headlamps (Pack)"].map(function(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Minimum Threshold"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Current Inventory"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]},e)})})]}),"caulking"===O&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Caulking Supplies"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each caulking supply item. The system will alert when stock falls below threshold levels."}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:["Rolls of Painters tape","Caulk Sausage Case","Caulk Gun (Sausage)","Pack Nitrile Gloves","Case of Blue Towels","Tub O' Towels","Crocodile Wipes","Caulking Gun Tips"].map(function(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Minimum Threshold"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Current Inventory"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]},e)})})]}),"trailer"===O&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Trailer Item"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each trailer item. The system will alert when stock falls below threshold levels."}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:["Cordless Drill","Allen Key Set","Channel Lock Pliers","Drill Bit Kit","Generator W/ Cord","Micro Fiber Package","5 Gal Gas Can","Air Compressor W/ Hose","Trash Can","55 Gal Trash Bags Case","Bath Towel","Towel Clips for hanging","5 Gal Buckets","Sharpie Pack","Dry Erase Marker Pack","Square","Non Serated Scissors","Ladders","Tank Fix Kits","Extras Spray Nozzles","Broom and Dust Pan","Scotch Brite Case","Sos Pad Box","Glass Thickness Gauge","PPE Bin/SDS Binder","Spare Cutter Blades (Box)","Tire Patch Kit","Parking Cones","Wheel Chalks","Tongue Lock"].map(function(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Minimum Threshold"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Current Inventory"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]},e)})})]}),"film"===O&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Film"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Configure current stock levels and thresholds for each film type. The system will alert when stock falls below threshold levels."}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:["SW450","SW440BR","SW600BR","CL700 EXT","Madico SG20 E Tint","Madico RS20 E Tint","Suntek SXT-20","Suntek SXT-35","Suntek IXT-20","Suntek IXT-35","Suntek Frost"].map(function(e){return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e})}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Minimum Threshold"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("label",{className:"text-xs text-gray-500",children:"Current Inventory"}),(0,s.jsx)("input",{type:"number",min:"0",placeholder:"0",className:"w-20 px-2 py-1 border border-gray-300 rounded-md text-center focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]},e)})})]})]})})]})]})})},Q=r(7821);function J(){var e,t,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,s,n,a){var o=s&&s.prototype instanceof l?s:l,c=Object.create(o.prototype);return ee(c,"_invoke",function(r,s,n){var a,l,o,c=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:x,f:x.bind(e,4),d:function(t,r){return a=t,l=0,o=e,m.n=r,i}};function x(r,s){for(l=r,o=s,t=0;!u&&c&&!n&&t<d.length;t++){var n,a=d[t],x=m.p,h=a[2];r>3?(n=h===s)&&(o=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=x&&((n=r<2&&x<a[1])?(l=0,m.v=s,m.n=a[1]):x<h&&(n=r<3||a[0]>s||s>h)&&(a[4]=r,a[5]=s,m.n=h,l=0))}if(n||r>1)return i;throw u=!0,s}return function(n,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&x(d,h),l=d,o=h;(t=l<2?e:o)||!u;){a||(l?l<3?(l>1&&(m.n=-1),x(l,o)):m.n=o:m.v=o);try{if(c=2,a){if(l||(n="next"),t=a[n]){if(!(t=t.call(a,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(o=TypeError("The iterator does not provide a '"+n+"' method"),l=1);a=e}else if((t=(u=m.n<0)?o:r.call(s,m))!==i)break}catch(t){a=e,l=1,o=t}finally{c=1}}return{value:t,done:u}}}(r,n,a),!0),c}var i={};function l(){}function o(){}function c(){}t=Object.getPrototypeOf;var d=[][s]?t(t([][s]())):(ee(t={},s,function(){return this}),t),u=c.prototype=l.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ee(e,n,"GeneratorFunction")),e.prototype=Object.create(u),e}return o.prototype=c,ee(u,"constructor",c),ee(c,"constructor",o),o.displayName="GeneratorFunction",ee(c,n,"GeneratorFunction"),ee(u),ee(u,n,"Generator"),ee(u,s,function(){return this}),ee(u,"toString",function(){return"[object Generator]"}),(J=function(){return{w:a,m}})()}function ee(e,t,r,s){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}ee=function(e,t,r,s){function a(t,r){ee(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!s,configurable:!s,writable:!s}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},ee(e,t,r,s)}function te(e,t,r,s,n,a,i){try{var l=e[a](i),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(s,n)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var se=function(e){var t,r,a=e.isOpen,i=e.onClose,l=e.trailer,o=e.onConfirmArchive,c=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],u=c[1],m=function(){var e,t=(e=J().m(function e(){var t;return J().w(function(e){for(;;)switch(e.p=e.n){case 0:if(l){e.n=1;break}return e.a(2);case 1:return u(!0),e.p=2,e.n=3,o(l);case 3:i(),e.n=5;break;case 4:e.p=4,t=e.v,console.error("Error archiving trailer:",t);case 5:return e.p=5,u(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}),function(){var t=this,r=arguments;return new Promise(function(s,n){var a=e.apply(t,r);function i(e){te(a,s,n,i,l,"next",e)}function l(e){te(a,s,n,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}();return l?(0,s.jsx)(Q.a,{isOpen:a,onClose:i,title:"Archive Trailer?",size:"sm",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,s.jsx)(h.A,{size:24,className:"text-red-600"})})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:["This will archive ",(0,s.jsxs)("strong",{children:["Trailer ",l.trailerName]})," and move it to archived status. The trailer will no longer be available for new assignments but records will be preserved."]}),(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Registration:"})," ",l.registrationNumber]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Location:"})," ",l.location]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Inventory Items:"})," ",l.inventory.length," film types"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Activity Logs:"})," ",l.activityLogs.length," entries"]})]})]})})]}),(0,s.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(h.A,{size:16,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,s.jsx)("strong",{children:"Note:"})," If this trailer is currently assigned to any projects, it will remain assigned but marked as archived."]})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)(w.$,{type:"button",variant:"secondary",onClick:i,disabled:d,children:"Cancel"}),(0,s.jsx)(w.$,{type:"button",onClick:m,disabled:d,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white",children:d?"Archiving...":"Archive Trailer"})]})]})}):null},ne=r(1819),ae=r(4131),ie=r(4159);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function oe(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach(function(t){ue(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ue(e,t,r){return(t=function(e){var t=function(e){if("object"!=le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,a,i,l=[],o=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(s=a.call(r)).done)&&(l.push(s.value),l.length!==t);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return he(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var fe=function(){var e=(0,a.g)().trailerId,t=(0,a.Zp)(),r=(0,ae.A)(),p=r.user,y=(r.hasPermission,"executive"===(null==p?void 0:p.userType)),g=me((0,n.useState)(ie.d),2),v=g[0],j=g[1],b=me((0,n.useState)(!1),2),k=b[0],S=b[1],L=me((0,n.useState)(null),2),A=L[0],O=L[1],G=me((0,n.useState)("list"),2),P=G[0],E=G[1],I=me((0,n.useState)(null),2),B=I[0],z=I[1],M=me((0,n.useState)([]),2),R=M[0],F=M[1],W=me((0,n.useState)(!1),2),$=W[0],U=(W[1],me((0,n.useState)(!1),2)),_=(U[0],U[1],me((0,n.useState)(""),2)),Z=_[0],H=_[1],X=me((0,n.useState)(""),2),K=X[0],V=X[1],q=me((0,n.useState)(""),2),Q=q[0],J=q[1],ee=me((0,n.useState)(!1),2),te=ee[0],re=ee[1],le=v.map(function(e){return e.trailerName}),ce=(0,n.useMemo)(function(){return v.filter(function(e){var t=!Z||e.trailerName.toLowerCase().includes(Z.toLowerCase())||e.registrationNumber.toLowerCase().includes(Z.toLowerCase()),r=!K||e.status===K,s=!Q||e.state===Q,n=te?"archived"===e.status:"archived"!==e.status;return t&&r&&s&&n})},[v,Z,K,Q,te]),ue=(0,n.useMemo)(function(){if(!y)return null;var e=v.length,t=v.filter(function(e){return"available"===e.status}).length,r=v.filter(function(e){return"low"===e.status}).length,s=v.filter(function(e){return"unavailable"===e.status}).length,n=v.reduce(function(e,t){return e[t.status]=(e[t.status]||0)+1,e},{}),a=v.reduce(function(e,t){return e[t.state]=(e[t.state]||0)+1,e},{}),i=v.reduce(function(e,t){return e+t.inventory.tools.reduce(function(e,t){return e+t.currentStock},0)},0),l=v.reduce(function(e,t){return e+t.inventory.filmSheets.reduce(function(e,t){return e+t.currentStock},0)},0);return{totalTrailers:e,availableTrailers:t,lowStockTrailers:r,unavailableTrailers:s,trailersByStatus:n,trailersByState:a,totalTools:i,totalFilmSheets:l,averageUtilization:e>0?(t+r)/e*100:0}},[v,y]),xe=e?v.find(function(t){return t.id===e}):null;(0,n.useEffect)(function(){e&&xe?E("detail"):e||E(function(e){return"create"===e||"edit"===e?e:"list"})},[e,xe]),(0,ne.KF)("detail"===P&&xe?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Trailer ".concat(xe.trailerName)}]:"create"===P?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Add New Trailer"}]:"edit"===P&&B?[{label:"Trailers",href:"/trailers",icon:i.A},{label:"Edit Trailer ".concat(B.trailerName)}]:[{label:"Trailers",icon:i.A}],[P,xe,B]),(0,n.useEffect)(function(){e&&!xe&&t("/trailers",{replace:!0})},[e,xe,t]);var he=(0,n.useCallback)(function(e){var t=(new Date).toISOString(),r=(0,T.A6)(e.inventory),s=(0,T.yS)(r),n=de(de({},e),{},{id:crypto.randomUUID(),inventory:r,status:s,createdAt:t,updatedAt:t});j(function(e){return[].concat(oe(e),[n])}),E("list")},[]),fe=(0,n.useCallback)(function(e){t("/trailers/".concat(e.id))},[t]),pe=(0,n.useCallback)(function(){t("/trailers"),E("list")},[t]),ye=(0,n.useCallback)(function(e){z(e),E("edit")},[]),ge=(0,n.useCallback)(function(e){var t=(new Date).toISOString(),r=de(de({},e),{},{id:(null==B?void 0:B.id)||crypto.randomUUID(),createdAt:(null==B?void 0:B.createdAt)||t,updatedAt:t});j(function(e){return e.map(function(e){return e.id===r.id?r:e})}),E("list"),z(null)},[B]),ve=(0,n.useCallback)(function(){E("create")},[]),je=(0,n.useCallback)(function(){E("list"),z(null)},[]),be=(0,n.useCallback)(function(e){O(e),S(!0)},[]),Ne=(0,n.useCallback)(function(r){j(function(e){return e.map(function(e){return e.id===r.id?de(de({},e),{},{status:"archived"}):e})}),e===r.id&&t("/trailers")},[e,t]),we=(0,n.useCallback)(function(){S(!1),O(null)},[]),ke=(0,n.useCallback)(function(e){F(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):[].concat(oe(t),[e])})},[]),Se=(0,n.useCallback)(function(){R.length===v.length?F([]):F(v.map(function(e){return e.id}))},[R.length,v]),Te=(0,n.useCallback)(function(e){console.log("Bulk action: ".concat(e," on trailers:"),R)},[R]);return(0,n.useCallback)(function(){console.log("Export all trailers data")},[]),(0,n.useCallback)(function(){console.log("Refresh inventory status for all trailers")},[]),0===v.length&&"list"===P?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,s.jsxs)(N.Z,{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"mx-auto w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,s.jsx)(i.A,{size:48,className:"text-blue-600"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"No Trailers Yet"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first trailer to manage inventory, track locations, and streamline your operations."}),(0,s.jsx)(w.$,{variant:"primary",size:"lg",onClick:ve,icon:l.A,className:"mb-8",children:"Create Your First Trailer"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(o.A,{size:24,className:"text-green-600"})}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Tool Management"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Track tools and equipment with real-time inventory levels"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(c.A,{size:24,className:"text-purple-600"})}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Film Inventory"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor film sheet stock and get low inventory alerts"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(d.A,{size:24,className:"text-orange-600"})}),(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location Tracking"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Keep track of trailer locations and parking addresses"})]})]})]}),(0,s.jsxs)(N.Z,{className:"mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started Tips"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"1"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Set up basic information"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Add trailer name, registration number, and parking address"})]})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"2"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Configure inventory thresholds"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Set minimum stock levels for tools and film sheets"})]})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,s.jsx)("span",{className:"text-blue-600 text-sm font-semibold",children:"3"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-900 font-medium",children:"Start tracking"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Monitor inventory levels and get automated alerts"})]})]})]})]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["detail"===P&&xe?(0,s.jsx)(D,{trailer:xe,onBack:pe,onEdit:ye,onArchive:be,onRestock:function(e){j(function(t){return t.map(function(t){return t.id===e.id?e:t})})}}):"create"===P?(0,s.jsx)(Y,{trailer:null,onSave:he,onCancel:je,existingTrailerNumbers:le}):"edit"===P&&B?(0,s.jsx)(Y,{trailer:B,onSave:ge,onCancel:je,existingTrailerNumbers:le.filter(function(e){return e!==(null==B?void 0:B.trailerName)})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Trailer Management"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage trailer inventory and track film stock levels"})]}),(0,s.jsx)(w.$,{onClick:ve,icon:l.A,children:"Add New Trailer"})]}),(0,s.jsx)(N.Z,{children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.A,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search trailers by name or registration number..",value:Z,onChange:function(e){return H(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,s.jsxs)("select",{value:K,onChange:function(e){return V(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),(0,s.jsx)("option",{value:"available",children:"Available"}),(0,s.jsx)("option",{value:"low",children:"Low Stock"}),(0,s.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,s.jsxs)("select",{value:Q,onChange:function(e){return J(e.target.value)},className:"px-3 py-2 pr-7 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),(0,s.jsx)("option",{value:"CA",children:"California"}),(0,s.jsx)("option",{value:"TX",children:"Texas"}),(0,s.jsx)("option",{value:"NY",children:"New York"}),(0,s.jsx)("option",{value:"FL",children:"Florida"}),(0,s.jsx)("option",{value:"IL",children:"Illinois"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(w.$,{variant:"secondary",onClick:function(){console.log("Show map view")},icon:d.A,children:"Show Map"}),(0,s.jsx)(w.$,{variant:te?"primary":"secondary",onClick:function(){return re(!te)},icon:m.A,title:te?"Show Active Trailers":"Show Archived Trailers"})]})]})}),y&&$&&ue&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(N.Z,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Trailers"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ue.totalTrailers})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,s.jsx)(i.A,{className:"w-6 h-6 text-blue-600"})})]})}),(0,s.jsx)(N.Z,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:ue.availableTrailers})]}),(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,s.jsx)(x.A,{className:"w-6 h-6 text-green-600"})})]})}),(0,s.jsx)(N.Z,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:ue.lowStockTrailers})]}),(0,s.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,s.jsx)(h.A,{className:"w-6 h-6 text-orange-600"})})]})}),(0,s.jsx)(N.Z,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Utilization"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[ue.averageUtilization.toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,s.jsx)(f.A,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,s.jsx)(C,{trailers:ce,onCreateTrailer:ve,onViewTrailer:fe,onEditTrailer:ye,onArchiveTrailer:be,isExecutive:y,selectedTrailers:R,onSelectTrailer:ke,onSelectAllTrailers:Se,onBulkAction:Te})]}),(0,s.jsx)(se,{isOpen:k,onClose:we,trailer:A,onConfirmArchive:Ne})]})}}}]);