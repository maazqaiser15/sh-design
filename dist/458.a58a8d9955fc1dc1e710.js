"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[458],{408:(e,s,t)=>{t.d(s,{xw:()=>a});const a=[{id:"win-001",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:3,status:"Pending",assignedTeamMembers:[],installationBreakdown:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",projectId:"proj-001"},{id:"win-002",windowName:"Conference Room Window",filmType:"Riot+",length:200,width:100,layers:2,status:"In Progress",assignedTeamMembers:["tm-001","tm-002"],installationBreakdown:[{layerNumber:1,layerName:"Interior Layer",installerName:"John Smith",installerId:"tm-001",installedAt:"2024-01-16T09:00:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T09:00:00Z",projectId:"proj-001"},{id:"win-003",windowName:"Reception Area Window",filmType:"Security",length:150,width:90,layers:1,status:"Complete",assignedTeamMembers:["tm-003"],installationBreakdown:[{layerNumber:1,layerName:"Security Film",installerName:"Mike Lee",installerId:"tm-003",installedAt:"2024-01-16T14:30:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:30:00Z",projectId:"proj-001"},...Array.from({length:57},(e,s)=>{const t=s+4,a=["BR","Riot","Riot+","Security","Privacy","Decorative","Other"],r=["Pending","In Progress","Complete","Reinstallation Needed"],l=a[s%a.length],n=r[s%r.length],i=Math.floor(3*Math.random())+1,d="In Progress"===n||"Complete"===n?["tm-001","tm-002","tm-003","tm-004","tm-005"].slice(0,Math.floor(3*Math.random())+1):[],o="Complete"===n||"In Progress"===n?Array.from({length:i},(e,s)=>({layerNumber:s+1,layerName:`Layer ${s+1}`,installerName:`Installer ${String.fromCharCode(65+s)}`,installerId:`tm-${String(s+1).padStart(3,"0")}`,installedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),status:Math.random()>.1?"installed":"reinstallation_needed"})):[];return{id:`win-${String(t).padStart(3,"0")}`,windowName:`Window ${t}`,filmType:l,length:Math.floor(200*Math.random())+80,width:Math.floor(120*Math.random())+60,layers:i,status:n,assignedTeamMembers:d,installationBreakdown:o,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),projectId:"proj-001"}})]},1747:(e,s,t)=>{t.d(s,{b:()=>o});var a=t(4848),r=t(6540),l=t(9775),n=t(1085),i=t(894),d=t(5919);const o=({isOpen:e,onClose:s,onSave:t,onEdit:o,editingTravel:c,availableTeamMembers:m})=>{const[x,h]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,u]=(0,r.useState)({}),g=!!c;(0,r.useEffect)(()=>{e&&(h(c?{travelType:c.travelType,departureLocation:c.departureLocation,destination:c.destination,departureDate:c.departureDate,returnDate:c.returnDate||"",assignedTeamMembers:c.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),u({}))},[e,c]);const j=(e,s)=>{h(t=>({...t,[e]:s})),p[e]&&u(s=>({...s,[e]:""}))},f=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,a.jsx)(i.a,{isOpen:e,onClose:s,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),u(e),0===Object.keys(e).length})())return;const a={...x,returnDate:x.returnDate||void 0};g&&o?o(c.id,a):t(a),s()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:x.travelType,onChange:e=>j("travelType",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>j("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:x.destination,onChange:e=>j("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>j("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>j("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),f().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",f().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:f().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return s=e.id,void h(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(s)?e.assignedTeamMembers.filter(e=>e!==s):[...e.assignedTeamMembers,s]}));var s},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(d.$,{type:"button",variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,s,t)=>{t.d(s,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},2845:(e,s,t)=>{t.d(s,{Qp:()=>l});var a=t(9803);const r=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),l=()=>a.d.map(r)},4458:(e,s,t)=>{t.d(s,{ProjectDetailsPage:()=>qe});var a=t(4848),r=t(6540),l=t(7767),n=t(4976),i=t(2040),d=t(7894),o=t(8085),c=t(4574),m=t(339),x=t(4722),h=t(5212),p=t(1747),u=t(2321),g=t(9809),j=t(3729),f=t(5732),b=t(9237),y=t(799),N=t(7596),v=t(1397),w=t(5919),C=t(894);const k=({isOpen:e,onClose:s,onAssignTrailer:t,availableTrailers:l,assignedTrailerId:n})=>{const[i,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,p]=(0,r.useState)(n||null),u=(0,r.useMemo)(()=>{const e=l.map(e=>e.currentLocation);return[...new Set(e)].sort()},[l]),g=(0,r.useMemo)(()=>l.filter(e=>{const s=e.trailerName.toLowerCase().includes(i.toLowerCase())||e.registrationNumber.toLowerCase().includes(i.toLowerCase())||e.currentLocation.toLowerCase().includes(i.toLowerCase()),t=!o||e.status===o,a=!m||e.currentLocation===m;return s&&t&&a}),[l,i,o,m]),k=()=>{s(),d(""),c(""),p(n||null)};return(0,a.jsx)(C.a,{isOpen:e,onClose:k,title:"Assign Trailer to Project",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:i,onChange:e=>d(e.target.value)}),i&&(0,a.jsx)("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(b.A,{size:16})})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>c(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),u.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===g.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(N.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,a.jsx)("div",{className:"space-y-3",children:g.map(e=>{const s=(e=>"available"===e.status)(e),t=h===e.id;return(e=>{e.inventory.filmSheets.reduce((e,s)=>e+s.currentStock,0),e.inventory.tools.filter(e=>"good"===e.status).length,e.inventory.tools.length})(e),(0,a.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 "+(s?t?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>{return s&&(t=e.id,void p(t));var t},children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1",children:s?t?(0,a.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-3 h-3 text-white"})}):(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,a.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"w-3 h-3 text-gray-500"})})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-blue-600"})})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-1 "+(s?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("p",{className:"text-sm "+(s?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{children:e.currentLocation})]})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end",children:"available"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"Unavailable"]}),(0,a.jsxs)("span",{className:"text-xs text-red-600 mt-1",children:["until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})]})})]})})]})},e.id)})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(w.$,{variant:"secondary",onClick:k,children:"Cancel"}),(0,a.jsx)(w.$,{variant:"primary",onClick:()=>{const e=l.find(e=>e.id===h);e&&(t(e),s())},disabled:!h,children:n?"Update Trailer":"Assign Trailer"})]})]})})};var S=t(3459),A=t(45),D=t(1314);const M=({assignedTrailer:e,onAssignTrailer:s,onAddAttachment:t,onMarkComplete:l,hasReceipt:n=!1,isCompleted:i=!1,availableTrailers:d=[],attachedFiles:o=[]})=>{const[c,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)(o),u=(0,r.useRef)(null),g=e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex gap-4 items-start w-full",children:(0,a.jsx)("div",{className:"flex flex-col gap-1 flex-1",children:(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Trailer & Films"})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e?e.trailerName:"No trailer assigned yet"})]}),(0,a.jsxs)("button",{onClick:()=>x(!0),className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),e?"Change trailer":"Add trailer"]})]}),(0,a.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:h.length>0?`${h.length} file(s) attached`:"No receipt attached yet"})]}),(0,a.jsxs)("button",{onClick:()=>{u.current?.click()},className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),"Add attachment"]})]}),(0,a.jsx)("input",{ref:u,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const s=Array.from(e.target.files||[]);if(s.length>0){const e=[...h,...s];p(e),t&&t(e)}u.current&&(u.current.value="")},className:"hidden"}),h.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:h.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:g(e.size)})]})]}),(0,a.jsx)("button",{onClick:()=>(e=>{const s=h.filter((s,t)=>t!==e);p(s),t&&t(s)})(s),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove file",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},s))})]}),e&&(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 "+(i?"text-green-600":"text-gray-400")}),(0,a.jsx)("span",{className:"text-sm "+(i?"text-green-700":"text-gray-700"),children:i?"Trailer & Films completed":"Ready to mark as complete"})]}),!i&&(0,a.jsxs)("button",{onClick:()=>{l&&l()},className:"bg-gray-50 border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full border border-gray-600 flex items-center justify-center",children:(0,a.jsx)("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1 3L3 5L7 1",stroke:"#374151",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),"Mark as complete"]}),i&&(0,a.jsxs)("div",{className:"bg-green-100 text-green-800 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),"Completed"]})]})]})}),(0,a.jsx)(k,{isOpen:c,onClose:()=>x(!1),onAssignTrailer:e=>{s(e),x(!1)},availableTrailers:d,assignedTrailerId:e?.id})]})};var T=t(9408);const L=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),I=({member:e,onClick:s,onRemove:t,className:r=""})=>{const{name:l,role:n,avatar:i,location:d,isLead:o}=e,c=i||(l.toLowerCase().includes("james")?"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face":l.toLowerCase().includes("emma")?"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face":void 0);return(0,a.jsxs)("div",{className:`bg-white rounded-xl border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-all duration-200 group relative ${r}`,onClick:s,children:[t&&(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),t?.(e.id)},className:"absolute top-2 right-2 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600",title:"Remove team member",children:(0,a.jsx)(L,{})}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(T.e,{src:c,name:l,size:"md"})}),(0,a.jsxs)("div",{className:"flex flex-col items-start min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828] leading-5 truncate",children:l}),o&&(0,a.jsx)("span",{className:"bg-[#0D76BF] text-white px-2 py-0.5 rounded text-xs font-medium",children:"Lead"})]}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5 truncate",children:n}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1C4.34 1 3 2.34 3 4C3 6.5 6 9 6 9C6 9 9 6.5 9 4C9 2.34 7.66 1 6 1ZM6 5.25C5.45 5.25 5 4.8 5 4.25C5 3.7 5.45 3.25 6 3.25C6.55 3.25 7 3.7 7 4.25C7 4.8 6.55 5.25 6 5.25Z",fill:"#6B7280"})}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#6B7280] leading-4 truncate",children:d})]})]})]})]})},P=({members:e,onMemberClick:s,onMemberRemove:t,maxVisible:r=6,className:l=""})=>{const n=e.slice(0,r),i=e.length-r;return(0,a.jsxs)("div",{className:`space-y-3 ${l}`,children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(e=>(0,a.jsx)(I,{member:e,onClick:()=>s?.(e),onRemove:t},e.id))}),i>0&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-xs text-[#475467]",children:["+",i," more member",i>1?"s":""]})})]})},R=()=>(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),W=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),B=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M13.3333 6.66667C13.3333 8.50761 11.841 10 10 10C8.15905 10 6.66667 8.50761 6.66667 6.66667C6.66667 4.82572 8.15905 3.33333 10 3.33333C11.841 3.33333 13.3333 4.82572 13.3333 6.66667Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M10 12.5C7.23858 12.5 5 14.7386 5 17.5H15C15 14.7386 12.7614 12.5 10 12.5Z",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M15.8333 6.66667C15.8333 7.58714 15.4542 8.47052 14.7791 9.14559C14.104 9.82066 13.2206 10.2 12.3 10.2",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M17.5 12.5C17.5 13.4205 17.1209 14.3039 16.4458 14.9789C15.7707 15.654 14.8873 16.0333 13.9667 16.0333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round"})]}),O=({icon:e,message:s})=>(0,a.jsxs)("div",{className:"flex flex-col gap-1.5 items-center w-full",children:[e,(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:s})]}),F=({title:e,subtitle:s,actionButtons:t})=>(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:e}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:s})]}),t]}),$=({assignedTeam:e,onAddMember:s,onRemoveMember:t,onMarkComplete:r,isCompleted:l=!1,showActions:n=!0})=>{const i=e&&e.members.length>0;return(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(F,{title:"Assigned team",subtitle:"Select team members",actionButtons:n?(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[i&&(l?(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,a.jsx)(R,{}),"Completed"]}):(0,a.jsxs)("button",{onClick:r,className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(R,{}),"Mark as Complete"]})),(0,a.jsx)("button",{onClick:s,className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(W,{})})]}):null}),i?(0,a.jsx)(P,{members:e.members.map(s=>({...s,isLead:s.id===e.leadMember?.id})),onMemberClick:e=>console.log("Member clicked:",e),onMemberRemove:t,maxVisible:4}):(0,a.jsx)(O,{icon:(0,a.jsx)(B,{}),message:"No team assigned yet"})]})})};var q=t(82),E=t(3573),U=t(1523),z=t(9775),V=t(6085),J=t(1676),Z=t(1415),Q=t(775),_=t(2053);const H=[{id:"1",name:"John Smith",role:"Project Manager"},{id:"2",name:"Sarah Johnson",role:"Site Engineer"},{id:"3",name:"Mike Wilson",role:"Safety Officer"},{id:"4",name:"Lisa Brown",role:"Quality Inspector"},{id:"5",name:"David Lee",role:"Technician"},{id:"6",name:"Emma Davis",role:"Supervisor"}],G=({isOpen:e,onClose:s,onSubmit:t})=>{const[l,n]=(0,r.useState)([]),[i,d]=(0,r.useState)([]),[o,x]=(0,r.useState)([{vehicleName:"",registration:"",contactPersonName:"",contactNumber:"",fromDate:"",toDate:"",bookingSlipFiles:[]}]),h=(e,s,t)=>{n(a=>a.map(a=>a.id===e?{...a,[s]:t}:a))},p=(e,s,t)=>{x(a=>a.map((a,r)=>r===e?{...a,[s]:t}:a))},u=(e,s,t)=>{d(a=>a.map((a,r)=>r===e?{...a,[s]:t}:a))};return(0,a.jsx)(C.a,{isOpen:e,onClose:s,title:"Add Travel & Accommodation Details",size:"xl",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Flight Tickets"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[l.length," ticket",1!==l.length?"s":""," configured"]})]}),(0,a.jsx)(w.$,{variant:"primary",size:"sm",onClick:()=>{const e={id:Date.now().toString(),passengerName:"",isRoundTrip:!1,departureDate:"",departureTime:"",arrivalDate:"",arrivalTime:"",airline:"",cost:""};n(s=>[...s,e])},icon:m.A,children:"Add Ticket"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[l.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:["Ticket ",s+1]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isRoundTrip,onChange:s=>h(e.id,"isRoundTrip",s.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Round Trip"})]}),(0,a.jsx)("button",{onClick:()=>{return s=e.id,void n(e=>e.filter(e=>e.id!==s));var s},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passenger *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsxs)("select",{value:e.passengerName,onChange:s=>h(e.id,"passengerName",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select passenger"}),H.map(e=>(0,a.jsxs)("option",{value:e.name,children:[e.name," - ",e.role]},e.id))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.departureDate,onChange:s=>h(e.id,"departureDate",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Time *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(U.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"time",value:e.departureTime,onChange:s=>h(e.id,"departureTime",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.arrivalDate,onChange:s=>h(e.id,"arrivalDate",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Time *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(U.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"time",value:e.arrivalTime,onChange:s=>h(e.id,"arrivalTime",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Airline *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e.airline,onChange:s=>h(e.id,"airline",s.target.value),placeholder:"Enter airline name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Cost *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(V.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"number",value:e.cost,onChange:s=>h(e.id,"cost",s.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ticket Upload"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"file",id:`ticket-${e.id}`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:s=>((e,s)=>{const t=s.target.files?.[0];t&&h(e,"attachment",t)})(e.id,s),className:"hidden"}),(0,a.jsxs)("label",{htmlFor:`ticket-${e.id}`,className:"flex items-center justify-center w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(J.A,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.attachment?e.attachment.name:"Upload ticket"})]})]})]})]}),e.isRoundTrip&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("h5",{className:"font-medium text-gray-900",children:"Return Ticket Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.returnDate||"",onChange:s=>h(e.id,"returnDate",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Time *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(U.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"time",value:e.returnTime||"",onChange:s=>h(e.id,"returnTime",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Arrival Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.returnArrivalDate||"",onChange:s=>h(e.id,"returnArrivalDate",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Arrival Time *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(U.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"time",value:e.returnArrivalTime||"",onChange:s=>h(e.id,"returnArrivalTime",s.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Airline *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e.returnAirline||"",onChange:s=>h(e.id,"returnAirline",s.target.value),placeholder:"Enter return airline name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Cost *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(V.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"number",value:e.returnCost||"",onChange:s=>h(e.id,"returnCost",s.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Ticket Upload"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"file",id:`return-ticket-${e.id}`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:s=>{const t=s.target.files?.[0];t&&h(e.id,"returnAttachment",t)},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:`return-ticket-${e.id}`,className:"flex items-center justify-center w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(J.A,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.returnAttachment?e.returnAttachment.name:"Upload return ticket"})]})]})]})]})]})]},e.id)),0===l.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(z.A,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{children:'No flight tickets added yet. Click "Add Ticket" to get started.'})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Accommodation Details"})]}),(0,a.jsxs)("button",{onClick:()=>{const e={hotelName:"",numberOfRooms:1,checkInDate:"",checkOutDate:"",reservationSlipFiles:[]};d(s=>[...s,e])},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 transition-colors",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Add Hotel"]})]}),0===i.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Z.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No hotels added yet. Click 'Add Hotel' to get started."})]}):(0,a.jsx)("div",{className:"space-y-4",children:i.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:["Hotel ",s+1]})]}),(0,a.jsxs)("button",{onClick:()=>{return e=s,void d(s=>s.filter((s,t)=>t!==e));var e},className:"flex items-center gap-1 px-2 py-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[(0,a.jsx)(q.A,{className:"w-3 h-3"}),"Remove"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Name *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Z.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e.hotelName,onChange:e=>u(s,"hotelName",e.target.value),placeholder:"Enter hotel name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Rooms *"}),(0,a.jsx)("input",{type:"number",value:e.numberOfRooms,onChange:e=>u(s,"numberOfRooms",Math.max(1,Number(e.target.value))),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.checkInDate,onChange:e=>u(s,"checkInDate",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.checkOutDate,onChange:e=>u(s,"checkOutDate",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Reservation Slips"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:`hotel-reservation-${s}`,multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>((e,s)=>{const t=Array.from(s.target.files||[]);u(e,"reservationSlipFiles",[...i[e].reservationSlipFiles,...t])})(s,e),className:"hidden"}),(0,a.jsxs)("label",{htmlFor:`hotel-reservation-${s}`,className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(J.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload reservation slips or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),e.reservationSlipFiles.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:e.reservationSlipFiles.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-md p-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,a.jsx)("button",{onClick:()=>((e,s)=>{const t=i[e].reservationSlipFiles.filter((e,t)=>t!==s);u(e,"reservationSlipFiles",t)})(s,t),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},t))})]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Rental Vehicle Details"})]}),(0,a.jsxs)("button",{onClick:()=>{const e={vehicleName:"",registration:"",contactPersonName:"",contactNumber:"",fromDate:"",toDate:"",bookingSlipFiles:[]};x(s=>[...s,e])},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-orange-600 bg-orange-50 border border-orange-200 rounded-md hover:bg-orange-100 transition-colors",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Add Vehicle"]})]}),o.map((e,s)=>(0,a.jsxs)("div",{className:"mb-6 p-4 bg-white rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h4",{className:"text-md font-medium text-gray-800",children:["Vehicle ",s+1]}),o.length>1&&(0,a.jsxs)("button",{onClick:()=>{return e=s,void x(s=>s.filter((s,t)=>t!==e));var e},className:"flex items-center gap-1 px-2 py-1 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md hover:bg-red-100 transition-colors",children:[(0,a.jsx)(q.A,{className:"w-3 h-3"}),"Remove"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e.vehicleName,onChange:e=>p(s,"vehicleName",e.target.value),placeholder:"Enter vehicle name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),(0,a.jsx)("input",{type:"text",value:e.registration,onChange:e=>p(s,"registration",e.target.value),placeholder:"Enter registration number",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:e.contactPersonName,onChange:e=>p(s,"contactPersonName",e.target.value),placeholder:"Enter contact person name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(_.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"tel",value:e.contactNumber,onChange:e=>p(s,"contactNumber",e.target.value),placeholder:"Enter contact number",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.fromDate,onChange:e=>p(s,"fromDate",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",value:e.toDate,onChange:e=>p(s,"toDate",e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Booking Slips"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:`rentalBookingSlipsUpload-${s}`,multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>((e,s)=>{const t=Array.from(s.target.files||[]);p(e,"bookingSlipFiles",[...o[e].bookingSlipFiles,...t])})(s,e),className:"hidden"}),(0,a.jsxs)("label",{htmlFor:`rentalBookingSlipsUpload-${s}`,className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(J.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload booking slips or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),e.bookingSlipFiles.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:e.bookingSlipFiles.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,a.jsx)("button",{onClick:()=>((e,s)=>{const t=o[e].bookingSlipFiles.filter((e,t)=>t!==s);p(e,"bookingSlipFiles",t)})(s,t),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},t))})]})]},s))]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{s()},className:"px-6 py-2",children:"Cancel"}),(0,a.jsx)(w.$,{onClick:()=>{const e={tickets:l,hotelDetails:i.filter(e=>e.hotelName),rentalVehicleDetails:o.filter(e=>e.vehicleName)};t(e),s()},disabled:!(()=>{const e=i.length>0&&i.every(e=>e.hotelName&&e.checkInDate&&e.checkOutDate),s=l.length>0&&l.every(e=>{const s=""!==e.passengerName&&""!==e.departureDate&&""!==e.departureTime&&""!==e.arrivalDate&&""!==e.arrivalTime&&""!==e.airline.trim()&&""!==e.cost.trim();return e.isRoundTrip?s&&""!==e.returnDate&&""!==e.returnTime&&""!==e.returnArrivalDate&&""!==e.returnArrivalTime&&""!==e.returnAirline?.trim()&&""!==e.returnCost?.trim():s}),t=o.every(e=>!e.vehicleName||e.vehicleName&&e.registration&&e.contactPersonName&&e.contactNumber&&e.fromDate&&e.toDate);return e&&s&&t})(),className:"px-6 py-2",children:"Submit Details"})]})]})})},K=({isOpen:e,onClose:s,onSubmit:t,assignedTeamMembers:l,projectLocation:n})=>{const[i,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[h,p]=(0,r.useState)("air"),[u,g]=(0,r.useState)([]),[j,f]=(0,r.useState)([]),[b,y]=(0,r.useState)({fromDate:"",toDate:"",numberOfCars:1}),[N,v]=(0,r.useState)({}),[k,S]=(0,r.useState)({}),[A,D]=(0,r.useState)({}),M=(e,s)=>{S(t=>({...t,[e]:s})),g(t=>t.map(t=>t.id===e?{...t,travelMethod:s}:t))},L=(e,s)=>{y(t=>({...t,[e]:s}))};return(0,a.jsx)(C.a,{isOpen:e,onClose:s,title:"Request Travel & Accommodation",size:"lg",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Please specify your travel and accommodation requirements. You can add detailed information later."}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"Travel Required"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:i,onChange:e=>d(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i&&(0,a.jsx)("div",{className:"space-y-4 pl-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-3",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,a.jsx)("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(T.e,{src:e.avatar,name:e.name,size:"lg"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.role})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1C4.34 1 3 2.34 3 4C3 6.5 6 9 6 9C6 9 9 6.5 9 4C9 2.34 7.66 1 6 1ZM6 5.25C5.45 5.25 5 4.8 5 4.25C5 3.7 5.45 3.25 6 3.25C6.55 3.25 7 3.7 7 4.25C7 4.8 6.55 5.25 6 5.25Z",fill:"#6B7280"})}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 truncate",children:[e.location," → ",n]})]})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:N[e.id]||!1,onChange:s=>((e,s)=>{if(v(t=>({...t,[e]:s})),s){const s=l.find(s=>s.id===e);s&&!u.some(s=>s.id===e)&&g(t=>[...t,{...s,travelMethod:k[e]||"air"}])}else g(s=>s.filter(s=>s.id!==e))})(e.id,s.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),N[e.id]&&(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-3",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Travel Method"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:`travelMethod-${e.id}`,value:"air",checked:"air"===(k[e.id]||"air"),onChange:()=>M(e.id,"air"),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-700",children:"Air"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:`travelMethod-${e.id}`,value:"road",checked:"road"===(k[e.id]||"air"),onChange:()=>M(e.id,"road"),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-700",children:"Road"})]})]})]})]})},e.id))}),u.length>0&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-blue-100 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800 font-medium",children:[u.length," team member",u.length>1?"s":""," selected for travel"]})})]})})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"Accommodation Required"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),o&&(0,a.jsxs)("div",{className:"space-y-4 pl-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-green-700 mb-3",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,a.jsx)("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(T.e,{src:e.avatar,name:e.name,size:"lg"})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.role})]})})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:A[e.id]||!1,onChange:s=>((e,s)=>{if(D(t=>({...t,[e]:s})),s){const s=l.find(s=>s.id===e);s&&!j.some(s=>s.id===e)&&f(e=>[...e,s])}else f(s=>s.filter(s=>s.id!==e))})(e.id,s.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]})})},e.id))}),j.length>0&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-green-100 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:[j.length," team member",j.length>1?"s":""," selected for accommodation"]})})]}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"Accommodation details can be added later after the request is approved."})]})]}),(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-orange-900",children:"Rental Vehicle Required"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:m,onChange:e=>x(e.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"})]})]}),m&&(0,a.jsxs)("div",{className:"space-y-4 pl-2",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"From Date"}),(0,a.jsx)("input",{type:"date",value:b.fromDate,onChange:e=>L("fromDate",e.target.value),className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"To Date"}),(0,a.jsx)("input",{type:"date",value:b.toDate,onChange:e=>L("toDate",e.target.value),className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-orange-700 mb-2",children:"Number of Cars Needed"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",value:b.numberOfCars,onChange:e=>L("numberOfCars",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),b.fromDate&&b.toDate&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-orange-100 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-orange-800 font-medium",children:[b.numberOfCars," car",b.numberOfCars>1?"s":""," needed from ",new Date(b.fromDate).toLocaleDateString()," to ",new Date(b.toDate).toLocaleDateString()]})})]}),(0,a.jsx)("p",{className:"text-sm text-orange-700",children:"Vehicle details can be added later after the request is approved."})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{s()},className:"px-6 py-2",children:"Cancel"}),(0,a.jsx)(w.$,{onClick:()=>{t({travelRequired:i,accommodationRequired:o,rentalVehicleRequired:m,travelMethod:i?h:void 0,selectedTeamMembers:u,selectedAccommodationMembers:j,rentalVehicleDetails:m?b:void 0}),s()},disabled:!((i||o||m)&&(!m||b.fromDate&&b.toDate&&b.numberOfCars>0)),className:"px-6 py-2",children:"Submit Request"})]})]})})};var Y=t(5339),X=t(7379);const ee=({travelAccommodationData:e,onAddDetails:s,onMarkComplete:t,onExpand:r,onEditDetails:l,isCompleted:n=!1})=>{const i=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),d=e=>new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});if(!e||!(e.tickets.length>0||e.hotelDetails.length>0||e.rentalVehicleDetails?.length>0))return(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"No details added yet"})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)("button",{onClick:s,className:"bg-white border border-gray-300 border-dashed text-gray-700 w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})})]})})});const o=e?.tickets.length||0,x=(e?.tickets.filter(e=>e.attachment).length||0)+(e?.hotelDetails?.reduce((e,s)=>e+(s.reservationSlipFiles?.length||0),0)||0)+(e?.rentalVehicleDetails?.reduce((e,s)=>e+(s.bookingSlipFiles?.length||0),0)||0);return(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[o," ticket",1!==o?"s":""," • ",x," attachment",1!==x?"s":""]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[n?(0,a.jsxs)("div",{className:"bg-green-600 border border-green-600 text-white px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-3 h-3 text-white"})}),"Completed"]}):(0,a.jsxs)("button",{onClick:t,className:"bg-gray-50 border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"w-4 h-4 bg-green-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(j.A,{className:"w-3 h-3 text-white"})}),"Mark as Complete"]}),(0,a.jsx)("button",{onClick:l,className:"bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:"Edit Details"}),(0,a.jsx)("button",{onClick:r,className:"bg-white border border-gray-300 text-gray-700 w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(Y.A,{className:"w-4 h-4"})})]})]}),e?.tickets&&e.tickets.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(z.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Travel Details"})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.tickets.map((e,s)=>(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"font-medium text-blue-900",children:["Ticket ",s+1]})]}),e.attachment&&(0,a.jsxs)("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3"}),"Attachment"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Passenger:"}),(0,a.jsx)("p",{className:"text-blue-900",children:e.passengerName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Airline:"}),(0,a.jsx)("p",{className:"text-blue-900",children:e.airline})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Departure:"}),(0,a.jsxs)("p",{className:"text-blue-900",children:[i(e.departureDate)," at ",d(e.departureTime)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Arrival:"}),(0,a.jsxs)("p",{className:"text-blue-900",children:[i(e.arrivalDate)," at ",d(e.arrivalTime)]})]})]})]},e.id))})]}),e?.hotelDetails&&e.hotelDetails.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(Z.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Accommodation Details"})]}),(0,a.jsx)("div",{className:"space-y-3",children:e.hotelDetails.map((e,s)=>(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h5",{className:"font-medium text-green-900",children:["Hotel ",s+1]}),e.reservationSlipFiles.length>0&&(0,a.jsxs)("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[e.reservationSlipFiles.length," file",1!==e.reservationSlipFiles.length?"s":""]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Hotel Name:"}),(0,a.jsx)("p",{className:"text-green-900 font-medium",children:e.hotelName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Number of Rooms:"}),(0,a.jsx)("p",{className:"text-green-900 font-medium",children:e.numberOfRooms})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Check-in:"}),(0,a.jsx)("p",{className:"text-green-900 font-medium",children:i(e.checkInDate)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Check-out:"}),(0,a.jsx)("p",{className:"text-green-900 font-medium",children:i(e.checkOutDate)})]})]}),e.reservationSlipFiles&&e.reservationSlipFiles.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Reservation Slips:"})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.reservationSlipFiles.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-green-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-green-900 text-sm truncate",children:e.name}),(0,a.jsxs)("button",{className:"text-green-600 hover:text-green-800 text-sm flex items-center gap-1",children:[(0,a.jsx)(X.A,{className:"w-3 h-3"}),"Download"]})]},s))})]})]},s))})]}),e?.rentalVehicleDetails&&e.rentalVehicleDetails.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-orange-600"}),(0,a.jsx)("h4",{className:"font-semibold text-[#101828] text-base",children:"Rental Vehicle Details"})]}),(0,a.jsx)("div",{className:"space-y-4",children:e.rentalVehicleDetails.map((e,s)=>(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("h5",{className:"font-medium text-orange-900",children:["Vehicle ",s+1]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Vehicle Name:"}),(0,a.jsx)("p",{className:"text-orange-900 font-medium",children:e.vehicleName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Registration:"}),(0,a.jsx)("p",{className:"text-orange-900 font-medium",children:e.registration})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Contact Person:"}),(0,a.jsx)("p",{className:"text-orange-900 font-medium",children:e.contactPersonName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Contact Number:"}),(0,a.jsx)("p",{className:"text-orange-900 font-medium",children:e.contactNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Duration:"}),(0,a.jsxs)("p",{className:"text-orange-900 font-medium",children:[i(e.fromDate)," → ",i(e.toDate)]})]})]}),e.bookingSlipFiles&&e.bookingSlipFiles.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-orange-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-orange-600"}),(0,a.jsx)("span",{className:"text-orange-700 font-medium text-sm",children:"Booking Slips:"})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.bookingSlipFiles.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-orange-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-orange-900 text-sm truncate",children:e.name}),(0,a.jsxs)("button",{className:"text-orange-600 hover:text-orange-800 text-sm flex items-center gap-1",children:[(0,a.jsx)(X.A,{className:"w-3 h-3"}),"Download"]})]},s))})]})]},s))})]})]})})};var se=t(217),te=t(7235),ae=t(2845),re=t(408);const le=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10 18.3333C10 18.3333 16.6667 12.5 16.6667 8.33333C16.6667 6.44928 15.7143 4.64236 14.0711 3.28595C12.4278 1.92954 10.2243 1.16667 8.33333 1.16667C6.44238 1.16667 4.23886 1.92954 2.59564 3.28595C0.952427 4.64236 0 6.44928 0 8.33333C0 12.5 6.66667 18.3333 10 18.3333Z",stroke:"#667085",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z",stroke:"#667085",strokeWidth:"1.5"})]}),ne=()=>(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.66667 1.66667V4.16667M13.3333 1.66667V4.16667M2.91667 7.5H17.0833M17.5 7.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V7.5H17.5ZM2.5 7.5V5.83333C2.5 5.39131 2.67559 4.96738 2.98816 4.65482C3.30072 4.34226 3.72464 4.16667 4.16667 4.16667H15.8333C16.2754 4.16667 16.6993 4.34226 17.0118 4.65482C17.3244 4.96738 17.5 5.39131 17.5 5.83333V7.5H2.5Z",stroke:"#667085",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ie=()=>(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.3333 1.99999C11.5084 1.82498 11.7163 1.68604 11.9451 1.59128C12.1739 1.49652 12.4191 1.44775 12.6667 1.44775C12.9142 1.44775 13.1594 1.49652 13.3882 1.59128C13.617 1.68604 13.8249 1.82498 14 1.99999C14.175 2.175 14.3139 2.3829 14.4087 2.6117C14.5035 2.8405 14.5522 3.0857 14.5522 3.33332C14.5522 3.58094 14.5035 3.82614 14.4087 4.05492C14.3139 4.2837 14.175 4.4916 14 4.66665L5 13.6667L1.33333 14.6667L2.33333 11L11.3333 1.99999Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),de=()=>(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 1.33333C11.6819 1.33333 14.6667 4.3181 14.6667 8C14.6667 11.6819 11.6819 14.6667 8 14.6667C4.3181 14.6667 1.33333 11.6819 1.33333 8C1.33333 4.3181 4.3181 1.33333 8 1.33333Z",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6 8L7.33333 9.33333L10.6667 6",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),oe=()=>(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 1V11M1 6H11",stroke:"#475467",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ce=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1.66667 12.5H13.3333V4.16667H1.66667V12.5Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.3333 8.33333H15.8333L18.3333 10.8333V12.5H13.3333",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("circle",{cx:"5",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"}),(0,a.jsx)("circle",{cx:"15",cy:"15",r:"1.66667",stroke:"#0D76BF",strokeWidth:"1.5"})]}),me=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M13.3333 1.66667H5C4.55797 1.66667 4.13405 1.84226 3.82149 2.15482C3.50893 2.46738 3.33333 2.89131 3.33333 3.33333V16.6667C3.33333 17.1087 3.50893 17.5326 3.82149 17.8452C4.13405 18.1577 4.55797 18.3333 5 18.3333H15C15.442 18.3333 15.866 18.1577 16.1785 17.8452C16.4911 17.5326 16.6667 17.1087 16.6667 16.6667V6.66667L13.3333 1.66667Z",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M13.3333 1.66667V6.66667H16.6667",stroke:"#0D76BF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),xe=({title:e,status:s,description:t})=>(0,a.jsxs)("div",{className:"flex gap-3 items-start flex-1",children:[(0,a.jsx)("div",{className:"flex flex-col items-center pt-1",children:"completed"===s?(0,a.jsx)("div",{className:"bg-[#027a48] rounded-xl w-6 h-6 flex items-center justify-center",children:(0,a.jsx)(de,{})}):(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl w-6 h-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-sm text-[#344054] leading-5",children:e}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-4",children:t})]})]}),he=({icon:e,message:s,actionButton:t})=>(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1.5",children:[e,(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] text-center leading-4",children:s}),t]}),pe=()=>{const{projectId:e}=(0,l.g)(),{showToast:s}=(0,te.d)(),[t,n]=((0,l.Zp)(),(0,r.useState)(i.U)),[d,o]=(0,r.useState)(i.y),[j,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1),[D,T]=(0,r.useState)(!1),[L,I]=(0,r.useState)(null),[P,R]=(0,r.useState)(!1),[W,B]=(0,r.useState)(!1),[O,F]=(0,r.useState)(null),[q,E]=(0,r.useState)(!1),[U,z]=(0,r.useState)(null),[V,J]=(0,r.useState)(!1),[Z,Q]=(0,r.useState)(!1),[_,H]=(0,r.useState)(!1),[Y,X]=(0,r.useState)(!1),[pe,ue]=(0,r.useState)(!1),[ge,je]=(0,r.useState)(!1),[fe,be]=(0,r.useState)(!1),[ye,Ne]=(0,r.useState)(!1),[ve,we]=(0,r.useState)(!1),[Ce,ke]=(0,r.useState)(null),[Se,Ae]=(0,r.useState)(null),[De,Me]=(0,r.useState)([]),[Te,Le]=(0,r.useState)(!1),[Ie]=(0,r.useState)((0,ae.Qp)()),[Pe,Re]=(0,r.useState)(re.xw),[We,Be]=(0,r.useState)([]),[Oe,Fe]=(0,r.useState)([{id:"sw600br",name:"SW600BR",required:1,inTrailer:0,needToShip:1},{id:"sw600rc-plus",name:"SW600RC+",required:2,inTrailer:0,needToShip:2},{id:"sw600rc",name:"SW600RC",required:3,inTrailer:0,needToShip:3},{id:"sw440rc",name:"SW440RC",required:1,inTrailer:0,needToShip:1},{id:"sw600fe",name:"SW600FE",required:2,inTrailer:0,needToShip:2},{id:"sw450sr",name:"SW450SR",required:1,inTrailer:0,needToShip:1},{id:"tint-only",name:"Tint Only",required:2,inTrailer:0,needToShip:2},{id:"kevlar",name:"Kevlar",required:1,inTrailer:0,needToShip:1}]),[$e,qe]=(0,r.useState)(!1),[Ee,Ue]=(0,r.useState)([]),[ze,Ve]=(0,r.useState)(!1),Je=()=>{je(!0)},Ze=(Oe.reduce((e,s)=>e+s.required,0),Oe.reduce((e,s)=>e+s.inTrailer,0),Oe.reduce((e,s)=>e+s.needToShip,0),$e||Oe.slice(0,4),Oe.length,e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]}),Qe=e=>{const s={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};o(e=>({...e,assignedTeam:s,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},_e=e=>{const s={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};o(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,s]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},He=e=>{const s={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};o(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,s]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},Ge=e=>{z(e),o(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),J(!1)};return"WIP"===t.status?(0,a.jsx)(WIPStatusPage,{}):(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 mb-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("h1",{className:"font-semibold text-2xl text-gray-900 leading-9.5",children:"Marriot Windows Installation"}),(0,a.jsx)("div",{className:"bg-[#e6f4fd] flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-sm text-[#0d76bf] leading-5",children:"PV90"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"bg-gray-50 flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-xs text-[#344054] leading-5",children:"TXDA-SJ1BR1-EETUSC01-P20001"})}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(le,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"123 Main Street, Downtown"})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(ne,{}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:"Feb 1, 2024 – Feb 15, 2024"})]}),t.assignedCoordinator&&(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-[#475467]"}),(0,a.jsxs)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:["Coordinator: ",t.assignedCoordinator.name]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)(w.$,{onClick:()=>{console.log("Mark stage as complete")},className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:"Mark Stage as Complete"}),(0,a.jsxs)(w.$,{onClick:()=>{f(!0)},variant:"outline",className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-md font-semibold text-sm leading-5 flex items-center gap-2 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)]",children:[(0,a.jsx)(ie,{}),"Edit"]})]})]}),(0,a.jsx)("div",{className:"h-px bg-gray-200 w-full"}),(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsx)(xe,{title:"Team Assignment",status:"completed",description:"Completed"}),(0,a.jsx)(xe,{title:"Travel & Accommodation",status:_?"completed":"current",description:_?"Completed":"In Progress"}),(0,a.jsx)(xe,{title:"Trailer & Films",status:Z?"completed":"incomplete",description:Z?"Completed":"In Progress"})]})]})}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-6 flex-1",children:[(0,a.jsx)($,{assignedTeam:d.assignedTeam,onAddMember:()=>{y(!0)},onRemoveMember:e=>{o(s=>{if(!s.assignedTeam)return s;const t=s.assignedTeam.members.filter(s=>s.id!==e),a=s.assignedTeam.leadMember?.id===e?void 0:s.assignedTeam.leadMember;return{...s,assignedTeam:t.length>0?{members:t,count:t.length,leadMember:a}:null}})},onMarkComplete:()=>{X(!0),s("Assigned team marked as complete")},isCompleted:Y,showActions:!0}),ve?(0,a.jsx)(ee,{travelAccommodationData:Se,onAddDetails:Je,onMarkComplete:()=>{H(!0),s("Travel & Accommodation marked as complete")},onExpand:()=>{console.log("Expand travel accommodation details")},onEditDetails:Je,isCompleted:_}):(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:ye?"Travel not required for this project":fe?"Request submitted to logistics manager":"Assign travel & accommodation"})]}),(0,a.jsx)("div",{className:"flex gap-2 items-center",children:ye?(0,a.jsxs)(w.$,{onClick:()=>{Ne(!1),s("You can now add travel requirements")},className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Add Travel"]}):fe?(0,a.jsxs)(w.$,{onClick:Je,className:"bg-[#0d76bf] text-white px-3 py-1.5 rounded-md font-semibold text-sm leading-5 shadow-[0px_1px_2px_0px_rgba(16,24,40,0.05)] flex items-center gap-1.5",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Add Details"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>{Ne(!0),H(!0),s("Travel marked as not required for this project")},className:"bg-white border border-[#d0d5dd] text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(de,{}),"Not Required"]}),(0,a.jsx)("button",{onClick:()=>{ue(!0)},className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,a.jsx)(oe,{})})]})})]}),ye?(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(de,{}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"Travel not required for this project"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"You can add travel requirements later if needed"})]}):fe?(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(de,{}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Request submitted successfully"})]}),(0,a.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Logistics manager will review and provide details"}),Ce&&(0,a.jsxs)("div",{className:"mt-3 text-xs text-green-700",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Travel Required:"})," ",Ce.travelRequired?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Accommodation Required:"})," ",Ce.accommodationRequired?"Yes":"No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Rental Vehicle Required:"})," ",Ce.rentalVehicleRequired?"Yes":"No"]}),Ce.travelMethod&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Travel Method:"})," ","air"===Ce.travelMethod?"Air":"Road"]}),Ce.travelRequired&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Travel Team Members:"})," ",Ce.selectedTeamMembers.length," selected"]}),Ce.selectedTeamMembers.length>0&&(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("div",{className:"space-y-1",children:Ce.selectedTeamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-700",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsx)("span",{className:"text-gray-700",children:e.name}),(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.role,")"]})]},e.id))})})]}),Ce.accommodationRequired&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Accommodation Team Members:"})," ",Ce.selectedAccommodationMembers.length," selected"]}),Ce.selectedAccommodationMembers.length>0&&(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("div",{className:"space-y-1",children:Ce.selectedAccommodationMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-green-700",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsx)("span",{className:"text-gray-700",children:e.name}),(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.role,")"]})]},e.id))})})]}),Ce.rentalVehicleRequired&&Ce.rentalVehicleDetails&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Rental Vehicle Details:"})}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("span",{className:"text-gray-700",children:[(0,a.jsx)("strong",{children:"Duration:"})," ",new Date(Ce.rentalVehicleDetails.fromDate).toLocaleDateString()," to ",new Date(Ce.rentalVehicleDetails.toDate).toLocaleDateString()]})}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,a.jsxs)("span",{className:"text-gray-700",children:[(0,a.jsx)("strong",{children:"Number of Cars:"})," ",Ce.rentalVehicleDetails.numberOfCars]})})]})})]})]})]}):(0,a.jsx)(he,{icon:(0,a.jsx)(ce,{}),message:"No travel & accommodation assigned yet"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-5 border-2 transition-colors "+(Te?"border-blue-300 bg-blue-50":"border-gray-200"),onDragOver:e=>{e.preventDefault(),Le(!0)},onDragLeave:e=>{e.preventDefault(),Le(!1)},onDrop:e=>{e.preventDefault(),Le(!1);const t=e.dataTransfer.files;if(t.length>0){const e=Array.from(t);Me(s=>[...s,...e]),s(`${e.length} document(s) uploaded successfully!`)}},children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-start w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Documents"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[De.length," document",1!==De.length?"s":""]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("input",{type:"file",id:"document-upload",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif",onChange:e=>{const t=e.target.files;if(t){const e=Array.from(t);Me(s=>[...s,...e]),s(`${e.length} document(s) uploaded successfully!`)}e.target.value=""},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"document-upload",className:"bg-white border border-[#d0d5dd] border-dashed text-[#475467] px-3 py-1.5 rounded-lg font-semibold text-xs leading-5 flex items-center gap-1.5 hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload document"]})]})]}),De.length>0?(0,a.jsx)("div",{className:"space-y-3",children:De.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(me,{})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:Ze(e.size)})]})]}),(0,a.jsx)("button",{onClick:()=>(e=>{Me(s=>s.filter((s,t)=>t!==e)),s("Document removed successfully!")})(t),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Remove document",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))}):(0,a.jsx)(he,{icon:(0,a.jsx)(me,{}),message:"No documents uploaded yet"})]})}),(0,a.jsx)(se.n,{notes:d.notes,onAddNote:(s,t)=>{const a={id:`note-${Date.now()}`,content:s,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e||"",isInternal:t};o(e=>({...e,notes:[...e.notes,a]}))},onEditNote:(e,s)=>{o(t=>({...t,notes:t.notes.map(t=>t.id===e?{...t,content:s,updatedAt:(new Date).toISOString()}:t)}))},onDeleteNote:e=>{o(s=>({...s,notes:s.notes.filter(s=>s.id!==e)}))}})]}),(0,a.jsx)("div",{className:"flex flex-col gap-6 flex-1",children:(0,a.jsx)(M,{assignedTrailer:U,onAssignTrailer:Ge,onAddAttachment:e=>{Ue(e)},onMarkComplete:()=>{Q(!0),s("Trailer & Films marked as complete")},hasReceipt:Ee.length>0,isCompleted:Z,availableTrailers:Ie,attachedFiles:Ee})})]})]}),(0,a.jsx)(C.a,{isOpen:j,onClose:()=>f(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(x.W,{isOpen:b,onClose:()=>y(!1),onAssignTeam:Qe,availableMembers:u.N,projectDetails:t}),(0,a.jsx)(x.W,{isOpen:N,onClose:()=>v(!1),onAssignTeam:Qe,availableMembers:u.N,assignedMemberIds:d.assignedTeam?.members.map(e=>e.id)||[],projectDetails:t}),(0,a.jsx)(h.C,{isOpen:S,onClose:()=>A(!1),onSave:_e}),(0,a.jsx)(h.C,{isOpen:D,onClose:()=>T(!1),onSave:_e,onEdit:(e,s)=>{o(t=>({...t,logisticsTravel:{...t.logisticsTravel,logistics:t.logisticsTravel.logistics.map(t=>t.id===e?{...t,...s,updatedAt:(new Date).toISOString()}:t)}}))},editingLogistics:L}),(0,a.jsx)(p.b,{isOpen:P,onClose:()=>R(!1),onSave:He,availableTeamMembers:u.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(p.b,{isOpen:W,onClose:()=>B(!1),onSave:He,onEdit:(e,s)=>{o(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.map(t=>t.id===e?{...t,...s,updatedAt:(new Date).toISOString()}:t)}}))},editingTravel:O,availableTeamMembers:u.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(g.r,{isOpen:q,onClose:()=>E(!1),onConfirm:(e,s)=>{console.log("Updating project dates:",{startDate:e,endDate:s}),E(!1)},projectTitle:t.name,projectStatus:t.status,initialStartDate:t.startDate,initialEndDate:t.endDate}),(0,a.jsx)(k,{isOpen:V,onClose:()=>J(!1),onAssignTrailer:Ge,availableTrailers:Ie,assignedTrailerId:U?.id}),(0,a.jsx)(K,{isOpen:pe,onClose:()=>ue(!1),onSubmit:e=>{console.log("Travel & Accommodation Request:",e),ke(e),be(!0),s("Request submitted to logistics manager successfully!")},assignedTeamMembers:d.assignedTeam?.members||[],projectLocation:"123 Main Street, Downtown"}),(0,a.jsx)(G,{isOpen:ge,onClose:()=>je(!1),onSubmit:e=>{console.log("Travel & Accommodation Details:",e),Ae(e),we(!0),H(!0),s("Travel details added successfully!")}})]})};var ue=t(203),ge=t(5719),je=t(1085),fe=t(3183),be=t(5891),ye=t(5426),Ne=t(904),ve=t(8931),we=t(8252),Ce=t(5279),ke=t(2341),Se=t(4138),Ae=t(1377),De=t(3283),Me=t(1855),Te=t(1194),Le=t(6988),Ie=t(7580),Pe=t(2906),Re=t(9803);const We=({projectStatus:e="QF"})=>{const{projectId:s}=(0,l.g)(),t=(0,l.Zp)(),{showToast:n}=(0,te.d)(),{isMobile:d}=(0,Ae.c)(),{user:c}=(0,o.A)(),[x,h]=(0,r.useState)("window-management"),[p,u]=(0,r.useState)(Pe.xw.map(e=>({...e,status:"Complete"}))),[g,j]=(0,r.useState)(""),[f,b]=(0,r.useState)({filmType:"all",status:"all",layers:"all"}),[C,k]=(0,r.useState)("list");(0,r.useEffect)(()=>{d&&k("grid")},[d]);const[A,D]=(0,r.useState)(!1),[M,T]=(0,r.useState)(!1),[L,I]=(0,r.useState)(!1),[P,R]=(0,r.useState)(!1),[W,B]=(0,r.useState)(null),[O,F]=(0,r.useState)(null),[$,U]=(0,r.useState)(!1),[z,V]=(0,r.useState)(!1),[Z,Q]=(0,r.useState)(null),[_,H]=(0,r.useState)(Re.d),[G,K]=(0,r.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"failed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Minor bubbling detected in corner area",issues:["Air bubbles in corner","Edge alignment needs adjustment"]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"pending",inspector:null,checkedAt:null,notes:"",issues:[]}]);(0,r.useEffect)(()=>{const e=e=>{e.target.closest(".dropdown-container")||document.querySelectorAll('[id^="dropdown-"]').forEach(e=>{e.classList.add("hidden")})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const Y={...i.U,progress:85,currentPhase:"Quality Review",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:12,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"13 out of 15 windows passed quality check"},{id:"2",user:"Sarah Johnson",action:"uploaded quality report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"quality-inspection-report.pdf",fileSize:"2.1 MB"},{id:"3",user:"Mike Lee",action:"marked 2 windows for reinstallation in Marriot Windows Installation",time:"6 hours ago",type:"update",fileName:null,fileSize:null,note:"Windows #12 and #8 require reinstallation due to quality issues"},{id:"4",user:"Emily Rodriguez",action:"uploaded document for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"safety-checklist.pdf",fileSize:"0.9 MB"},{id:"5",user:"David Chen",action:"updated Marriot Windows Installation project",time:"1 day ago",type:"update",fileName:null,fileSize:null,note:"Quality review process initiated"},{id:"6",user:"Ayesha Khan",action:"uploaded document for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"architectural-plans.pdf",fileSize:"3.2 MB"}]},ee=p.filter(e=>{const s=(e.windowName||"").toLowerCase().includes(g.toLowerCase()),t="all"===f.filmType||e.filmType===f.filmType,a="all"===f.status||e.status===f.status,r="all"===f.layers||(e.layers?.length||0).toString()===f.layers;return s&&t&&a&&r}),se=e=>{B(e),D(!0)},ae=e=>{F(e),T(!0)},re=e=>{window.confirm("Are you sure you want to remove this window?")&&(u(s=>s.filter(s=>s.id!==e)),n("Window removed successfully"))},le=e=>{const s={...e,status:"In Progress",assignedTeamMembers:[...e.assignedTeamMembers,c?.name||"Current User"],updatedAt:new Date};u(t=>t.map(t=>t.id===e.id?s:t)),n(`Started working on ${e.windowName}`)},ne=e=>"Pending"===e.status?{text:"Start Working",icon:ge.A,action:()=>le(e),className:"text-green-700 hover:bg-green-50"}:"In Progress"===e.status?{text:"Mark as Completed",icon:ge.A,action:()=>(e=>{const s=e.layers.map(e=>({...e,status:"Installed",installedBy:c?.name||"Current User",installedAt:new Date})),t={...e,layers:s,status:"Complete",assignedTeamMembers:[...e.assignedTeamMembers,c?.name||"Current User"],updatedAt:new Date};u(s=>s.map(s=>s.id===e.id?t:s)),n(`Completed ${e.windowName}`)})(e),className:"text-blue-700 hover:bg-blue-50"}:"Reinstallation Needed"===e.status?{text:"Start Working",icon:ge.A,action:()=>le(e),className:"text-orange-700 hover:bg-orange-50"}:null,ie=(e,s)=>{b(t=>({...t,[e]:s}))};return G.filter(e=>"passed"===e.status).length,G.filter(e=>"failed"===e.status).length,G.filter(e=>"pending"===e.status).length,(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("style",{children:"\n        @media (max-width: 640px) {\n          .touch-manipulation {\n            touch-action: manipulation;\n            -webkit-tap-highlight-color: transparent;\n          }\n          .mobile-scroll {\n            -webkit-overflow-scrolling: touch;\n          }\n          .mobile-card {\n            border-radius: 12px;\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 16px;\n          }\n          .mobile-touch-target {\n            min-height: 44px;\n            min-width: 44px;\n            padding: 12px 16px;\n          }\n        }\n      "}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3 sm:gap-5",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-orange-50 text-orange-700 w-fit",children:"QF"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold w-fit",children:Y.projectId}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,a.jsx)("span",{children:Y.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,a.jsxs)("span",{className:"text-xs sm:text-sm",children:[Y.startDate," - ",Y.endDate]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{const e=_.find(e=>"available"===e.status)||_[0];Q(e),V(!0)},icon:N.A,className:"w-full sm:w-auto px-3 py-2 text-sm mobile-touch-target",children:"Update Trailer"}),(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{U(!0)},icon:m.A,className:"w-full sm:w-auto px-3 py-2 text-sm mobile-touch-target",children:"Update Inventory"}),"execution-team"===c?.userType&&(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{t("/team/tm-001")},icon:je.A,className:"w-full sm:w-auto px-3 py-2 text-sm mobile-touch-target",children:"View Profile"}),(0,a.jsx)(w.$,{variant:"primary",onClick:()=>{I(!0)},className:"w-full sm:w-auto px-3 py-2 text-sm mobile-touch-target",disabled:P,children:P?"QF Signed":"Sign Quality Check Form"})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Window Installation Progress"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-gray-600",children:"100% Complete"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs sm:text-sm text-gray-600 gap-1 sm:gap-0",children:[(0,a.jsx)("span",{children:"Current Phase: Installation completed"}),(0,a.jsx)("span",{children:"Project Completed"})]})]})]})})}),(0,a.jsx)("div",{className:"py-4 px-4 sm:py-6 sm:px-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-4 sm:mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-1 sm:space-x-4 lg:space-x-8 overflow-x-auto mobile-scroll",children:[{id:"window-management",label:"Window Management"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>h(e.id),className:"py-2 px-2 sm:px-3 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap flex-shrink-0 "+(x===e.id?"border-orange-600 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"window-management"===x&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 gap-4",children:[(0,a.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Window Management"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(w.$,{variant:"primary",icon:m.A,onClick:()=>{B(null),D(!0)},className:"w-full sm:w-auto text-sm mobile-touch-target",children:"Add Window"})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by window name",value:g,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,a.jsxs)("select",{value:f.filmType,onChange:e=>ie("filmType",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Film Types"}),(0,a.jsx)("option",{value:"BR",children:"BR"}),(0,a.jsx)("option",{value:"Riot",children:"Riot"}),(0,a.jsx)("option",{value:"Riot+",children:"Riot+"})]}),(0,a.jsxs)("select",{value:f.status,onChange:e=>ie("status",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"Updated",children:"Updated"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Complete",children:"Complete"}),(0,a.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2 col-span-1",children:[(0,a.jsx)("button",{onClick:()=>k("list"),className:"p-2 rounded-lg "+("list"===C?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(fe.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>k("grid"),className:"p-2 rounded-lg "+("grid"===C?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,a.jsx)(be.A,{className:"w-4 h-4"})})]})]})]}),0===ee.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No windows found matching your criteria"})}):"list"!==C||d?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ee.map(e=>(0,a.jsxs)(ke.Z,{className:"p-3 sm:p-4 cursor-pointer hover:shadow-md transition-shadow mobile-card",onClick:()=>ae(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:e.windowName}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]}),(0,a.jsx)(Se.W,{status:e.status})]}),(0,a.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:["Film Type: ",e.filmType]}),(0,a.jsxs)("div",{children:["Dimensions: ",e.length," x ",e.width," cm"]}),(0,a.jsxs)("div",{children:["Layers: ",e.layers.length]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end mt-3 sm:mt-4",children:[(0,a.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==c?.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),ae(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,a.jsx)(ye.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),se(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),re(e.id)},className:"text-gray-400 hover:text-red-600 p-2 mobile-touch-target",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]}),ne(e)&&(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),ne(e)?.action()},className:`flex items-center gap-1 px-2 py-1 text-xs mobile-touch-target ${ne(e)?.className}`,children:[(0,a.jsx)(ge.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:ne(e)?.text||"Complete"})]})]}),(0,a.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation();const t=document.getElementById(`dropdown-grid-${e.id}`);t&&t.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1 mobile-touch-target",children:(0,a.jsx)(ve.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-grid-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),ae(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-gray-700 hover:bg-gray-100 mobile-touch-target",children:[(0,a.jsx)(ye.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),se(e),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-gray-700 hover:bg-gray-100 mobile-touch-target",children:[(0,a.jsx)(Ne.A,{className:"w-4 h-4"}),"Edit Window"]}),ne(e)&&(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),ne(e)?.action(),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:`flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm mobile-touch-target ${ne(e)?.className}`,children:[(0,a.jsx)(ge.A,{className:"w-4 h-4"}),ne(e)?.text]}),(0,a.jsxs)("button",{onClick:s=>{s.stopPropagation(),re(e.id),document.getElementById(`dropdown-grid-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 sm:py-1.5 text-sm text-red-600 hover:bg-red-50 mobile-touch-target",children:[(0,a.jsx)(q.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})]})]},e.id))}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"WINDOW NAME"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"FILM TYPE"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"DIMENSIONS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"LAYERS"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"STATUS"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-900",children:"ACTIONS"})]})}),(0,a.jsx)("tbody",{children:ee.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",e.createdAt?.toLocaleDateString()||"Unknown"]})]})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:e.filmType})}),(0,a.jsxs)("td",{className:"py-4 px-4 text-gray-900",children:[e.length," x ",e.width," cm"]}),(0,a.jsx)("td",{className:"py-4 px-4 text-gray-900",children:e.layers.length}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)(Se.W,{status:e.status})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end",children:[(0,a.jsxs)("div",{className:"flex space-x-1 md:hidden",children:["execution-team"!==c?.userType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{ae(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,a.jsx)(ye.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{se(e)},className:"text-gray-400 hover:text-gray-600 p-2 mobile-touch-target",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{re(e.id)},className:"text-gray-400 hover:text-red-600 p-2 mobile-touch-target",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]}),ne(e)&&(0,a.jsxs)("button",{onClick:()=>{ne(e)?.action()},className:`flex items-center gap-1 px-2 py-1 text-xs mobile-touch-target ${ne(e)?.className}`,children:[(0,a.jsx)(ge.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:ne(e)?.text||"Complete"})]})]}),(0,a.jsxs)("div",{className:"hidden md:block relative dropdown-container",children:[(0,a.jsx)("button",{onClick:()=>{const s=document.getElementById(`dropdown-${e.id}`);s&&s.classList.toggle("hidden")},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,a.jsx)(ve.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{id:`dropdown-${e.id}`,className:"hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:()=>{ae(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(ye.A,{className:"w-4 h-4"}),"View Details"]}),(0,a.jsxs)("button",{onClick:()=>{se(e),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,a.jsx)(Ne.A,{className:"w-4 h-4"}),"Edit Window"]}),ne(e)&&(0,a.jsxs)("button",{onClick:()=>{ne(e)?.action(),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:`flex items-center gap-2 w-full px-4 py-2 text-sm ${ne(e)?.className}`,children:[(0,a.jsx)(ge.A,{className:"w-4 h-4"}),ne(e)?.text]}),(0,a.jsxs)("button",{onClick:()=>{re(e.id),document.getElementById(`dropdown-${e.id}`)?.classList.add("hidden")},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(q.A,{className:"w-4 h-4"}),"Delete Window"]})]})})]})]})})]},e.id))})]})}),ee.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(w.$,{variant:"secondary",size:"sm",icon:we.A,children:"Previous"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:"1"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"2"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"3"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"..."}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"8"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"9"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"10"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(w.$,{variant:"secondary",size:"sm",icon:Ce.A,children:"Next"})})]})]})})}),"issues"===x&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,a.jsx)("div",{className:"space-y-4",children:G.filter(e=>"failed"===e.status).map(e=>(0,a.jsxs)("div",{className:"p-4 border border-orange-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-orange-900",children:e.windowName}),(0,a.jsx)("p",{className:"text-orange-700 mt-1",children:e.notes}),e.issues.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-800",children:"Issues:"}),(0,a.jsx)("ul",{className:"text-sm text-orange-700 list-disc list-inside",children:e.issues.map((e,s)=>(0,a.jsx)("li",{children:e},s))})]})]},e.id))})]})}),"team"===x&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:[{name:"John Smith",role:"Lead Supervisor",phone:"+1-555-0123"},{name:"Ayesha Khan",role:"Crew Leader",phone:"+1-555-0124"},{name:"Mike Lee",role:"Senior Installer",phone:"+1-555-0125"},{name:"Sarah Johnson",role:"Installer",phone:"+1-555-0126"},{name:"David Chen",role:"Installer",phone:"+1-555-0127"},{name:"Emily Rodriguez",role:"Safety Coordinator",phone:"+1-555-0128"}].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.phone})]},s))})]})}),"document"===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 documents"})]}),(0,a.jsx)(w.$,{variant:"secondary",icon:J.A,onClick:()=>n("Upload document functionality coming soon"),className:"w-full sm:w-auto px-4 py-2 mobile-touch-target",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QR"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Quality Inspection Report.pdf"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"2.1 MB"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"})]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs w-fit",children:"Sarah Johnson"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,a.jsx)("button",{onClick:()=>n("Downloading Quality Inspection Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"DOC"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Site Map - Floor Plan.pdf"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"})]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs w-fit",children:"John Doe"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,a.jsx)("button",{onClick:()=>n("Downloading Site Map - Floor Plan.pdf"),className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-3 border-b border-gray-100 last:border-b-0 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"TXT"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 truncate",children:"Architectural Plan.txt"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-sm text-gray-500 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"1.95 MB"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{children:"Jan 15, 2024, 02:00 PM"})]}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs w-fit",children:"Ema Will"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 self-end sm:self-center",children:[(0,a.jsx)("button",{onClick:()=>n("Downloading Architectural Plan.txt"),className:"p-2 text-gray-400 hover:text-gray-600 mobile-touch-target",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600 mobile-touch-target",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Installation Guides"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Step-by-step installation procedures"})]}),(0,a.jsx)(w.$,{variant:"secondary",icon:J.A,onClick:()=>n("Upload installation guide functionality coming soon"),className:"w-full sm:w-auto px-4 py-2 mobile-touch-target",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(S.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No installation guides uploaded yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Upload guides to help your team with installation procedures"})]})]})]}),"notes"===x&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"3 notes"})]}),(0,a.jsx)("button",{onClick:()=>n("Add note functionality coming soon"),className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,a.jsx)(m.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 11:15 AM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Quality inspection completed. 13 windows passed, 2 need reinstallation."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>n("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Client requested additional security measures for the main entrance."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>n("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Maria Will"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 11, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Site visit completed. All measurements confirmed."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>n("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>n("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(ke.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:Y.activityLog.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-semibold text-orange-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-orange-50 rounded flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"w-3 h-3 text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id))})]})})})]})}),(0,a.jsx)(Me.f,{isOpen:A,onClose:()=>D(!1),windowItem:W,onSave:e=>{if(W)u(s=>s.map(s=>s.id===W.id?{...s,...e,status:"Updated"}:s)),n("Window updated successfully");else{const s={id:Date.now().toString(),windowName:e.windowName||"",filmType:e.filmType||"BR",length:e.length||0,width:e.width||0,layers:e.layers||[],status:"Pending",assignedTeamMembers:[],createdAt:new Date,updatedAt:new Date,...e};u(e=>[...e,s]),n("Window added successfully")}D(!1),B(null)}}),(0,a.jsx)(De.n,{isOpen:M,onClose:()=>T(!1),windowItem:O,onUpdate:e=>{O&&(u(s=>s.map(s=>s.id===O.id?{...s,...e,status:"Updated"}:s)),F({...O,...e}),n("Window updated successfully"))}}),(0,a.jsx)(Te.R,{isOpen:L,onClose:()=>I(!1),onSubmit:e=>{R(!0),n("Quality check form submitted successfully - QF is marked as completed"),console.log("Quality Check Form Data:",e)}}),(0,a.jsx)(Le.o,{isOpen:$,onClose:()=>U(!1),onSubmit:e=>{U(!1),n("Usage data added successfully"),console.log("Usage Data:",e)}}),(0,a.jsx)(Ie.s,{isOpen:z,onClose:()=>{V(!1),Q(null)},onUpdateTrailer:e=>{if(Z){const s=_.map(s=>s.id===Z.id?{...s,...e,updatedAt:(new Date).toISOString()}:s);H(s),n("Trailer updated successfully"),V(!1),Q(null)}},trailer:Z,existingTrailerNumbers:_.map(e=>e.trailerName)})]})};var Be=t(1116),Oe=t(2115),Fe=t(363);const $e=({projectStatus:e="Completed"})=>{const{projectId:s}=(0,l.g)(),{showToast:t}=((0,l.Zp)(),(0,te.d)()),[n,d]=(0,r.useState)("project-report"),[o]=(0,r.useState)({totalHoursSpent:320,totalPeopleWorked:5,windowLayersReinstalled:2,sheetLayersInstalled:45,teamMembers:[{id:"1",name:"John Smith",role:"Lead Supervisor",hoursWorked:80,performance:"Excellent",rating:5,tasksCompleted:15,qualityScore:98},{id:"2",name:"Ayesha Khan",role:"Crew Leader",hoursWorked:75,performance:"Very Good",rating:4.5,tasksCompleted:12,qualityScore:95},{id:"3",name:"Mike Lee",role:"Senior Installer",hoursWorked:70,performance:"Good",rating:4,tasksCompleted:10,qualityScore:92},{id:"4",name:"Sarah Johnson",role:"Installer",hoursWorked:65,performance:"Very Good",rating:4.5,tasksCompleted:8,qualityScore:94},{id:"5",name:"David Chen",role:"Installer",hoursWorked:60,performance:"Good",rating:4,tasksCompleted:7,qualityScore:90}]}),[c]=(0,r.useState)([{id:"1",windowId:"1",windowName:"Main Entrance Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T10:30:00Z",notes:"Perfect installation, no issues detected",issues:[]},{id:"2",windowId:"2",windowName:"Conference Room Window",status:"passed",inspector:"John Smith",checkedAt:"2024-01-20T11:15:00Z",notes:"Excellent work quality after reinstallation",issues:[]},{id:"3",windowId:"3",windowName:"Office Window A",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T12:00:00Z",notes:"Excellent work quality",issues:[]},{id:"4",windowId:"4",windowName:"Office Window B",status:"passed",inspector:"Sarah Johnson",checkedAt:"2024-01-20T13:00:00Z",notes:"Perfect installation",issues:[]}]),x={...i.U,progress:100,currentPhase:"Project Completed",estimatedCompletion:"2024-02-15",teamOnSite:5,windowsCompleted:15,windowsStarted:15,activityLog:[{id:"1",user:"John Smith",action:"completed final quality inspection for Marriot Windows Installation",time:"2 hours ago",type:"completion",fileName:null,fileSize:null,note:"All 15 windows passed final quality check - project completed successfully"},{id:"2",user:"Sarah Johnson",action:"uploaded final project report for Marriot Windows Installation",time:"4 hours ago",type:"document",fileName:"final-project-report.pdf",fileSize:"3.2 MB"},{id:"3",user:"Mike Lee",action:"completed reinstallation of 2 windows in Marriot Windows Installation",time:"6 hours ago",type:"completion",fileName:null,fileSize:null,note:"Windows #12 and #8 successfully reinstalled and quality approved"},{id:"4",user:"Emily Rodriguez",action:"uploaded client satisfaction survey for Marriot Windows Installation",time:"1 day ago",type:"document",fileName:"client-satisfaction-survey.pdf",fileSize:"1.1 MB"},{id:"5",user:"David Chen",action:"completed project cleanup for Marriot Windows Installation",time:"1 day ago",type:"completion",fileName:null,fileSize:null,note:"Site cleanup completed, all materials properly disposed"},{id:"6",user:"Ayesha Khan",action:"uploaded final documentation for Marriot Windows Installation",time:"2 days ago",type:"document",fileName:"project-documentation-final.pdf",fileSize:"4.8 MB"}]},h=c.filter(e=>"passed"===e.status).length,p=c.filter(e=>"failed"===e.status).length;return c.filter(e=>"pending"===e.status).length,(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md text-sm font-semibold bg-green-50 text-green-700",children:"Completed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:x.projectId}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:x.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[x.startDate," - ",x.endDate]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(w.$,{variant:"primary",onClick:()=>{t("Create Associated Project functionality coming soon")},className:"px-3 py-2",children:"Create Associated Project"}),(0,a.jsx)(w.$,{variant:"secondary",onClick:()=>{t("Edit project functionality coming soon")},icon:Ne.A,className:"px-3 py-2",children:"Edit"})]})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Overview"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ge.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Successfully Completed"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(U.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.totalHoursSpent})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Hours Spent"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(je.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.totalPeopleWorked})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"People Worked"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(Be.A,{className:"w-4 h-4 text-orange-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.windowLayersReinstalled})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Window Layers Reinstalled"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(Oe.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:o.sheetLayersInstalled})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Sheet Layers Installed"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Completion Status"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"100% Complete"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-600",style:{width:"100%"}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Status: Project completed successfully"}),(0,a.jsxs)("span",{children:["Completed on ",x.endDate]})]})]})]})})}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"project-report",label:"Project Report"},{id:"issues",label:"Issues & Fixes"},{id:"team",label:"Team"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>d(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"project-report"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Report"}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)(w.$,{variant:"secondary",icon:X.A,onClick:()=>t("Downloading project report..."),children:"Download Report"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Project Metrics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Hours Spent"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:[o.totalHoursSpent," hours"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total People Worked"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:[o.totalPeopleWorked," people"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Window Layers Reinstalled"}),(0,a.jsxs)("span",{className:"font-semibold text-orange-600",children:[o.windowLayersReinstalled," layers"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Sheet Layers Installed"}),(0,a.jsxs)("span",{className:"font-semibold text-blue-600",children:[o.sheetLayersInstalled," layers"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Quality Summary"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Windows Passed QC"}),(0,a.jsxs)("span",{className:"font-semibold text-green-600",children:[h," windows"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Windows Failed QC"}),(0,a.jsxs)("span",{className:"font-semibold text-red-600",children:[p," windows"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate"}),(0,a.jsx)("span",{className:"font-semibold text-green-600",children:"100%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Quality Score"}),(0,a.jsx)("span",{className:"font-semibold text-blue-600",children:"94.8%"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Team Performance Summary"}),(0,a.jsx)("div",{className:"space-y-3",children:o.teamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hours"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.hoursWorked})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Tasks"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:e.tasksCompleted})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Quality"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.qualityScore,"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Fe.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:e.rating})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Performance"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Excellent"===e.performance?"bg-green-100 text-green-800":"Very Good"===e.performance?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.performance})]})]})]},e.id))})]})]})})}),"issues"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issues & Fixes"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-green-200 bg-green-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"All Issues Resolved"}),(0,a.jsx)("p",{className:"text-green-700 mt-1",children:"All quality issues have been successfully addressed and resolved"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Resolution Summary"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"2 windows were reinstalled and passed final quality inspection"})]})]})]})}),"team"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:o.teamMembers.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.role})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.hoursWorked," hours worked"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(Fe.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.rating})]})]},e.id))})]})}),"document"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 documents"})]}),(0,a.jsx)(w.$,{variant:"secondary",icon:J.A,onClick:()=>t("Upload document functionality coming soon"),className:"px-4 py-2",children:"Upload document"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-green-600",children:"FPR"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Final Project Report.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"3.2 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 04:00 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-600 rounded-full text-xs",children:"Sarah Johnson"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Final Project Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-600",children:"CSS"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Client Satisfaction Survey.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"1.1 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 19, 2024, 02:30 PM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Emily Rodriguez"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Client Satisfaction Survey.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"DOC"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Project Documentation Final.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"4.8 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 18, 2024, 11:00 AM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:"Ayesha Khan"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Project Documentation Final.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"QIR"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Quality Inspection Report.pdf"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("span",{children:"2.1 MB"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:"Jan 20, 2024, 11:15 AM"}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 rounded-full text-xs",children:"John Smith"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>t("Downloading Quality Inspection Report.pdf"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete document functionality coming soon"),className:"p-2 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})]})]})}),"notes"===n&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"4 notes"})]}),(0,a.jsx)("button",{onClick:()=>t("Add note functionality coming soon"),className:"w-8 h-8 border-2 border-dashed border-gray-300 rounded-full flex items-center justify-center hover:border-gray-400 hover:bg-gray-50",children:(0,a.jsx)(m.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"John Smith"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 04:00 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Project completed successfully! All 15 windows installed and quality approved. Client is very satisfied with the work."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Sarah Johnson"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 20, 2024, 02:30 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Final quality inspection completed. All windows passed with excellent results. Ready for client handover."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"Mike Lee"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 19, 2024, 03:15 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Reinstallation of windows #12 and #8 completed successfully. Both windows now pass quality standards."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})}),(0,a.jsx)("div",{className:"py-4 border-b border-gray-100 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"David Chen"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Jan 18, 2024, 05:30 PM"})]}),(0,a.jsx)("p",{className:"text-gray-700",children:'"Site cleanup completed. All materials properly disposed and site returned to original condition."'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>t("Edit note functionality coming soon"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(Ne.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>t("Delete note functionality coming soon"),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)(q.A,{className:"w-4 h-4"})})]})]})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(ke.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"6 recent updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:x.activityLog.map(e=>(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-semibold text-green-600 underline",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&e.fileName&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-green-50 rounded flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"w-3 h-3 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),("update"===e.type||"completion"===e.type)&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]})},e.id))})]})})})]})})]})},qe=()=>{const{projectId:e}=(0,l.g)(),[s]=(0,n.ok)(),[t,c]=(0,r.useState)(i.U),{user:m}=(0,o.A)(),x=s.get("status"),h=s.get("title"),p=x||t.status;(0,d.KF)([{label:"Projects",href:"/projects"},{label:h||t.title||`Project ${e}`,href:void 0}],[e,h,t.title]);const u=["PV75","PV90","UB","WB"].includes(p),g="WIP"===p,j="QF"===p,f="Completed"===p;return(0,r.useEffect)(()=>{x&&c(e=>({...e,status:x}))},[x]),u?(0,a.jsx)(pe,{}):g?(0,a.jsx)(ue.ProjectDetailsWIP,{projectStatus:"WIP"}):j?(0,a.jsx)(We,{projectStatus:"QF"}):f?(0,a.jsx)($e,{projectStatus:"Completed"}):(0,a.jsx)(pe,{})}},4722:(e,s,t)=>{t.d(s,{W:()=>h});var a=t(4848),r=t(6540),l=t(3573),n=t(1397),i=t(2053),d=t(799),o=t(4574),c=t(9237),m=t(5919),x=t(894);const h=({isOpen:e,onClose:s,onAssignTeam:t,availableMembers:h,assignedMemberIds:p=[],projectDetails:u})=>{const[g,j]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[C,k]=(0,r.useState)(p),[S,A]=(0,r.useState)(1),D=15,M=(0,r.useMemo)(()=>h.map(e=>e.location).filter((e,s,t)=>t.indexOf(e)===s&&e).sort(),[h]),T=(0,r.useMemo)(()=>h.filter(e=>{const s=e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase())||e.phone?.toLowerCase().includes(g.toLowerCase()),t=!f||e.role===f,a=!y||e.status===y,r=!v||e.location===v;return s&&t&&a&&r}),[h,g,f,y,v]),L=Math.ceil(T.length/D),I=(0,r.useMemo)(()=>{const e=(S-1)*D;return T.slice(e,e+D)},[T,S,D]),P=e=>{const s=h.find(s=>s.id===e);s&&"Available"===s.status&&k(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},R=e=>new Date(e).toLocaleDateString("en-GB"),W=C.length,B=T.length,O=h.filter(e=>C.includes(e.id));return(0,a.jsx)(x.a,{isOpen:e,onClose:s,title:"Assign Team Members",size:"xl",children:(0,a.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[u&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,a.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,a.jsx)("span",{className:"font-medium",children:R(u.startDate)}),(0,a.jsx)("span",{className:"mx-2",children:"→"}),(0,a.jsx)("span",{className:"font-medium",children:R(u.endDate)})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:g,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"}),(0,a.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,a.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),M.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),W>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",W,")"]})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,a.jsx)("button",{onClick:()=>{return s=e.id,void k(e=>e.filter(e=>e!==s));var s},className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(c.A,{className:"w-3 h-3"})})]},e.id))})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[B," members found"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>{const s="Unavailable"===e.status,t=C.includes(e.id);return(0,a.jsxs)("tr",{className:`${s?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"} ${t?"bg-blue-50":""}`,onClick:()=>!s&&P(e.id),title:s?`Unavailable until ${e.unavailableUntil?R(e.unavailableUntil):"TBD"} — cannot assign.`:"",children:[(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:t,disabled:s,onChange:()=>!s&&P(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(r=e.name,r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.phone||"—"})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,a.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",R(e.unavailableUntil)]})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(n.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.location||"—"})]})})]},e.id);var r})})]})})}),L>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(S-1)*D+1," to ",Math.min(S*D,B)," of ",B," results"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.max(e-1,1)),disabled:1===S,children:"Previous"}),(0,a.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[S," of ",L]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>A(e=>Math.min(e+1,L)),disabled:S===L,children:"Next"})]})]}),0===T.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(m.$,{variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsxs)(m.$,{variant:"primary",onClick:()=>{const e=h.filter(e=>C.includes(e.id));t(e),s()},disabled:0===W,children:["Add Team Members (",W,")"]})]})]})})}},5212:(e,s,t)=>{t.d(s,{C:()=>d});var a=t(4848),r=t(6540),l=t(1813),n=t(894),i=t(5919);const d=({isOpen:e,onClose:s,onSave:t,onEdit:d,editingLogistics:o})=>{const[c,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,h]=(0,r.useState)({}),p=!!o;(0,r.useEffect)(()=>{e&&(m(o?{name:o.name,type:o.type,description:o.description,quantity:o.quantity,location:o.location,expectedDate:o.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),h({}))},[e,o]);const u=(e,s)=>{m(t=>({...t,[e]:s})),x[e]&&h(s=>({...s,[e]:""}))};return(0,a.jsx)(n.a,{isOpen:e,onClose:s,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return c.name.trim()||(e.name="Logistics name is required"),c.description.trim()||(e.description="Description is required"),c.quantity<=0&&(e.quantity="Quantity must be greater than 0"),c.location.trim()||(e.location="Location is required"),c.expectedDate||(e.expectedDate="Expected date is required"),h(e),0===Object.keys(e).length})())return;const a={...c,quantity:Number(c.quantity)};p&&d?d(o.id,a):t(a),s()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:c.name,onChange:e=>u("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:c.type,onChange:e=>u("type",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:c.description,onChange:e=>u("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:c.quantity,onChange:e=>u("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:c.location,onChange:e=>u("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:c.expectedDate,onChange:e=>u("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(i.$,{type:"button",variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(i.$,{type:"submit",variant:"primary",icon:l.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},9408:(e,s,t)=>{t.d(s,{e:()=>i});var a=t(4848),r=t(6540);const l={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},n=({name:e,size:s="md",className:t=""})=>{const r=e.split(" ").map(e=>e.charAt(0).toUpperCase()).join("").substring(0,2);return(0,a.jsx)("div",{className:`bg-[#0D76BF] rounded-full flex items-center justify-center ${l[s]} ${t}`,children:(0,a.jsx)("span",{className:"text-white font-medium",children:r})})},i=({src:e,name:s,size:t="md",className:i="",showInitials:d=!0})=>{const[o,c]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!0),h=e&&!o&&!m;return!h&&d?(0,a.jsx)(n,{name:s,size:t,className:i}):h?(0,a.jsxs)("div",{className:`relative ${i}`,children:[m&&(0,a.jsx)("div",{className:`bg-gray-200 rounded-full flex items-center justify-center ${l[t]} absolute inset-0`,children:(0,a.jsx)("div",{className:"animate-pulse bg-gray-300 rounded-full w-full h-full"})}),(0,a.jsx)("img",{src:e,alt:`${s} avatar`,className:`rounded-full object-cover ${l[t]} ${m?"opacity-0":"opacity-100"} transition-opacity duration-200`,onError:()=>{c(!0),x(!1)},onLoad:()=>{x(!1)}})]}):(0,a.jsx)("div",{className:`bg-gray-200 rounded-full flex items-center justify-center ${l[t]} ${i}`,children:(0,a.jsx)("span",{className:"text-gray-500 font-medium",children:"?"})})}},9809:(e,s,t)=>{t.d(s,{r:()=>d});var a=t(4848),r=t(6540),l=t(3573),n=t(5919),i=t(894);const d=({isOpen:e,onClose:s,onConfirm:t,projectTitle:d,projectStatus:o,initialStartDate:c="",initialEndDate:m=""})=>{const[x,h]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[g,j]=(0,r.useState)({}),[f,b]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(h(c),u(m),j({}),b(null))},[e,c,m]),(0,r.useEffect)(()=>{if(x&&p){const e=new Date(x),s=new Date(p);if(e<s){const t=Math.abs(s.getTime()-e.getTime()),a=Math.ceil(t/864e5);b(`${a} days`)}else b(null)}else b(null)},[x,p]),(0,a.jsx)(i.a,{isOpen:e,onClose:s,title:`Set Project Dates for ${d}`,children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,a.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(o)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>h(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>u(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),f&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",f]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(n.$,{variant:"secondary",onClick:s,children:"Cancel"}),(0,a.jsx)(n.$,{variant:"primary",onClick:()=>{(()=>{const e={},s=(new Date).toISOString().split("T")[0];return x?x<s&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",j(e),0===Object.keys(e).length})()&&(t(x,p),s())},children:"Save Dates"})]})]})})}}}]);