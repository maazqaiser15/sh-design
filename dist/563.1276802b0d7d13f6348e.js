"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[563,885],{217:(e,t,s)=>{s.d(t,{n:()=>u});var a=s(4848),r=s(6540),l=s(2460),i=s(3492),n=s(339),o=s(82),c=s(4574),d=s(5919),m=s(2341);const u=({notes:e,onAddNote:t,onEditNote:s,onDeleteNote:u})=>{const[x,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(!0),[b,v]=(0,r.useState)(null),[y,j]=(0,r.useState)(""),N=()=>{b&&y.trim()&&(s(b,y.trim()),v(null),j(""))},f=()=>{v(null),j("")},S=[...e].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());return(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Notes"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[e.length," notes"]})]})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"is-internal",checked:p,onChange:e=>g(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"is-internal",className:"text-sm text-gray-700",children:"Internal note (only visible to team)"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("textarea",{value:x,onChange:e=>h(e.target.value),placeholder:"Add a note about this project...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>{x.trim()&&(t(x.trim(),p),h(""))},disabled:!x.trim(),className:"self-start",children:"Add"})]})]}),S.length>0?(0,a.jsx)("div",{className:"space-y-4",children:S.map(e=>{return(0,a.jsx)("div",{className:"p-4 rounded-lg border-l-4 "+(e.isInternal?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300"),children:b===e.id?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("textarea",{value:y,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:N,disabled:!y.trim(),children:"Save"}),(0,a.jsx)(d.$,{variant:"secondary",size:"sm",onClick:f,children:"Cancel"})]})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-900 mb-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.author})]}),(0,a.jsx)("span",{children:(t=e.timestamp,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.isInternal&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Internal"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-4",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:i.A,onClick:()=>(e=>{v(e.id),j(e.content)})(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:o.A,onClick:()=>u(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]})})},e.id);var t})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No notes added yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Add notes to track project updates and communication"})]})]})}},894:(e,t,s)=>{s.d(t,{a:()=>i});var a=s(4848),r=s(6540),l=s(9237);const i=({isOpen:e,onClose:t,title:s,children:i,size:n="md"})=>((0,r.useEffect)(()=>{const s=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} p-6`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-h2 font-semibold text-text-primary",children:s}),(0,a.jsx)("button",{onClick:t,className:"btn-icon","aria-label":"Close modal",children:(0,a.jsx)(l.A,{size:20})})]}),(0,a.jsx)("div",{children:i})]})]})}):null)},1747:(e,t,s)=>{s.d(t,{b:()=>c});var a=s(4848),r=s(6540),l=s(9775),i=s(1085),n=s(894),o=s(5919);const c=({isOpen:e,onClose:t,onSave:s,onEdit:c,editingTravel:d,availableTeamMembers:m})=>{const[u,x]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[h,p]=(0,r.useState)({}),g=!!d;(0,r.useEffect)(()=>{e&&(x(d?{travelType:d.travelType,departureLocation:d.departureLocation,destination:d.destination,departureDate:d.departureDate,returnDate:d.returnDate||"",assignedTeamMembers:d.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),p({}))},[e,d]);const b=(e,t)=>{x(s=>({...s,[e]:t})),h[e]&&p(t=>({...t,[e]:""}))},v=()=>m.filter(e=>u.assignedTeamMembers.includes(e.id));return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return u.departureLocation.trim()||(e.departureLocation="Departure location is required"),u.destination.trim()||(e.destination="Destination is required"),u.departureDate||(e.departureDate="Departure date is required"),0===u.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),p(e),0===Object.keys(e).length})())return;const a={...u,returnDate:u.returnDate||void 0};g&&c?c(d.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:u.travelType,onChange:e=>b("travelType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:u.departureLocation,onChange:e=>b("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(h.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),h.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:h.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:u.destination,onChange:e=>b("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(h.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),h.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:h.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:u.departureDate,onChange:e=>b("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(h.departureDate?"border-red-300":"border-gray-300")}),h.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:h.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:u.returnDate,onChange:e=>b("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),v().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",v().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:v().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void x(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),h.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:h.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(o.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(o.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,s)=>{s.d(t,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",availableUntil:"15/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/john.jpg",phone:"+1-555-0123",email:"john@company.com",location:"Downtown",experience:8,specializations:["Security Film","Window Installation","Team Management"]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",availableUntil:"20/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/sarah.jpg",phone:"+1-555-0124",email:"sarah@company.com",location:"Midtown",experience:6,specializations:["Quality Control","Safety Protocols"]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",availableUntil:"25/03/2024",avatar:"/avatars/mike.jpg",phone:"+1-555-0125",email:"mike@company.com",location:"Uptown",experience:4,specializations:["Precision Installation"]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",availableUntil:"10/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/emily.jpg",phone:"+1-555-0126",email:"emily@company.com",location:"Westside",experience:5,specializations:["Commercial Projects"]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",availableUntil:"30/03/2024",avatar:"/avatars/david.jpg",phone:"+1-555-0127",email:"david@company.com",location:"Eastside",experience:7,specializations:["Large Scale Projects","Equipment Management"]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",availableUntil:"18/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/lisa.jpg",phone:"+1-555-0128",email:"lisa@company.com",location:"Northside",experience:3,specializations:["Residential Projects"]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",availableUntil:"05/03/2024",avatar:"/avatars/robert.jpg",phone:"+1-555-0129",email:"robert@company.com",location:"Southside",experience:10,specializations:["Project Management","Client Relations"]},{id:"tm-008",name:"Jennifer White",role:"Installer",status:"Available",availableUntil:"22/03/2024",avatar:"/avatars/jennifer.jpg",phone:"+1-555-0130",email:"jennifer@company.com",location:"Central",experience:2,specializations:["Detail Work"]},{id:"tm-009",name:"Michael Anderson",role:"Crew Leader",status:"Available",availableUntil:"28/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/michael.jpg",phone:"+1-555-0131",email:"michael@company.com",location:"Downtown",experience:9,specializations:["Complex Installations","Training"]},{id:"tm-010",name:"Amanda Clark",role:"Installer",status:"Available",availableUntil:"12/03/2024",avatar:"/avatars/amanda.jpg",phone:"+1-555-0132",email:"amanda@company.com",location:"Midtown",experience:4,specializations:["Safety Focus"]},{id:"tm-011",name:"James Rodriguez",role:"Lead Supervisor",status:"Available",availableUntil:"31/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/james.jpg",phone:"+1-555-0133",email:"james@company.com",location:"Uptown",experience:12,specializations:["Strategic Planning","Team Leadership"]},{id:"tm-012",name:"Maria Martinez",role:"Installer",status:"Unavailable",availableUntil:"08/03/2024",avatar:"/avatars/maria.jpg",phone:"+1-555-0134",email:"maria@company.com",location:"Westside",experience:6,specializations:["Quality Assurance"]},{id:"tm-013",name:"Kevin Lee",role:"Crew Leader",status:"Available",availableUntil:"26/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/kevin.jpg",phone:"+1-555-0135",email:"kevin@company.com",location:"Eastside",experience:8,specializations:["Efficiency Optimization","Process Improvement"]},{id:"tm-014",name:"Rachel Green",role:"Installer",status:"Available",availableUntil:"19/03/2024",avatar:"/avatars/rachel.jpg",phone:"+1-555-0136",email:"rachel@company.com",location:"Northside",experience:3,specializations:["Attention to Detail"]},{id:"tm-015",name:"Daniel Kim",role:"Installer",status:"Available",availableUntil:"24/03/2024",efficiencyBadge:"Efficient Installer",avatar:"/avatars/daniel.jpg",phone:"+1-555-0137",email:"daniel@company.com",location:"Southside",experience:5,specializations:["Technical Expertise"]}]},2341:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(4848);s(6540);const r=({children:e,className:t="",padding:s="md",hover:r=!1,onClick:l})=>{const i=r?"hover:shadow-lg transition-shadow cursor-pointer":"";return(0,a.jsx)("div",{className:`bg-white rounded-lg shadow-card ${{sm:"p-3",md:"p-4",lg:"p-6"}[s]} ${i} ${t}`,onClick:l,children:e})}},2528:(e,t,s)=>{s.d(t,{y:()=>u});var a=s(4848),r=s(6540),l=s(7379),i=s(2761),n=s(339),o=s(82),c=s(1676),d=s(5919),m=s(2341);const u=({documents:e,onUploadDocument:t,onDeleteDocument:s,onDownloadDocument:u})=>{const[x,h]=(0,r.useState)(!1),p=(0,r.useRef)(null),g=[{value:"contract",label:"Contract"},{value:"site-map",label:"Site Map"},{value:"permit",label:"Permit"},{value:"technical",label:"Technical"},{value:"other",label:"Other"}],b=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},v=e=>{t(e,"other")};return(0,a.jsxs)(m.Z,{className:"p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Documents"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",icon:n.A,onClick:()=>p.current?.click(),children:"Upload Document"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors mb-6 "+(x?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragOver:e=>{e.preventDefault(),h(!0)},onDragLeave:e=>{e.preventDefault(),h(!1)},onDrop:e=>{e.preventDefault(),h(!1);const t=Array.from(e.dataTransfer.files);t.length>0&&v(t[0])},children:[(0,a.jsx)(c.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Drag and drop files here, or"," ",(0,a.jsx)("button",{onClick:()=>p.current?.click(),className:"text-blue-600 hover:text-blue-700 font-medium",children:"browse"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG"}),(0,a.jsx)("input",{ref:p,type:"file",onChange:e=>{const t=e.target.files;t&&t.length>0&&v(t[0])},className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"})]}),e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(r=e.type,r.includes("pdf")?"ðŸ“„":r.includes("image")?"ðŸ–¼ï¸":r.includes("word")||r.includes("document")?"ðŸ“":r.includes("excel")||r.includes("spreadsheet")?"ðŸ“Š":"ðŸ“")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:b(e.size)}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:(t=e.uploadedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{children:["by ",e.uploadedBy]}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full",children:g.find(t=>t.value===e.category)?.label})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:l.A,onClick:()=>u(e),className:"p-2",children:(0,a.jsx)("span",{className:"sr-only",children:"Download"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",icon:o.A,onClick:()=>s(e.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]},e.id);var t,r})}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm",children:"No documents uploaded yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Upload contracts, site maps, and other project files"})]})]})}},2703:(e,t,s)=>{s.d(t,{X:()=>c});var a=s(4848),r=(s(6540),s(3573)),l=s(1397),i=s(904),n=s(5919),o=s(4138);const c=({project:e,onEdit:t})=>{const s=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-gray-600 bg-gray-100 rounded-full",children:e.projectId}),(0,a.jsx)(o.W,{status:e.stage,className:`px-3 py-1 text-xs font-medium rounded-full border ${d=e.status,{active:"bg-green-100 text-green-800 border-green-200","on-hold":"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-gray-100 text-gray-800 border-gray-200"}[d]||"bg-gray-100 text-gray-800 border-gray-200"}`})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[s(e.startDate)," - ",s(e.endDate)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Stage:"}),(0,a.jsx)("span",{className:"text-sm text-gray-900",children:(c=e.stage,{preparation:"Preparation",wip:"Work in Progress",fer:"Finishing & Execution",completed:"Completed"}[c]||c)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.status.replace("-"," ")})]})]}),e.description&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.$,{variant:"secondary",size:"sm",icon:i.A,onClick:t,children:"Edit Project"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Stage switcher (coming soon)"})]})]})});var c,d}},3780:(e,t,s)=>{s.d(t,{C:()=>h});var a=s(4848),r=s(6540),l=s(5732),i=s(1314),n=s(7487),o=s(1397),c=s(799),d=s(7596),m=s(9237),u=s(894),x=s(5919);const h=({isOpen:e,onClose:t,onAssignTrailer:s,availableTrailers:h,assignedTrailerId:p})=>{const[g,b]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[f,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(e){if(b(""),y(""),N(""),p){const e=h.find(e=>e.id===p);S(e||null)}else S(null);console.log("Available trailers for assignment:",h)}},[e,h,p]);const A=(0,r.useMemo)(()=>{let e=h;return g&&(e=e.filter(e=>e.trailerName.toLowerCase().includes(g.toLowerCase())||e.registrationNumber.toLowerCase().includes(g.toLowerCase()))),v&&(e=e.filter(e=>e.status===v)),j&&(e=e.filter(e=>e.homeLocation.toLowerCase().includes(j.toLowerCase())||e.currentLocation.toLowerCase().includes(j.toLowerCase()))),e},[h,g,v,j]),T=(e,t)=>{switch(e){case"available":return(0,a.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,a.jsx)(i.A,{size:14,className:"mr-1"})," Available"]});case"unavailable":return(0,a.jsxs)("span",{className:"text-red-600 flex items-center",children:[(0,a.jsx)(m.A,{size:14,className:"mr-1"})," Unavailable ",t?`until ${new Date(t).toLocaleDateString()}`:""]});case"in-use":return(0,a.jsxs)("span",{className:"text-blue-600 flex items-center",children:[(0,a.jsx)(l.A,{size:14,className:"mr-1"})," In Use ",t?`until ${new Date(t).toLocaleDateString()}`:""]});case"maintenance":return(0,a.jsxs)("span",{className:"text-amber-600 flex items-center",children:[(0,a.jsx)(l.A,{size:14,className:"mr-1"})," Maintenance ",t?`until ${new Date(t).toLocaleDateString()}`:""]});default:return(0,a.jsx)("span",{className:"text-gray-600",children:e})}};return(0,a.jsx)(u.a,{isOpen:e,onClose:t,title:"Assign Trailer",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by trailer name or registration number...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:g,onChange:e=>b(e.target.value)}),g&&(0,a.jsx)("button",{onClick:()=>b(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(m.A,{size:16})})]}),(0,a.jsxs)("select",{className:"w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:v,onChange:e=>y(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"}),(0,a.jsx)("option",{value:"in-use",children:"In Use"}),(0,a.jsx)("option",{value:"maintenance",children:"Maintenance"})]}),(0,a.jsxs)("select",{className:"w-full sm:w-auto px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:j,onChange:e=>N(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),(()=>{const e=new Set;return h.forEach(t=>{e.add(t.homeLocation),e.add(t.currentLocation)}),Array.from(e).sort()})().map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:0===A.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:A.map(e=>(0,a.jsx)("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors "+(f?.id===e.id?"bg-blue-50 border-l-4 border-blue-500":""),onClick:()=>(e=>{console.log("Trailer selected:",e),S(e)})(e),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:f?.id===e.id?(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-600"}):(0,a.jsx)(n.A,{className:"w-5 h-5 text-gray-300"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.trailerName}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.registrationNumber})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),(0,a.jsxs)("span",{children:["Home: ",e.homeLocation]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"w-3 h-3 mr-1"}),(0,a.jsxs)("span",{children:["Current: ",e.currentLocation]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex-shrink-0 text-right",children:[(0,a.jsx)("div",{className:"text-sm",children:T(e.status,e.unavailableUntil)}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Capacity: ",e.currentLoad,"/",e.capacity]})]})]})},e.id))})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(x.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(x.$,{variant:"primary",onClick:()=>{console.log("Assign button clicked, selectedTrailer:",f),f?(console.log("Calling onAssignTrailer with:",f),s(f),t()):console.log("No trailer selected")},disabled:!f,children:p?"Update Trailer":"Add Trailer"})]})]})})}},4138:(e,t,s)=>{s.d(t,{W:()=>r});var a=s(4848);s(6540);const r=({status:e,size:t="sm",className:s=""})=>{const r=(e=>({UB:{bg:"bg-blue-100",text:"text-blue-800",label:"UB"},WB:{bg:"bg-teal-100",text:"text-teal-800",label:"WB"},WIP:{bg:"bg-amber-100",text:"text-amber-800",label:"WIP"},Completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},planning:{bg:"bg-amber-100",text:"text-amber-800",label:"Planning"},"in-progress":{bg:"bg-blue-100",text:"text-blue-800",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},"on-hold":{bg:"bg-gray-100",text:"text-gray-800",label:"On Hold"},available:{bg:"bg-green-100",text:"text-green-800",label:"Available"},busy:{bg:"bg-amber-100",text:"text-amber-800",label:"Busy"},unavailable:{bg:"bg-red-100",text:"text-red-800",label:"Unavailable"},low:{bg:"bg-amber-100",text:"text-amber-800",label:"Low Stock"},"in-use":{bg:"bg-blue-100",text:"text-blue-800",label:"In Use"},maintenance:{bg:"bg-orange-100",text:"text-orange-800",label:"Maintenance"},good:{bg:"bg-green-100",text:"text-green-800",label:"Good"},critical:{bg:"bg-red-100",text:"text-red-800",label:"Critical"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",label:e}))(e),l="sm"===t?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return(0,a.jsx)("span",{className:`inline-flex items-center rounded-full font-medium ${r.bg} ${r.text} ${l} ${s}`,children:r.label})}},4722:(e,t,s)=>{s.d(t,{W:()=>o});var a=s(4848),r=s(6540),l=s(799),i=s(5919),n=s(894);const o=({isOpen:e,onClose:t,onAssignTeam:s,availableMembers:o,assignedMemberIds:c=[]})=>{const[d,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(c),v=(0,r.useMemo)(()=>o.filter(e=>{const t=e.name.toLowerCase().includes(d.toLowerCase())||e.role.toLowerCase().includes(d.toLowerCase()),s=!u||e.role===u,a=!h||e.status===h;return t&&s&&a}),[o,d,u,h]),y=e=>{b(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},j=g.length,N=v.length;return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name or role...",value:d,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"})]}),(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{const e=v.map(e=>e.id);b(e)},children:"Select All"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{b([])},children:"Deselect All"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[N," members found â€¢ ",j," selected"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency Badge"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(e=>{return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer "+(g.includes(e.id)?"bg-blue-50":""),onClick:()=>y(e.id),children:[(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>y(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(t=e.name,t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.phone&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.phone})]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-4 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),e.availableUntil&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["until ",e.availableUntil]})]})}),(0,a.jsx)("td",{className:"px-4 py-4",children:e.efficiencyBadge?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.efficiencyBadge}):(0,a.jsx)("span",{className:"text-gray-400",children:"â€”"})})]},e.id);var t})})]})})}),0===v.length&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No team members found matching your criteria."})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsxs)(i.$,{variant:"primary",onClick:()=>{const e=o.filter(e=>g.includes(e.id));s(e),t()},disabled:0===j,children:["Add Team (",j,")"]})]})]})})}},5212:(e,t,s)=>{s.d(t,{C:()=>o});var a=s(4848),r=s(6540),l=s(1813),i=s(894),n=s(5919);const o=({isOpen:e,onClose:t,onSave:s,onEdit:o,editingLogistics:c})=>{const[d,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[u,x]=(0,r.useState)({}),h=!!c;(0,r.useEffect)(()=>{e&&(m(c?{name:c.name,type:c.type,description:c.description,quantity:c.quantity,location:c.location,expectedDate:c.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),x({}))},[e,c]);const p=(e,t)=>{m(s=>({...s,[e]:t})),u[e]&&x(t=>({...t,[e]:""}))};return(0,a.jsx)(i.a,{isOpen:e,onClose:t,title:h?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return d.name.trim()||(e.name="Logistics name is required"),d.description.trim()||(e.description="Description is required"),d.quantity<=0&&(e.quantity="Quantity must be greater than 0"),d.location.trim()||(e.location="Location is required"),d.expectedDate||(e.expectedDate="Expected date is required"),x(e),0===Object.keys(e).length})())return;const a={...d,quantity:Number(d.quantity)};h&&o?o(c.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:d.name,onChange:e=>p("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),u.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:d.type,onChange:e=>p("type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:d.description,onChange:e=>p("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),u.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:d.quantity,onChange:e=>p("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),u.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:d.location,onChange:e=>p("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),u.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:d.expectedDate,onChange:e=>p("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(u.expectedDate?"border-red-300":"border-gray-300")}),u.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",variant:"primary",icon:l.A,children:h?"Update Logistics":"Add Logistics"})]})]})})}},8473:(e,t,s)=>{s.d(t,{X:()=>u});var a=s(4848),r=(s(6540),s(1813)),l=s(904),i=s(9775),n=s(82),o=s(7596),c=s(1085),d=s(5919),m=s(2341);const u=({assignedTeam:e,assignedTrailer:t,logistics:s,logisticsItems:u,travelPlans:x,projectFilmRequirements:h,onViewTeam:p,onViewTrailer:g,onViewLogistics:b,onAssignTeam:v,onEditTeam:y,onAssignTrailer:j,onEditTrailer:N,onAssignLogistics:f,onSetupTravel:S,onAddLogistics:A,onEditLogistics:T,onDeleteLogistics:w,onAddTravel:k,onEditTravel:C,onDeleteTravel:D,onUploadShipmentReceipt:E})=>{const L=e=>({sufficient:"text-green-600",low:"text-yellow-600",missing:"text-red-600"}[e]),R=e=>({sufficient:"âœ“",low:"âš ",missing:"âœ—"}[e]),I=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assigned Team"})]}),e&&(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:e.count})]}),e?(0,a.jsxs)("div",{className:"space-y-3",children:[e.leadMember&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:e.leadMember.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.leadMember.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.leadMember.role})]})]}),e.members.find(e=>"Crew Leader"===e.role)&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:e.members.find(e=>"Crew Leader"===e.role)?.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.members.find(e=>"Crew Leader"===e.role)?.name}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Crew Leader"})]})]}),e.count>2&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["+",e.count-2," more members"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:p,className:"flex-1 justify-start",children:"View Team Details"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:y,icon:l.A,className:"px-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit Team"})})]})]}):(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"No team assigned yet."}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:v,className:"w-full",children:"Assign Crew Members"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-amber-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assigned Trailer"})]}),t&&(0,a.jsx)("span",{className:`text-sm font-medium ${O=t.inventoryStatus,{available:"text-green-600",unavailable:"text-red-600",low:"text-yellow-600"}[O]||"text-gray-600"}`,children:(e=>({available:"Available",unavailable:"Unavailable",low:"Low Stock"}[e]||e))(t.inventoryStatus)})]}),t?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:t.trailer.trailerNumber}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:t.trailer.registrationNumber})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,a.jsxs)("p",{children:["Location: ",t.trailer.location]}),(0,a.jsxs)("p",{children:["Updated: ",I(t.lastUpdated)]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:g,className:"flex-1 justify-start",children:"View Trailer Details"}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:N,icon:l.A,className:"px-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Edit Trailer"})})]})]}):(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"No trailer assigned yet."}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:j,className:"w-full",children:"Assign Trailer"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.A,{className:"w-5 h-5 text-purple-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Film Requirements"})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:E,icon:r.A,children:"Upload Receipt"})]}),t?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"Required vs Available in Trailer"}),h.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.sheetType}),(0,a.jsx)("span",{className:`text-sm font-medium ${L(e.status)}`,children:R(e.status)})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.available,"/",e.required]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Required: ",e.required]}),(0,a.jsxs)("span",{children:["Available: ",e.available]}),(0,a.jsx)("span",{className:`font-medium ${L(e.status)}`,children:"sufficient"===e.status?"Sufficient":"low"===e.status?"Low Stock":"Missing"})]}),"sufficient"!==e.status&&(0,a.jsx)("div",{className:"mt-2 text-xs text-amber-600",children:"missing"===e.status?"Film needs to be ordered and shipped":"Consider ordering additional film"})]},t)),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(r.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Shipment Status"})]}),(0,a.jsx)("p",{className:"text-xs text-blue-700 mb-2",children:"Upload shipment receipt to confirm film delivery"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:E,className:"w-full",children:"Upload Shipment Receipt"})]})]}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(r.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No trailer assigned yet"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"Assign a trailer to view film requirements"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:j,className:"w-full",children:"Assign Trailer First"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-indigo-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Setup"})]}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:k,icon:i.A,children:"Add"})]}),x.length>0?(0,a.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-900",children:[e.departureLocation," â†’ ",e.destination]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:e.travelType})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>C(e),icon:l.A,children:(0,a.jsx)("span",{className:"sr-only",children:"Edit"})}),(0,a.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>D(e.id),icon:n.A,className:"text-red-600 hover:text-red-700",children:(0,a.jsx)("span",{className:"sr-only",children:"Delete"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[I(e.departureDate),e.returnDate&&` - ${I(e.returnDate)}`]}),(0,a.jsxs)("span",{children:[e.assignedTeamMembers.length," team members"]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"No travel plans added yet"}),(0,a.jsx)(d.$,{variant:"primary",size:"sm",onClick:k,className:"w-full",children:"Add Travel Plan"})]})]})]});var O}},8563:(e,t,s)=>{s.d(t,{ProjectDetailsPage:()=>f});var a=s(4848),r=s(6540),l=s(7767),i=s(7894);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"VIN-2024-001",stage:"preparation",status:"active",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},o={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var c=s(4722),d=s(3780),m=s(5212),u=s(1747),x=s(2321);const h=e=>({id:e.id,trailerName:e.trailerNumber,registrationNumber:e.registrationNumber,homeLocation:e.location,currentLocation:e.location,status:e.status,unavailableUntil:"unavailable"===e.status||"in-use"===e.status||"maintenance"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),p=()=>[{id:"1",trailerNumber:"TRL001",registrationNumber:"REG-001-2024",location:"Warehouse A",inventory:{tools:[{toolName:"CART",currentStock:6,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:4,threshold:6,status:"low"},{toolName:"HARD PRESS",currentStock:0,threshold:6,status:"critical"},{toolName:"RED CARD",currentStock:8,threshold:6,status:"good"},{toolName:"OLFA",currentStock:5,threshold:6,status:"low"},{toolName:"OLFA BLADE PACK",currentStock:3,threshold:6,status:"low"},{toolName:"SCRAPERS",currentStock:7,threshold:6,status:"good"},{toolName:"SCRAPER BLADE PACK",currentStock:2,threshold:6,status:"low"},{toolName:"PICK KIT",currentStock:4,threshold:6,status:"low"},{toolName:"1 QRT ACETONE",currentStock:8,threshold:6,status:"good"},{toolName:"PHILLIPS HEAD SD",currentStock:6,threshold:6,status:"good"},{toolName:"FLAT HEAD SD",currentStock:5,threshold:6,status:"low"},{toolName:"WINDOW SQUEEGEE",currentStock:3,threshold:6,status:"low"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:0,threshold:1,status:"critical"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:3,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:1,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:3,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:10,threshold:8,status:"good"},{toolName:"5 GAL BUCKETS",currentStock:25,threshold:20,status:"good"},{toolName:"SHARPIE PACK",currentStock:1,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:3,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:1,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:25,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:15,threshold:20,status:"low"},{sheetType:"Riot",currentStock:0,threshold:15,status:"critical"},{sheetType:"Riot -",currentStock:12,threshold:10,status:"good"},{sheetType:"FER",currentStock:8,threshold:10,status:"low"},{sheetType:"Smash",currentStock:5,threshold:10,status:"low"},{sheetType:"Tint NI",currentStock:3,threshold:10,status:"low"},{sheetType:"Tint Incl",currentStock:7,threshold:10,status:"low"},{sheetType:"Anchoring",currentStock:2,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:1,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:4,threshold:10,status:"low"}]},status:"unavailable",activityLogs:[{id:"1",timestamp:"2024-01-15T10:30:00Z",type:"created",description:"Trailer TRL001 created",systemGenerated:!0},{id:"2",timestamp:"2024-01-16T14:20:00Z",type:"inventory_updated",description:"Inventory levels updated",user:"John Doe",systemGenerated:!1}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:20:00Z"},{id:"2",trailerNumber:"TRL002",registrationNumber:"REG-002-2024",location:"Field Site 1",inventory:{tools:[{toolName:"CART",currentStock:8,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:7,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:6,threshold:6,status:"good"},{toolName:"RED CARD",currentStock:10,threshold:6,status:"good"},{toolName:"OLFA",currentStock:8,threshold:6,status:"good"},{toolName:"OLFA BLADE PACK",currentStock:7,threshold:6,status:"good"},{toolName:"SCRAPERS",currentStock:9,threshold:6,status:"good"},{toolName:"SCRAPER BLADE PACK",currentStock:6,threshold:6,status:"good"},{toolName:"PICK KIT",currentStock:8,threshold:6,status:"good"},{toolName:"1 QRT ACETONE",currentStock:10,threshold:6,status:"good"},{toolName:"PHILLIPS HEAD SD",currentStock:8,threshold:6,status:"good"},{toolName:"FLAT HEAD SD",currentStock:7,threshold:6,status:"good"},{toolName:"WINDOW SQUEEGEE",currentStock:6,threshold:6,status:"good"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:1,threshold:1,status:"good"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:3,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:2,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:4,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:12,threshold:8,status:"good"},{toolName:"5 GAL BUCKETS",currentStock:30,threshold:20,status:"good"},{toolName:"SHARPIE PACK",currentStock:2,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:2,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:4,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:2,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:35,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:28,threshold:20,status:"good"},{sheetType:"Riot",currentStock:18,threshold:15,status:"good"},{sheetType:"Riot -",currentStock:15,threshold:10,status:"good"},{sheetType:"FER",currentStock:12,threshold:10,status:"good"},{sheetType:"Smash",currentStock:15,threshold:10,status:"good"},{sheetType:"Tint NI",currentStock:12,threshold:10,status:"good"},{sheetType:"Tint Incl",currentStock:10,threshold:10,status:"good"},{sheetType:"Anchoring",currentStock:8,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:6,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:9,threshold:10,status:"low"}]},status:"available",activityLogs:[{id:"3",timestamp:"2024-01-14T09:15:00Z",type:"created",description:"Trailer TRL002 created",systemGenerated:!0}],createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-14T09:15:00Z"},{id:"3",trailerNumber:"TRL003",registrationNumber:"REG-003-2024",location:"Maintenance Bay",inventory:{tools:[{toolName:"CART",currentStock:6,threshold:6,status:"good"},{toolName:"BEER TANK W/ HOSE",currentStock:6,threshold:6,status:"good"},{toolName:"HARD PRESS",currentStock:5,threshold:6,status:"low"},{toolName:"RED CARD",currentStock:4,threshold:6,status:"low"},{toolName:"OLFA",currentStock:3,threshold:6,status:"low"},{toolName:"OLFA BLADE PACK",currentStock:2,threshold:6,status:"low"},{toolName:"SCRAPERS",currentStock:4,threshold:6,status:"low"},{toolName:"SCRAPER BLADE PACK",currentStock:1,threshold:6,status:"low"},{toolName:"PICK KIT",currentStock:3,threshold:6,status:"low"},{toolName:"1 QRT ACETONE",currentStock:5,threshold:6,status:"low"},{toolName:"PHILLIPS HEAD SD",currentStock:4,threshold:6,status:"low"},{toolName:"FLAT HEAD SD",currentStock:3,threshold:6,status:"low"},{toolName:"WINDOW SQUEEGEE",currentStock:2,threshold:6,status:"low"},{toolName:"CORDLESS DRILL",currentStock:1,threshold:1,status:"good"},{toolName:"DRILL BIT KIT",currentStock:1,threshold:1,status:"good"},{toolName:"GENERATOR W/ CORD",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK SAUSAGE CASE",currentStock:2,threshold:2,status:"good"},{toolName:"9 PK BLUE TAPE",currentStock:1,threshold:1,status:"good"},{toolName:"MICRO FIBER PACKAGE",currentStock:2,threshold:2,status:"good"},{toolName:"5 GAL GAS CAN",currentStock:1,threshold:1,status:"good"},{toolName:"12 GAL WATER",currentStock:1,threshold:1,status:"good"},{toolName:"AIR COMP W/ HOSE",currentStock:1,threshold:1,status:"good"},{toolName:"TRASH CAN",currentStock:1,threshold:1,status:"good"},{toolName:"55 GAL TRASH BAGS CASE",currentStock:1,threshold:1,status:"good"},{toolName:"BATH TOWEL",currentStock:6,threshold:8,status:"low"},{toolName:"5 GAL BUCKETS",currentStock:15,threshold:20,status:"low"},{toolName:"SHARPIE PACK",currentStock:1,threshold:1,status:"good"},{toolName:"DRY ERASE MARKER PACK",currentStock:1,threshold:1,status:"good"},{toolName:"CAULK GUN (Sausage)",currentStock:2,threshold:2,status:"good"},{toolName:"PACK NITRILE GLOVES",currentStock:1,threshold:1,status:"good"}],filmSheets:[{sheetType:"BR",currentStock:20,threshold:20,status:"good"},{sheetType:"Riot+",currentStock:20,threshold:20,status:"good"},{sheetType:"Riot",currentStock:15,threshold:15,status:"good"},{sheetType:"Riot -",currentStock:8,threshold:10,status:"low"},{sheetType:"FER",currentStock:5,threshold:10,status:"low"},{sheetType:"Smash",currentStock:6,threshold:10,status:"low"},{sheetType:"Tint NI",currentStock:4,threshold:10,status:"low"},{sheetType:"Tint Incl",currentStock:5,threshold:10,status:"low"},{sheetType:"Anchoring",currentStock:3,threshold:10,status:"low"},{sheetType:"Kevlar",currentStock:2,threshold:10,status:"low"},{sheetType:"Stripping",currentStock:4,threshold:10,status:"low"}]},status:"low",activityLogs:[{id:"4",timestamp:"2024-01-13T16:45:00Z",type:"created",description:"Trailer TRL003 created",systemGenerated:!0}],createdAt:"2024-01-13T16:45:00Z",updatedAt:"2024-01-13T16:45:00Z"}].map(h);var g=s(2703),b=s(8473),v=s(9726),y=s(2528),j=s(217),N=s(894);const f=()=>{const{projectId:e}=(0,l.g)(),{setBreadcrumbs:t}=(0,i.iQ)(),[s]=(0,r.useState)(n),[h,f]=(0,r.useState)(o),[S,A]=(0,r.useState)(!1),[T,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),[L,R]=(0,r.useState)(!1),[I,O]=(0,r.useState)(!1),[P,U]=(0,r.useState)(!1),[M,B]=(0,r.useState)(null),[z,$]=(0,r.useState)(!1),[q,K]=(0,r.useState)(!1),[G,W]=(0,r.useState)(null);(0,r.useEffect)(()=>{t([{label:"Dashboard",href:"/dashboard"},{label:"Projects",href:"/projects"},{label:s.name,href:`/projects/${e}`}])},[s.name,e,t]);const F=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};f(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},H=e=>{console.log("Trailer assignment handler called with:",e);const t={trailer:{id:e.id,trailerNumber:e.trailerName,registrationNumber:e.registrationNumber,location:e.currentLocation,status:"available"===e.status?"available":"unavailable",inventory:{tools:e.inventory.tools.map(e=>({toolName:e.toolName,currentStock:e.available,threshold:1,status:"good"})),filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,currentStock:e.available,threshold:e.required,status:"good"}))},activityLogs:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},inventoryStatus:"available"===e.status?"available":"unavailable",lastUpdated:(new Date).toISOString()};console.log("Setting assigned trailer:",t),f(e=>({...e,assignedTrailer:t,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},Z=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};f(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},V=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};f(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(g.X,{project:s,onEdit:()=>{A(!0)}}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-8 py-6",children:[(0,a.jsx)(b.X,{assignedTeam:h.assignedTeam,assignedTrailer:h.assignedTrailer,logistics:h.logistics,logisticsItems:h.logisticsTravel.logistics,travelPlans:h.logisticsTravel.travelPlans,projectFilmRequirements:h.assignedTrailer?[{sheetType:"BR",required:30},{sheetType:"Riot+",required:25},{sheetType:"Riot",required:20},{sheetType:"Riot -",required:15},{sheetType:"FER",required:12},{sheetType:"Smash",required:10},{sheetType:"Tint NI",required:8},{sheetType:"Tint Incl",required:6},{sheetType:"Anchoring",required:5},{sheetType:"Kevlar",required:3},{sheetType:"Stripping",required:2}].map(e=>{const t=h.assignedTrailer?.trailer.inventory.filmSheets.find(t=>t.sheetType===e.sheetType),s=t?.currentStock||0,a=e.required;let r;return r=s>=a?"sufficient":s>0?"low":"missing",{sheetType:e.sheetType,required:a,available:s,status:r}}):[],onViewTeam:()=>{console.log("View team details"),alert("View Team Details - Coming Soon")},onViewTrailer:()=>{console.log("View trailer details"),alert("View Trailer Details - Coming Soon")},onViewLogistics:()=>{console.log("View logistics details"),alert("View Logistics Details - Coming Soon")},onAssignTeam:()=>{w(!0)},onEditTeam:()=>{C(!0)},onAssignTrailer:()=>{console.log("Opening trailer assignment modal");const e=p();console.log("Available trailers:",e),E(!0)},onEditTrailer:()=>{R(!0)},onAssignLogistics:()=>{const e={partner:"LogiCorp Solutions",eta:new Date(Date.now()+2592e5).toISOString(),notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"};f(t=>({...t,logistics:e,checklist:t.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onSetupTravel:()=>{f(e=>({...e,checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},onAddLogistics:()=>{B(null),O(!0)},onEditLogistics:e=>{B(e),U(!0)},onDeleteLogistics:e=>{f(t=>({...t,logisticsTravel:{...t.logisticsTravel,logistics:t.logisticsTravel.logistics.filter(t=>t.id!==e)}}))},onAddTravel:()=>{W(null),$(!0)},onEditTravel:e=>{W(e),K(!0)},onDeleteTravel:e=>{f(t=>({...t,logisticsTravel:{...t.logisticsTravel,travelPlans:t.logisticsTravel.travelPlans.filter(t=>t.id!==e)}}))},onUploadShipmentReceipt:()=>{console.log("Upload shipment receipt"),alert("Upload Shipment Receipt - Coming Soon")}}),(0,a.jsx)(v.o,{checklist:h.checklist,onToggleItem:e=>{f(t=>({...t,checklist:t.checklist.map(t=>{if(t.id===e){const e={...t,completed:!t.completed};return e.completed?(e.completedAt=(new Date).toISOString(),e.completedBy="Current User"):(e.completedAt=void 0,e.completedBy=void 0),e}return t})}))}}),(0,a.jsx)(y.y,{documents:h.documents,onUploadDocument:(t,s)=>{const a={id:`doc-${Date.now()}`,name:t.name,type:t.type,label:s,size:t.size,url:URL.createObjectURL(t),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User",projectId:e||"",category:s};f(e=>({...e,documents:[...e.documents,a]}))},onDeleteDocument:e=>{f(t=>({...t,documents:t.documents.filter(t=>t.id!==e)}))},onDownloadDocument:e=>{console.log("Downloading document:",e.name),alert(`Downloading ${e.name}`)}}),(0,a.jsx)(j.n,{notes:h.notes,onAddNote:(t,s)=>{const a={id:`note-${Date.now()}`,content:t,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e||"",isInternal:s};f(e=>({...e,notes:[...e.notes,a]}))},onEditNote:(e,t)=>{f(s=>({...s,notes:s.notes.map(s=>s.id===e?{...s,content:t,updatedAt:(new Date).toISOString()}:s)}))},onDeleteNote:e=>{f(t=>({...t,notes:t.notes.filter(t=>t.id!==e)}))}})]}),(0,a.jsx)(N.a,{isOpen:S,onClose:()=>A(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(c.W,{isOpen:T,onClose:()=>w(!1),onAssignTeam:F,availableMembers:x.N}),(0,a.jsx)(c.W,{isOpen:k,onClose:()=>C(!1),onAssignTeam:F,availableMembers:x.N,assignedMemberIds:h.assignedTeam?.members.map(e=>e.id)||[]}),(0,a.jsx)(d.C,{isOpen:D,onClose:()=>E(!1),onAssignTrailer:H,availableTrailers:p()}),(0,a.jsx)(d.C,{isOpen:L,onClose:()=>R(!1),onAssignTrailer:H,availableTrailers:p(),assignedTrailerId:h.assignedTrailer?.trailer.id}),(0,a.jsx)(m.C,{isOpen:I,onClose:()=>O(!1),onSave:Z}),(0,a.jsx)(m.C,{isOpen:P,onClose:()=>U(!1),onSave:Z,onEdit:(e,t)=>{f(s=>({...s,logisticsTravel:{...s.logisticsTravel,logistics:s.logisticsTravel.logistics.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingLogistics:M}),(0,a.jsx)(u.b,{isOpen:z,onClose:()=>$(!1),onSave:V,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(u.b,{isOpen:q,onClose:()=>K(!1),onSave:V,onEdit:(e,t)=>{f(s=>({...s,logisticsTravel:{...s.logisticsTravel,travelPlans:s.logisticsTravel.travelPlans.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingTravel:G,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))})]})}},9726:(e,t,s)=>{s.d(t,{o:()=>i});var a=s(4848),r=(s(6540),s(1314)),l=s(7487);const i=({checklist:e,onToggleItem:t})=>{const s=e.filter(e=>e.completed).length,i=e.length,n=s/i*100;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Preparation Checklist"}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[s,"/",i," completed"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>t(e.id),className:"flex-shrink-0 mr-2 text-gray-400 hover:text-blue-600 transition-colors","aria-label":`Toggle ${e.label}`,children:e.completed?(0,a.jsx)(r.A,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(l.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-xs font-medium "+(e.completed?"text-green-600":"text-gray-600"),children:e.label})]},e.id))})]})}}}]);