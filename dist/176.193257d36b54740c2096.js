"use strict";(self.webpackChunkproject_management_app=self.webpackChunkproject_management_app||[]).push([[176],{408:(e,t,s)=>{s.d(t,{xw:()=>a});const a=[{id:"win-001",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:3,status:"Pending",assignedTeamMembers:[],installationBreakdown:[],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",projectId:"proj-001"},{id:"win-002",windowName:"Conference Room Window",filmType:"Riot+",length:200,width:100,layers:2,status:"In Progress",assignedTeamMembers:["tm-001","tm-002"],installationBreakdown:[{layerNumber:1,layerName:"Interior Layer",installerName:"John Smith",installerId:"tm-001",installedAt:"2024-01-16T09:00:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T09:00:00Z",projectId:"proj-001"},{id:"win-003",windowName:"Reception Area Window",filmType:"Security",length:150,width:90,layers:1,status:"Complete",assignedTeamMembers:["tm-003"],installationBreakdown:[{layerNumber:1,layerName:"Security Film",installerName:"Mike Lee",installerId:"tm-003",installedAt:"2024-01-16T14:30:00Z",status:"installed"}],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-16T14:30:00Z",projectId:"proj-001"},...Array.from({length:57},(e,t)=>{const s=t+4,a=["BR","Riot","Riot+","Security","Privacy","Decorative","Other"],r=["Pending","Updated","In Progress","Complete","Reinstallation Needed"],l=a[t%a.length],i=r[t%r.length],n=Math.floor(3*Math.random())+1,d="In Progress"===i||"Complete"===i?["tm-001","tm-002","tm-003","tm-004","tm-005"].slice(0,Math.floor(3*Math.random())+1):[],o="Complete"===i||"In Progress"===i?Array.from({length:n},(e,t)=>({layerNumber:t+1,layerName:`Layer ${t+1}`,installerName:`Installer ${String.fromCharCode(65+t)}`,installerId:`tm-${String(t+1).padStart(3,"0")}`,installedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),status:Math.random()>.1?"installed":"reinstallation_needed"})):[];return{id:`win-${String(s).padStart(3,"0")}`,windowName:`Window ${s}`,filmType:l,length:Math.floor(200*Math.random())+80,width:Math.floor(120*Math.random())+60,layers:n,status:i,assignedTeamMembers:d,installationBreakdown:o,createdAt:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),updatedAt:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),projectId:"proj-001"}})]},1747:(e,t,s)=>{s.d(t,{b:()=>o});var a=s(4848),r=s(6540),l=s(9775),i=s(1085),n=s(894),d=s(5919);const o=({isOpen:e,onClose:t,onSave:s,onEdit:o,editingTravel:c,availableTeamMembers:m})=>{const[x,u]=(0,r.useState)({travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),[p,h]=(0,r.useState)({}),g=!!c;(0,r.useEffect)(()=>{e&&(u(c?{travelType:c.travelType,departureLocation:c.departureLocation,destination:c.destination,departureDate:c.departureDate,returnDate:c.returnDate||"",assignedTeamMembers:c.assignedTeamMembers}:{travelType:"Flight",departureLocation:"",destination:"",departureDate:"",returnDate:"",assignedTeamMembers:[]}),h({}))},[e,c]);const j=(e,t)=>{u(s=>({...s,[e]:t})),p[e]&&h(t=>({...t,[e]:""}))},b=()=>m.filter(e=>x.assignedTeamMembers.includes(e.id));return(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:g?"Edit Travel Plan":"Add Travel Plan",size:"lg",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return x.departureLocation.trim()||(e.departureLocation="Departure location is required"),x.destination.trim()||(e.destination="Destination is required"),x.departureDate||(e.departureDate="Departure date is required"),0===x.assignedTeamMembers.length&&(e.assignedTeamMembers="At least one team member must be selected"),h(e),0===Object.keys(e).length})())return;const a={...x,returnDate:x.returnDate||void 0};g&&o?o(c.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Type *"}),(0,a.jsxs)("select",{value:x.travelType,onChange:e=>j("travelType",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Flight",children:"Flight"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Train",children:"Train"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Location *"}),(0,a.jsx)("input",{type:"text",value:x.departureLocation,onChange:e=>j("departureLocation",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureLocation?"border-red-300":"border-gray-300"),placeholder:"Enter departure location"}),p.departureLocation&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureLocation})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),(0,a.jsx)("input",{type:"text",value:x.destination,onChange:e=>j("destination",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.destination?"border-red-300":"border-gray-300"),placeholder:"Enter destination"}),p.destination&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.destination})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departure Date *"}),(0,a.jsx)("input",{type:"date",value:x.departureDate,onChange:e=>j("departureDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(p.departureDate?"border-red-300":"border-gray-300")}),p.departureDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.departureDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Date (Optional)"}),(0,a.jsx)("input",{type:"date",value:x.returnDate,onChange:e=>j("returnDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Team Members *"}),b().length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Selected (",b().length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b().map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.name," (",e.role,")"]},e.id))})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg",children:m.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.assignedTeamMembers.includes(e.id),onChange:()=>{return t=e.id,void u(e=>({...e,assignedTeamMembers:e.assignedTeamMembers.includes(t)?e.assignedTeamMembers.filter(e=>e!==t):[...e.assignedTeamMembers,t]}));var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id))}),p.assignedTeamMembers&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:p.assignedTeamMembers})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(d.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",variant:"primary",icon:l.A,children:g?"Update Travel Plan":"Add Travel Plan"})]})]})})}},2321:(e,t,s)=>{s.d(t,{N:()=>a});const a=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-001",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Lead supervisor role for 10-day installation project"},{id:"act-002",type:"project_update",description:"Project status updated to Installation phase",date:"2024-03-05",details:"All planning completed, installation started"}]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"],projects:[{id:"proj-003",name:"Midtown Retail Security",stage:"Quality Check",timeline:"Mar 20 - Mar 30, 2024",assignedDate:"2024-03-15"}],activityLog:[{id:"act-003",type:"assignment",description:"Assigned to Midtown Retail Security",date:"2024-03-15",details:"Crew leader for quality control phase"}]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"}],activityLog:[{id:"act-004",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Installation team member"}]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Unavailable",unavailableUntil:"10/03/2024",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"],projects:[],activityLog:[{id:"act-005",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 10/03/2024"}]},{id:"tm-005",name:"David Brown",role:"Crew Leader",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:7,specializations:["Large Scale Projects","Equipment Management"],projects:[{id:"proj-004",name:"Industrial Complex Security",stage:"Planning",timeline:"Apr 1 - May 15, 2024",assignedDate:"2024-03-20"}],activityLog:[{id:"act-006",type:"assignment",description:"Assigned to Industrial Complex Security",date:"2024-03-20",details:"Crew leader for large-scale project"}]},{id:"tm-006",name:"Lisa Garcia",role:"Installer",status:"Available",phone:"+1-555-0128",email:"lisa@company.com",avatar:"LG",location:"Seattle, WA",experience:3,specializations:["Residential Projects"],projects:[{id:"proj-005",name:"Residential Security Upgrade",stage:"Installation",timeline:"Mar 18 - Mar 28, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-007",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Installation team member for residential project"}]},{id:"tm-007",name:"Robert Taylor",role:"Lead Supervisor",status:"Unavailable",unavailableUntil:"05/03/2024",phone:"+1-555-0129",email:"robert@company.com",avatar:"RT",location:"Denver, CO",experience:10,specializations:["Project Management","Client Relations"],projects:[],activityLog:[{id:"act-008",type:"status_change",description:"Status changed to unavailable",date:"2024-02-25",details:"Medical leave until 05/03/2024"}]},{id:"tm-008",name:"Jennifer White",role:"Project Coordinator",status:"Available",phone:"+1-555-0130",email:"jennifer@company.com",avatar:"JW",location:"Boston, MA",experience:2,specializations:["Project Coordination","Client Communication"],projects:[{id:"proj-001",name:"Downtown Office Complex",stage:"Installation",timeline:"Mar 15 - Mar 25, 2024",assignedDate:"2024-03-01"},{id:"proj-002",name:"Residential Security Upgrade",stage:"Planning",timeline:"Apr 1 - Apr 15, 2024",assignedDate:"2024-03-10"}],activityLog:[{id:"act-009",type:"assignment",description:"Assigned to Downtown Office Complex",date:"2024-03-01",details:"Project coordinator for installation phase"},{id:"act-010",type:"assignment",description:"Assigned to Residential Security Upgrade",date:"2024-03-10",details:"Project coordinator for planning phase"}]},{id:"tm-009",name:"David Martinez",role:"Installer",status:"Available",phone:"+1-555-0131",email:"david@company.com",avatar:"DM",location:"Miami, FL",experience:6,specializations:["Commercial Projects","Security Systems"],projects:[],activityLog:[]},{id:"tm-010",name:"Lisa Anderson",role:"Crew Leader",status:"Available",phone:"+1-555-0132",email:"lisa@company.com",avatar:"LA",location:"Seattle, WA",experience:8,specializations:["Team Management","Quality Control"],projects:[],activityLog:[]},{id:"tm-011",name:"James Brown",role:"Installer",status:"Unavailable",unavailableUntil:"15/03/2024",phone:"+1-555-0133",email:"james@company.com",avatar:"JB",location:"Denver, CO",experience:3,specializations:["Residential Projects"],projects:[],activityLog:[{id:"act-011",type:"status_change",description:"Status changed to unavailable",date:"2024-03-01",details:"Personal leave until 15/03/2024"}]},{id:"tm-012",name:"Maria Garcia",role:"Project Coordinator",status:"Available",phone:"+1-555-0134",email:"maria@company.com",avatar:"MG",location:"Austin, TX",experience:4,specializations:["Client Relations","Scheduling"],projects:[],activityLog:[]},{id:"tm-013",name:"Kevin Lee",role:"Installer",status:"Available",phone:"+1-555-0135",email:"kevin@company.com",avatar:"KL",location:"Portland, OR",experience:5,specializations:["Precision Installation","Troubleshooting"],projects:[],activityLog:[]},{id:"tm-014",name:"Sarah Thompson",role:"Lead Supervisor",status:"Available",phone:"+1-555-0136",email:"sarah@company.com",avatar:"ST",location:"Nashville, TN",experience:10,specializations:["Project Management","Team Leadership"],projects:[],activityLog:[]},{id:"tm-015",name:"Michael Davis",role:"Installer",status:"Unavailable",unavailableUntil:"20/03/2024",phone:"+1-555-0137",email:"michael@company.com",avatar:"MD",location:"Las Vegas, NV",experience:7,specializations:["Commercial Security","System Integration"],projects:[],activityLog:[{id:"act-012",type:"status_change",description:"Status changed to unavailable",date:"2024-03-05",details:"Training course until 20/03/2024"}]},{id:"tm-016",name:"Amanda Wilson",role:"Crew Leader",status:"Available",phone:"+1-555-0138",email:"amanda@company.com",avatar:"AW",location:"Phoenix, AZ",experience:6,specializations:["Quality Assurance","Safety Protocols"],projects:[],activityLog:[]},{id:"tm-017",name:"Christopher Taylor",role:"Installer",status:"Available",phone:"+1-555-0139",email:"christopher@company.com",avatar:"CT",location:"San Diego, CA",experience:4,specializations:["Residential Security","Customer Service"],projects:[],activityLog:[]},{id:"tm-018",name:"Jessica Miller",role:"Project Coordinator",status:"Available",phone:"+1-555-0140",email:"jessica@company.com",avatar:"JM",location:"Tampa, FL",experience:3,specializations:["Documentation","Client Communication"],projects:[],activityLog:[]},{id:"tm-019",name:"Daniel Rodriguez",role:"Installer",status:"Unavailable",unavailableUntil:"25/03/2024",phone:"+1-555-0141",email:"daniel@company.com",avatar:"DR",location:"Orlando, FL",experience:5,specializations:["Commercial Projects","System Maintenance"],projects:[],activityLog:[{id:"act-013",type:"status_change",description:"Status changed to unavailable",date:"2024-03-08",details:"Family emergency until 25/03/2024"}]},{id:"tm-020",name:"Rachel Green",role:"Lead Supervisor",status:"Available",phone:"+1-555-0142",email:"rachel@company.com",avatar:"RG",location:"Minneapolis, MN",experience:9,specializations:["Project Planning","Resource Management"],projects:[],activityLog:[]}]},2845:(e,t,s)=>{s.d(t,{Qp:()=>l});var a=s(9803);const r=e=>({id:e.id,trailerName:e.trailerName,registrationNumber:e.registrationNumber,homeLocation:`${e.city}, ${e.state}`,currentLocation:`${e.city}, ${e.state}`,status:(e=>{switch(e){case"available":default:return"available";case"low":return"low_stock";case"unavailable":return"unavailable"}})(e.status),unavailableUntil:"unavailable"===e.status?new Date(Date.now()+6048e5).toISOString():void 0,capacity:1e3,currentLoad:0,lastMaintenance:e.updatedAt,nextMaintenance:new Date(new Date(e.updatedAt).getTime()+15552e6).toISOString(),assignedProject:null,inventory:{filmSheets:e.inventory.filmSheets.map(e=>({sheetType:e.sheetType,required:e.threshold,available:e.currentStock})),tools:e.inventory.tools.map(e=>({toolName:e.toolName,available:e.currentStock}))}}),l=()=>a.d.map(r)},2906:(e,t,s)=>{s.d(t,{NE:()=>r,jd:()=>l,x8:()=>i,xw:()=>a});const a=[{id:"1",windowName:"Main Office Window 1",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"2",windowName:"Main Office Window 2",filmType:"Riot",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"3",windowName:"Main Office Window 3",filmType:"Riot +",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Reinstallation Needed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17"),notes:"Quality issue detected"}],status:"Reinstallation Needed",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"4",windowName:"Main Office Window 4",filmType:"Riot -",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Pending"}],status:"Pending",assignedTeamMembers:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"5",windowName:"Main Office Window 5",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"In Progress"}],status:"In Progress",assignedTeamMembers:["John Smith","Ayesha Khan"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"6",windowName:"Main Office Window 6",filmType:"PER",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")},{layerNumber:2,layerName:"Middle Layer",status:"Installed",installedBy:"Ayesha Khan",installedAt:new Date("2024-01-16")},{layerNumber:3,layerName:"Exterior Layer",status:"Installed",installedBy:"Mike Lee",installedAt:new Date("2024-01-17")}],status:"Complete",assignedTeamMembers:["John Smith","Ayesha Khan","Mike Lee"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-17"),createdFromSheet:!0,sheetId:"sheet-1"},{id:"7",windowName:"Main Office Window 7",filmType:"BR",length:120,width:80,layers:[{layerNumber:1,layerName:"Interior Layer",status:"Installed",installedBy:"John Smith",installedAt:new Date("2024-01-15")}],status:"Complete",assignedTeamMembers:["John Smith"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),createdFromSheet:!0,sheetId:"sheet-1"}],r=["John Smith","Ayesha Khan","Mike Lee","Sarah Johnson","David Chen","Emily Rodriguez"],l=["BR","Riot","Riot +","Riot -","PER","Smash","FER","Custom"],i=["Pending","Updated","In Progress","Complete","Reinstallation Needed"]},3096:(e,t,s)=>{s.d(t,{K:()=>p});var a=s(4848),r=s(6540),l=s(1116),i=s(1314),n=s(3459),d=s(2427),o=s(1676),c=s(9237),m=s(894),x=s(5919),u=s(7235);const p=({isOpen:e,onClose:t,onUploadComplete:s})=>{const{showToast:p}=(0,u.d)(),h=(0,r.useRef)(null),[g,j]=(0,r.useState)("idle"),[b,y]=(0,r.useState)(null),[f,v]=(0,r.useState)(0),[N,w]=(0,r.useState)(""),C=()=>{j("idle"),y(null),v(0),w(""),h.current&&(h.current.value=""),t()};return(0,a.jsxs)(m.a,{isOpen:e,onClose:C,title:"Upload Take-off Sheet",size:"lg",children:["uploading"===g||"processing"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"mb-4",children:"uploading"===g?(0,a.jsx)(o.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-pulse"}):(0,a.jsx)(d.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"uploading"===g?"Uploading...":"Processing take-off sheet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"uploading"===g?"Uploading your file...":"Generating windows… Please wait"}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[f,"% complete"]})]}):"completed"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(i.A,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Complete!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Windows created successfully from sheet"})]}):"error"===g?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(l.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Failed"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:N}),(0,a.jsx)(x.$,{variant:"primary",onClick:()=>j("idle"),children:"Try Again"})]}):(0,a.jsxs)("div",{className:"py-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload Take-off Sheet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Upload a CSV or Excel file to automatically create windows"})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer",onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files[0];t&&(y(t),w(""))},onClick:()=>h.current?.click(),children:[(0,a.jsx)("input",{ref:h,type:"file",accept:".csv,.xls,.xlsx",onChange:e=>{const t=e.target.files?.[0];if(t){if(!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type))return void w("Please upload a CSV or Excel file (.csv, .xls, .xlsx)");if(t.size>10485760)return void w("File size must be less than 10MB");y(t),w("")}},className:"hidden"}),b?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:b.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[(b.size/1048576).toFixed(2)," MB"]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),y(null),w("")},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(c.A,{className:"w-5 h-5"})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(o.A,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-600 mb-1",children:"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"CSV, XLS, XLSX (max 10MB)"})]})]}),N&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:N})}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"File Requirements:"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• CSV or Excel format (.csv, .xls, .xlsx)"}),(0,a.jsx)("li",{children:"• Maximum file size: 10MB"}),(0,a.jsx)("li",{children:"• Required columns: Window Name, Film Type, Length, Width, Layers"}),(0,a.jsx)("li",{children:"• First row should contain column headers"})]})]})]}),"idle"===g&&(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(x.$,{variant:"secondary",onClick:C,children:"Cancel"}),(0,a.jsx)(x.$,{variant:"primary",onClick:async()=>{if(b){j("uploading"),v(0);try{for(let e=0;e<=100;e+=10)v(e),await new Promise(e=>setTimeout(e,200));j("processing"),await new Promise(e=>setTimeout(e,2e3));const e={id:`sheet-${Date.now()}`,fileName:b.name,uploadedAt:new Date,processedAt:new Date,status:"Completed",windowsCreated:7,totalRows:7};j("completed"),p("Windows created successfully from sheet","success"),setTimeout(()=>{s(e),C()},1500)}catch(e){j("error"),w("Failed to process the take-off sheet. Please try again.")}}},disabled:!b,children:"Upload & Process"})]})]})}},3283:(e,t,s)=>{s.d(t,{n:()=>g});var a=s(4848),r=s(6540),l=s(1116),i=s(3573),n=s(1314),d=s(1523),o=s(7287),c=s(4574),m=s(9237),x=s(894),u=s(5919),p=s(7235),h=s(2906);const g=({isOpen:e,onClose:t,windowItem:s,onUpdate:g})=>{const{showToast:j}=(0,p.d)(),[b,y]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null);if(r.useEffect(()=>{s&&v({...s})},[s]),!s||!f)return null;const N=e=>{switch(e){case"Installed":return(0,a.jsx)(n.A,{className:"w-4 h-4 text-green-500"});case"Reinstallation Needed":return(0,a.jsx)(l.A,{className:"w-4 h-4 text-red-500"});default:return(0,a.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})}},w=(e,t)=>{v(s=>{if(!s)return null;const a={...s,[e]:t,updatedAt:new Date};return"status"!==e&&"In Progress"!==s.status&&"Complete"!==s.status&&(a.status="Updated"),a})};return(0,a.jsx)(x.a,{isOpen:e,onClose:t,title:"",size:"xl",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[b?(0,a.jsx)("input",{type:"text",value:f.windowName,onChange:e=>w("windowName",e.target.value),className:"text-2xl font-bold text-gray-900 border border-gray-300 rounded px-2 py-1"}):(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f.windowName}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e){case"Pending":default:return"bg-gray-100 text-gray-700";case"Updated":return"bg-blue-100 text-blue-700";case"In Progress":return"bg-yellow-100 text-yellow-700";case"Complete":return"bg-green-100 text-green-700";case"Reinstallation Needed":return"bg-red-100 text-red-700"}})(f.status)}`,children:f.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Created ",f.createdAt.toLocaleDateString()]}),(0,a.jsxs)("span",{children:["Updated ",f.updatedAt.toLocaleDateString()]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.$,{variant:"secondary",onClick:()=>{v({...s}),y(!1)},children:"Cancel"}),(0,a.jsx)(u.$,{variant:"primary",onClick:()=>{f&&(g(f),y(!1),j("Window updated successfully","success"))},children:"Save Changes"})]}):(0,a.jsx)(u.$,{variant:"secondary",onClick:()=>y(!0),icon:o.A,children:"Edit"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Film Type"}),b?(0,a.jsx)("select",{value:f.filmType,onChange:e=>w("filmType",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2",children:h.jd.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}):(0,a.jsx)("p",{className:"text-gray-900",children:f.filmType})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (cm)"}),b?(0,a.jsx)("input",{type:"number",value:f.length,onChange:e=>w("length",parseInt(e.target.value)||0),className:"w-full border border-gray-300 rounded-md px-3 py-2"}):(0,a.jsx)("p",{className:"text-gray-900",children:f.length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (cm)"}),b?(0,a.jsx)("input",{type:"number",value:f.width,onChange:e=>w("width",parseInt(e.target.value)||0),className:"w-full border border-gray-300 rounded-md px-3 py-2"}):(0,a.jsx)("p",{className:"text-gray-900",children:f.width})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Layers"}),(0,a.jsx)("p",{className:"text-gray-900",children:f.layers.length})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Assignment"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned Team Members"}),b?(0,a.jsxs)("div",{className:"space-y-2",children:[f.assignedTeamMembers.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("select",{value:e,onChange:e=>{const s=[...f.assignedTeamMembers];s[t]=e.target.value,w("assignedTeamMembers",s)},className:"flex-1 border border-gray-300 rounded-md px-3 py-2",children:h.NE.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{onClick:()=>{const e=f.assignedTeamMembers.filter((e,s)=>s!==t);w("assignedTeamMembers",e)},className:"text-red-500 hover:text-red-700",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})})]},t)),(0,a.jsx)("button",{onClick:()=>{const e=[...f.assignedTeamMembers,h.NE[0]];w("assignedTeamMembers",e)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Team Member"})]}):(0,a.jsx)("div",{className:"space-y-1",children:f.assignedTeamMembers.length>0?f.assignedTeamMembers.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-900",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e})]},t)):(0,a.jsx)("p",{className:"text-gray-500",children:"No team members assigned"})})]})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Layer Installation Details"}),(0,a.jsx)("div",{className:"space-y-3",children:f.layers.map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[N(e.status),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.layerName})]}),b&&(0,a.jsxs)("select",{value:e.status,onChange:e=>{const s="Installed"===e.target.value?h.NE[0]:void 0;((e,t,s)=>{v(a=>{if(!a)return null;const r=[...a.layers];r[e]={...r[e],status:t,installedBy:"Installed"===t?s:void 0,installedAt:"Installed"===t?new Date:void 0};const l=r.every(e=>"Installed"===e.status),i=r.some(e=>"Reinstallation Needed"===e.status),n=r.some(e=>"In Progress"===e.status);let d="Updated";return i?d="Reinstallation Needed":l?d="Complete":(n||a.assignedTeamMembers.length>0)&&(d="In Progress"),{...a,layers:r,status:d,updatedAt:new Date}})})(t,e.target.value,s)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,a.jsx)("option",{value:"Installed",children:"Installed"}),(0,a.jsx)("option",{value:"Reinstallation Needed",children:"Reinstallation Needed"})]})]}),"Installed"===e.status&&e.installedBy&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Installed by ",e.installedBy]}),e.installedAt&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)(i.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.installedAt.toLocaleDateString()})]})]}),"Reinstallation Needed"===e.status&&e.notes&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[(0,a.jsx)("strong",{children:"Note:"})," ",e.notes]})]},t))})]})]})})}},4722:(e,t,s)=>{s.d(t,{W:()=>u});var a=s(4848),r=s(6540),l=s(3573),i=s(1397),n=s(2053),d=s(799),o=s(4574),c=s(9237),m=s(5919),x=s(894);const u=({isOpen:e,onClose:t,onAssignTeam:s,availableMembers:u,assignedMemberIds:p=[],projectDetails:h})=>{const[g,j]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[C,A]=(0,r.useState)(p),[S,D]=(0,r.useState)(1),k=15,T=(0,r.useMemo)(()=>u.map(e=>e.location).filter((e,t,s)=>s.indexOf(e)===t&&e).sort(),[u]),M=(0,r.useMemo)(()=>u.filter(e=>{const t=e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase())||e.phone?.toLowerCase().includes(g.toLowerCase()),s=!b||e.role===b,a=!f||e.status===f,r=!N||e.location===N;return t&&s&&a&&r}),[u,g,b,f,N]),L=Math.ceil(M.length/k),I=(0,r.useMemo)(()=>{const e=(S-1)*k;return M.slice(e,e+k)},[M,S,k]),P=e=>{const t=u.find(t=>t.id===e);t&&"Available"===t.status&&A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},B=e=>new Date(e).toLocaleDateString("en-GB"),O=C.length,W=M.length,R=u.filter(e=>C.includes(e.id));return(0,a.jsx)(x.a,{isOpen:e,onClose:t,title:"Assign Team Members",size:"xl",children:(0,a.jsxs)("div",{className:"p-6 max-h-[80vh] flex flex-col",children:[h&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Project Duration"}),(0,a.jsxs)("span",{className:"text-sm text-blue-800",children:[(0,a.jsx)("span",{className:"font-medium",children:B(h.startDate)}),(0,a.jsx)("span",{className:"mx-2",children:"→"}),(0,a.jsx)("span",{className:"font-medium",children:B(h.endDate)})]})]})}),(0,a.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, phone, or role...",value:g,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"Lead Supervisor",children:"Lead Supervisor"}),(0,a.jsx)("option",{value:"Crew Leader",children:"Crew Leader"}),(0,a.jsx)("option",{value:"Installer",children:"Installer"}),(0,a.jsx)("option",{value:"Project Coordinator",children:"Project Coordinator"})]}),(0,a.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"Available",children:"Available"}),(0,a.jsx)("option",{value:"Unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 pr-7 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[120px]",children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),T.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),O>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Selected Team Members (",O,")"]})}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:R.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 border border-gray-300 rounded-full px-2 py-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.name}),(0,a.jsx)("button",{onClick:()=>{return t=e.id,void A(e=>e.filter(e=>e!==t));var t},className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(c.A,{className:"w-3 h-3"})})]},e.id))})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[W," members found"]})}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex-1",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:"Select"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(e=>{const t="Unavailable"===e.status,s=C.includes(e.id);return(0,a.jsxs)("tr",{className:`${t?"bg-gray-50 opacity-60":"hover:bg-gray-50 cursor-pointer"} ${s?"bg-blue-50":""}`,onClick:()=>!t&&P(e.id),title:t?`Unavailable until ${e.unavailableUntil?B(e.unavailableUntil):"TBD"} — cannot assign.`:"",children:[(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"checkbox",checked:s,disabled:t,onChange:()=>!t&&P(e.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"})})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-7 h-7 bg-gray-300 rounded-full flex items-center justify-center mr-2",children:e.avatar?(0,a.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:(r=e.name,r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2))})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.role})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(n.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.phone||"—"})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium "+("Available"===e.status?"text-green-600":"text-red-600"),children:e.status}),"Unavailable"===e.status&&e.unavailableUntil&&(0,a.jsxs)("span",{className:"text-xs text-red-500 whitespace-nowrap",children:["until ",B(e.unavailableUntil)]})]})}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-900 whitespace-nowrap",children:[(0,a.jsx)(i.A,{className:"w-3 h-3 mr-1 text-gray-400 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.location||"—"})]})})]},e.id);var r})})]})})}),L>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(S-1)*k+1," to ",Math.min(S*k,W)," of ",W," results"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>D(e=>Math.max(e-1,1)),disabled:1===S,children:"Previous"}),(0,a.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-600",children:[S," of ",L]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>D(e=>Math.min(e+1,L)),disabled:S===L,children:"Next"})]})]}),0===M.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No team members available"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Please adjust filters or check back later."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(m.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsxs)(m.$,{variant:"primary",onClick:()=>{const e=u.filter(e=>C.includes(e.id));s(e),t()},disabled:0===O,children:["Add Team Members (",O,")"]})]})]})})}},5176:(e,t,s)=>{s.d(t,{ProjectDetailsPage:()=>ee});var a=s(4848),r=s(6540),l=s(7767),i=s(4976);const n={id:"proj-001",name:"Downtown Office Complex Security Film Installation",projectId:"TXDA-SJ1BR1-EETUSC01-P20001",stage:"PV75",status:"PV75",description:"Comprehensive security film installation for the new downtown office complex",location:"123 Main Street, Downtown",startDate:"2024-02-01",endDate:"2024-02-15",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-20T00:00:00Z"},d={assignedTeam:null,assignedTrailer:null,logistics:{partner:"LogiCorp Solutions",eta:"2024-01-25T08:00:00Z",notes:"Equipment delivery scheduled for early morning",contactPerson:"Jane Doe",contactPhone:"+1-555-0199"},logisticsTravel:{logistics:[],travelPlans:[]},checklist:[{id:"check-1",label:"Team Assigned",completed:!1,required:!0},{id:"check-2",label:"Trailer Assigned",completed:!1,required:!0},{id:"check-3",label:"Logistics Confirmed",completed:!1,required:!0},{id:"check-4",label:"Travel Setup",completed:!1,required:!0}],documents:[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"}],notes:[{id:"note-1",content:"Client requested additional security measures for the main entrance",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1}]};var o=s(4722),c=s(5212),m=s(1747),x=s(2321),u=s(9809),p=s(3729),h=s(5732),g=s(9237),j=s(799),b=s(7596),y=s(1397),f=s(5919),v=s(894);const N=({isOpen:e,onClose:t,onAssignTrailer:s,availableTrailers:l,assignedTrailerId:i})=>{const[n,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[u,N]=(0,r.useState)(i||null),w=(0,r.useMemo)(()=>{const e=l.map(e=>e.currentLocation);return[...new Set(e)].sort()},[l]),C=(0,r.useMemo)(()=>l.filter(e=>{const t=e.trailerName.toLowerCase().includes(n.toLowerCase())||e.registrationNumber.toLowerCase().includes(n.toLowerCase())||e.currentLocation.toLowerCase().includes(n.toLowerCase()),s=!o||e.status===o,a=!m||e.currentLocation===m;return t&&s&&a}),[l,n,o,m]),A=()=>{t(),d(""),c(""),N(i||null)};return(0,a.jsx)(v.a,{isOpen:e,onClose:A,title:"Assign Trailer to Project",size:"lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row items-center space-y-3 lg:space-y-0 lg:space-x-4 mb-6",children:[(0,a.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by trailer name, registration, or location...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:n,onChange:e=>d(e.target.value)}),n&&(0,a.jsx)("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(g.A,{size:16})})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>c(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Status"}),(0,a.jsx)("option",{value:"available",children:"Available"}),(0,a.jsx)("option",{value:"low_stock",children:"Low Stock"}),(0,a.jsx)("option",{value:"unavailable",children:"Unavailable"})]}),(0,a.jsxs)("select",{className:"w-full lg:w-auto px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>x(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"All Locations"}),w.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===C.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)(b.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{children:"No trailers found matching your criteria."})]}):(0,a.jsx)("div",{className:"space-y-3",children:C.map(e=>{const t=(e=>"available"===e.status)(e),s=u===e.id;return(e=>{e.inventory.filmSheets.reduce((e,t)=>e+t.currentStock,0),e.inventory.tools.filter(e=>"good"===e.status).length,e.inventory.tools.length})(e),(0,a.jsx)("div",{className:"relative p-4 rounded-lg border-2 transition-all duration-200 "+(t?s?"border-blue-500 bg-blue-50 shadow-md cursor-pointer":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),onClick:()=>{return t&&(s=e.id,void N(s));var s},children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 pt-1",children:t?s?(0,a.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(p.A,{className:"w-3 h-3 text-white"})}):(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"}):(0,a.jsx)("div",{className:"w-5 h-5 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"w-3 h-3 text-gray-500"})})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-white flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"w-4 h-4 text-blue-600"})})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-1 "+(t?"text-gray-900":"text-gray-500"),children:e.trailerName}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("p",{className:"text-sm "+(t?"text-gray-600":"text-gray-400"),children:e.registrationNumber}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{children:e.currentLocation})]})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-4 flex flex-col items-end",children:"available"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"Available"]}):"low_stock"===e.status?(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Low Stock"]}):(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(g.A,{className:"w-3 h-3 mr-1"}),"Unavailable"]}),(0,a.jsxs)("span",{className:"text-xs text-red-600 mt-1",children:["until ",e.unavailableUntil?new Date(e.unavailableUntil).toLocaleDateString():"TBD"]})]})})]})})]})},e.id)})})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,a.jsx)(f.$,{variant:"secondary",onClick:A,children:"Cancel"}),(0,a.jsx)(f.$,{variant:"primary",onClick:()=>{const e=l.find(e=>e.id===u);e&&(s(e),t())},disabled:!u,children:i?"Update Trailer":"Assign Trailer"})]})]})})};var w=s(9775),C=s(3573),A=s(1085),S=s(1676),D=s(1415);const k=({isOpen:e,onClose:t,onSubmit:s})=>{const[l,i]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)(1),[u,p]=(0,r.useState)([]),[h,g]=(0,r.useState)(""),[j,b]=(0,r.useState)(1),[N,k]=(0,r.useState)(""),[T,M]=(0,r.useState)(""),[L,I]=(0,r.useState)([]);return(0,a.jsx)(v.a,{isOpen:e,onClose:t,title:"Add Travel & Accommodation Details",size:"xl",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(w.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel From"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"travelFrom",value:l,onChange:e=>i(e.target.value),placeholder:"Enter departure location",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel To"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"travelTo",value:n,onChange:e=>d(e.target.value),placeholder:"Enter destination",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"travelDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Travel Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"travelDate",value:o,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"numberOfTeamMembers",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Team Members"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(A.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"number",id:"numberOfTeamMembers",value:m,onChange:e=>x(Math.max(1,Number(e.target.value))),min:"1",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Tickets"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:"ticketsUpload",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const t=Array.from(e.target.files||[]);p(e=>[...e,...t])},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"ticketsUpload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(S.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload tickets or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),u.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,a.jsx)("button",{onClick:()=>(e=>{p(t=>t.filter((t,s)=>s!==e))})(t),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},t))})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(D.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Accommodation Details"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"hotelName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",id:"hotelName",value:h,onChange:e=>g(e.target.value),placeholder:"Enter hotel name",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"numberOfRooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Rooms"}),(0,a.jsx)("input",{type:"number",id:"numberOfRooms",value:j,onChange:e=>b(Math.max(1,Number(e.target.value))),min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"checkInDate",value:N,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(C.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"date",id:"checkOutDate",value:T,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attach Reservation Slips"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,a.jsx)("input",{type:"file",id:"reservationSlipsUpload",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:e=>{const t=Array.from(e.target.files||[]);I(e=>[...e,...t])},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"reservationSlipsUpload",className:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[(0,a.jsx)(S.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Click to upload reservation slips or drag and drop"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG, DOC up to 10MB"})]})]}),L.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:L.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-md p-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700 truncate",children:e.name}),(0,a.jsx)("button",{onClick:()=>(e=>{I(t=>t.filter((t,s)=>s!==e))})(t),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},t))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,a.jsx)(f.$,{variant:"outline",onClick:()=>{t()},className:"px-6 py-2",children:"Cancel"}),(0,a.jsx)(f.$,{onClick:()=>{s({travel:{travelFrom:l,travelTo:n,travelDate:o,numberOfTeamMembers:m,ticketsAttachment:u},accommodation:{hotelName:h,numberOfRooms:j,checkInDate:N,checkOutDate:T,reservationSlipsAttachment:L}}),t()},disabled:!(l&&n&&o&&h&&N&&T),className:"px-6 py-2",children:"Submit Details"})]})]})})};var T=s(7235),M=s(2845),L=s(408);const I=({assignedTeam:e})=>{const t=[{id:"tm-001",name:"John Smith",role:"Lead Supervisor",status:"Available",phone:"+1-555-0123",email:"john@company.com",avatar:"JS",location:"Los Angeles, CA",experience:8,specializations:["Security Film","Window Installation","Team Management"]},{id:"tm-002",name:"Sarah Johnson",role:"Crew Leader",status:"Available",phone:"+1-555-0124",email:"sarah@company.com",avatar:"SJ",location:"Chicago, IL",experience:6,specializations:["Quality Control","Safety Protocols"]},{id:"tm-003",name:"Mike Wilson",role:"Installer",status:"Available",phone:"+1-555-0125",email:"mike@company.com",avatar:"MW",location:"Houston, TX",experience:4,specializations:["Precision Installation"]},{id:"tm-004",name:"Emily Davis",role:"Installer",status:"Available",phone:"+1-555-0126",email:"emily@company.com",avatar:"ED",location:"Phoenix, AZ",experience:5,specializations:["Commercial Projects"]},{id:"tm-005",name:"David Brown",role:"Installer",status:"Available",phone:"+1-555-0127",email:"david@company.com",avatar:"DB",location:"Miami, FL",experience:3,specializations:["Residential Projects"]}],s=e=>{switch(e){case"Lead Supervisor":return"bg-blue-100 text-blue-800";case"Crew Leader":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Team Members"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[t.length," team members assigned to this project"]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{return(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-semibold text-blue-800 text-sm",children:e.avatar})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-[#101828] leading-5 truncate",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(t=e.status,"Available"===t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s(e.role)}`,children:e.role})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,a.jsx)("span",{className:"text-xs text-[#475467]",children:e.phone})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{className:"text-xs text-[#475467]",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{className:"text-xs text-[#475467]",children:[e.experience," years experience"]})]})]}),e.specializations&&e.specializations.length>0&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.specializations.slice(0,2).map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:e},t)),e.specializations.length>2&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.specializations.length-2," more"]})]})})]})]})},e.id);var t})}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-blue-900",children:"Team Composition"}),(0,a.jsx)("p",{className:"text-xs text-blue-700",children:"1 Lead Supervisor, 1 Crew Leader, 3 Installers"})]})]})})]})})},P=({travelData:e})=>{const t={logistics:[{id:"log-1",name:"Hotel Accommodation",type:"Other",description:"Marriott Downtown Hotel - 5 rooms for 3 nights",quantity:5,location:"123 Main Street, Downtown",expectedDate:"2024-02-01",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",createdBy:"Logistics Manager"},{id:"log-2",name:"Rental Vehicles",type:"Vehicle",description:"2 pickup trucks for equipment transport",quantity:2,location:"Project Site",expectedDate:"2024-02-01",createdAt:"2024-01-16T09:00:00Z",updatedAt:"2024-01-16T09:00:00Z",createdBy:"Logistics Manager"},{id:"log-3",name:"Flight Bookings",type:"Other",description:"Round-trip flights for team members",quantity:5,location:"Various airports",expectedDate:"2024-01-31",createdAt:"2024-01-17T14:00:00Z",updatedAt:"2024-01-17T14:00:00Z",createdBy:"Travel Coordinator"}],travelPlans:[{id:"travel-1",travelType:"Flight",departureLocation:"Los Angeles, CA",destination:"Project Site",departureDate:"2024-01-31T08:00:00Z",returnDate:"2024-02-15T18:00:00Z",assignedTeamMembers:["tm-001","tm-002","tm-003","tm-004","tm-005"],createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",createdBy:"Travel Coordinator"}]},s=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=e=>{switch(e){case"Flight":return(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})});case"Vehicle":return(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})});case"Other":return(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});default:return(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}};return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Travel & Accommodation"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"Travel arrangements and accommodation details for the project"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-base text-[#101828] mb-4",children:"Travel Plans"}),(0,a.jsx)("div",{className:"space-y-4",children:t.travelPlans.map(e=>(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r(e.travelType)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-[#101828]",children:e.travelType}),(0,a.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[e.assignedTeamMembers.length," members"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-[#475467] mb-1",children:"Departure"}),(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828]",children:e.departureLocation}),(0,a.jsx)("p",{className:"text-xs text-[#475467]",children:s(e.departureDate)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-[#475467] mb-1",children:"Destination"}),(0,a.jsx)("p",{className:"font-medium text-sm text-[#101828]",children:e.destination}),e.returnDate&&(0,a.jsxs)("p",{className:"text-xs text-[#475467]",children:["Return: ",s(e.returnDate)]})]})]})]})]})},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-base text-[#101828] mb-4",children:"Accommodation & Logistics"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.logistics.map(e=>{return(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-[#101828] mb-1",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-[#475467] mb-2",children:e.description}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{className:"text-xs text-[#475467]",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("span",{className:"text-xs text-[#475467]",children:["Expected: ",(t=e.expectedDate,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,a.jsxs)("span",{className:"text-xs text-[#475467]",children:["Quantity: ",e.quantity]})]})]})]})]})},e.id);var t})})]}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-blue-900",children:"Travel Summary"}),(0,a.jsx)("p",{className:"text-xs text-blue-700",children:"All travel arrangements confirmed • 5 team members • 3 nights accommodation • 2 rental vehicles"})]})]})})]})})},B=({documents:e,onUploadDocument:t,onDeleteDocument:s,onDownloadDocument:l})=>{const[i,n]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),c=[{id:"doc-1",name:"Site Map - Floor Plan.pdf",type:"application/pdf",label:"site-map",size:2048576,url:"/documents/site-map.pdf",uploadedAt:"2024-01-15T09:00:00Z",uploadedBy:"John Admin",projectId:"proj-001",category:"site-map"},{id:"doc-2",name:"Installation Contract.pdf",type:"application/pdf",label:"contract",size:1536e3,url:"/documents/contract.pdf",uploadedAt:"2024-01-16T11:30:00Z",uploadedBy:"Sarah Manager",projectId:"proj-001",category:"contract"},{id:"doc-3",name:"Blueprint - Main Building.dwg",type:"application/dwg",label:"blueprint",size:512e4,url:"/documents/blueprint.dwg",uploadedAt:"2024-01-17T14:15:00Z",uploadedBy:"Mike Engineer",projectId:"proj-001",category:"technical"},{id:"doc-4",name:"Cut Sheet - Security Film.xlsx",type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"cut-sheet",size:1024e3,url:"/documents/cut-sheet.xlsx",uploadedAt:"2024-01-18T10:45:00Z",uploadedBy:"Emily Tech",projectId:"proj-001",category:"technical"}],m=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},x=e=>{switch(e){case"site-map":return"Site Map";case"contract":return"Contract";case"technical":return"Technical";case"permit":return"Permit";default:return"Other"}},u=e=>{switch(e){case"site-map":return"bg-blue-100 text-blue-800";case"contract":return"bg-green-100 text-green-800";case"technical":return"bg-purple-100 text-purple-800";case"permit":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Documents"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[c.length," documents attached to this project"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"file",id:"document-upload",multiple:!0,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.dwg,.xlsx,.xls",onChange:e=>{const s=e.target.files;s&&Array.from(s).forEach(e=>{t(e,"other")}),e.target.value=""},className:"hidden"}),(0,a.jsxs)("label",{htmlFor:"document-upload",className:"bg-[#0d76bf] text-white px-4 py-2 rounded-lg font-semibold text-sm leading-5 flex items-center gap-2 hover:bg-blue-700 transition-colors cursor-pointer",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Document"]})]})]}),(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors "+(i?"border-blue-400 bg-blue-50":"border-gray-300 bg-gray-50"),onDragOver:e=>{e.preventDefault(),n(!0)},onDragLeave:e=>{e.preventDefault(),n(!1)},onDrop:e=>{e.preventDefault(),n(!1);const s=e.dataTransfer.files;s.length>0&&Array.from(s).forEach(e=>{t(e,"other")})},children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop files here, or click to browse"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Supports PDF, DOC, XLS, DWG, and image files"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-base text-[#101828] mb-4",children:"Attached Documents"}),(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>{return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(r=e.type,r.includes("pdf")?(0,a.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}):r.includes("dwg")||r.includes("cad")?(0,a.jsx)("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}):r.includes("excel")||r.includes("spreadsheet")?(0,a.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}):(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})}))}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-[#101828] truncate",children:e.name}),(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${u(e.category)}`,children:x(e.category)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#475467]",children:[(0,a.jsx)("span",{children:m(e.size)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Uploaded by ",e.uploadedBy]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(t=e.uploadedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>l(e),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download document",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("button",{onClick:()=>s(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete document",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id);var t,r})})]}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-blue-900",children:"Document Summary"}),(0,a.jsx)("p",{className:"text-xs text-blue-700",children:"Site Map, Contract, Blueprint, Cut Sheet, and more documents available"})]})]})})]})})},O=({notes:e,onAddNote:t,onEditNote:s,onDeleteNote:l})=>{const[i,n]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),p=[{id:"note-1",content:"Client requested additional security measures for the main entrance. Need to coordinate with security team for enhanced access control.",author:"John Smith",timestamp:"2024-01-20T10:15:00Z",createdAt:"2024-01-20T10:15:00Z",updatedAt:"2024-01-20T10:15:00Z",projectId:"proj-001",isInternal:!0},{id:"note-2",content:"Site visit completed. All measurements confirmed. Building structure is solid and ready for installation.",author:"Sarah Johnson",timestamp:"2024-01-19T16:45:00Z",createdAt:"2024-01-19T16:45:00Z",updatedAt:"2024-01-19T16:45:00Z",projectId:"proj-001",isInternal:!1},{id:"note-3",content:"Weather forecast looks good for the installation period. No delays expected due to weather conditions.",author:"Mike Wilson",timestamp:"2024-01-18T14:30:00Z",createdAt:"2024-01-18T14:30:00Z",updatedAt:"2024-01-18T14:30:00Z",projectId:"proj-001",isInternal:!0},{id:"note-4",content:"Equipment delivery scheduled for early morning on Feb 1st. All tools and materials will be ready before team arrival.",author:"Emily Davis",timestamp:"2024-01-17T09:20:00Z",createdAt:"2024-01-17T09:20:00Z",updatedAt:"2024-01-17T09:20:00Z",projectId:"proj-001",isInternal:!0}],h=e=>{const t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/36e5);return a<1?"Just now":a<24?`${a}h ago`:a<48?"Yesterday":(e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))(e)};return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7",children:"Project Notes"}),(0,a.jsxs)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:[p.length," notes added to this project"]})]}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"bg-[#0d76bf] text-white px-4 py-2 rounded-lg font-semibold text-sm leading-5 flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Note"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+(e.isInternal?"bg-blue-100":"bg-green-100"),children:(0,a.jsx)("span",{className:"text-xs font-semibold "+(e.isInternal?"text-blue-800":"text-green-800"),children:e.author.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("h5",{className:"font-semibold text-sm text-[#101828]",children:e.author}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.isInternal?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.isInternal?"Internal":"Client"}),(0,a.jsx)("span",{className:"text-xs text-[#475467]",children:h(e.timestamp)})]}),(0,a.jsx)("p",{className:"text-sm text-[#344054] leading-5 mb-3",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>(e=>{o(e),m(e.content),u(e.isInternal),n(!0)})(e),className:"text-xs text-[#0d76bf] hover:text-blue-700 font-medium",children:"Edit"}),(0,a.jsx)("span",{className:"text-xs text-[#475467]",children:"•"}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Delete"})]})]})]})},e.id))}),i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-lg text-[#101828] mb-4",children:d?"Edit Note":"Add New Note"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#344054] mb-2",children:"Note Type"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",checked:x,onChange:()=>u(!0),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm text-[#344054]",children:"Internal"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",checked:!x,onChange:()=>u(!1),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm text-[#344054]",children:"Client"})]})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#344054] mb-2",children:"Note Content"}),(0,a.jsx)("textarea",{value:c,onChange:e=>m(e.target.value),placeholder:"Enter your note here...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:()=>{n(!1),o(null),m(""),u(!1)},className:"px-4 py-2 text-sm font-medium text-[#475467] bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:d?()=>{d&&c.trim()&&(s(d.id,c.trim()),o(null),m(""),u(!1))}:()=>{c.trim()&&(t(c.trim(),x),m(""),u(!1),n(!1))},disabled:!c.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-[#0d76bf] rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Update Note":"Add Note"})]})]})}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-blue-900",children:"Notes Summary"}),(0,a.jsxs)("p",{className:"text-xs text-blue-700",children:[p.filter(e=>e.isInternal).length," internal notes, ",p.filter(e=>!e.isInternal).length," client notes"]})]})]})})]})})},W=({project:e,preparationData:t})=>{const[s,l]=(0,r.useState)("job-brief"),i=(t,s)=>{const a={id:`doc-${Date.now()}`,name:t.name,type:t.type,label:s,size:t.size,url:URL.createObjectURL(t),uploadedAt:(new Date).toISOString(),uploadedBy:"Current User",projectId:e.id,category:s};console.log("Uploading document:",a)},n=e=>{console.log("Deleting document:",e)},d=e=>{console.log("Downloading document:",e.name),alert(`Downloading ${e.name}`)},o=(t,s)=>{const a={id:`note-${Date.now()}`,content:t,author:"Current User",timestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),projectId:e.id,isInternal:s};console.log("Adding note:",a)},c=(e,t)=>{console.log("Editing note:",e,t)},m=e=>{console.log("Deleting note:",e)};return(0,a.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,a.jsxs)("div",{className:"px-[60px] py-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 mb-6 border border-gray-200",children:(0,a.jsx)("div",{className:"flex flex-col gap-6",children:(0,a.jsx)("div",{className:"flex gap-4 items-start w-full",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("h1",{className:"font-semibold text-2xl text-gray-900 leading-9.5",children:e.name}),(0,a.jsx)("div",{className:"bg-[#e6f4fd] flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-sm text-[#0d76bf] leading-5",children:e.status})})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"bg-gray-50 flex items-center justify-center px-2 py-1 rounded-md",children:(0,a.jsx)("p",{className:"font-semibold text-xs text-[#344054] leading-5",children:e.projectId})}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10 18.3333C10 18.3333 16.6667 12.5 16.6667 8.33333C16.6667 6.44928 15.7143 4.64236 14.0711 3.28595C12.4278 1.92954 10.2243 1.16667 8.33333 1.16667C6.44238 1.16667 4.23886 1.92954 2.59564 3.28595C0.952427 4.64236 0 6.44928 0 8.33333C0 12.5 6.66667 18.3333 10 18.3333Z",stroke:"#667085",strokeWidth:"1.5"}),(0,a.jsx)("path",{d:"M10 10.8333C11.3807 10.8333 12.5 9.71405 12.5 8.33333C12.5 6.95262 11.3807 5.83333 10 5.83333C8.61929 5.83333 7.5 6.95262 7.5 8.33333C7.5 9.71405 8.61929 10.8333 10 10.8333Z",stroke:"#667085",strokeWidth:"1.5"})]}),(0,a.jsx)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:e.location})]}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.66667 1.66667V4.16667M13.3333 1.66667V4.16667M2.91667 7.5H17.0833M17.5 7.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V7.5H17.5ZM2.5 7.5V5.83333C2.5 5.39131 2.67559 4.96738 2.98816 4.65482C3.30072 4.34226 3.72464 4.16667 4.16667 4.16667H15.8333C16.2754 4.16667 16.6993 4.34226 17.0118 4.65482C17.3244 4.96738 17.5 5.39131 17.5 5.83333V7.5H2.5Z",stroke:"#667085",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsxs)("p",{className:"font-normal text-xs text-[#475467] leading-5",children:[new Date(e.startDate).toLocaleDateString()," – ",new Date(e.endDate).toLocaleDateString()]})]})]})]})})})}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 mb-6",children:(0,a.jsx)("div",{className:"flex border-b border-gray-200",children:[{id:"job-brief",label:"Job brief"},{id:"team",label:"Team"},{id:"travel",label:"Travel & Hotel"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>l(e.id),className:"px-6 py-4 font-medium text-sm leading-5 border-b-2 transition-colors "+(s===e.id?"border-[#0d76bf] text-[#0d76bf]":"border-transparent text-[#475467] hover:text-[#344054]"),children:e.label},e.id))})}),(()=>{switch(s){case"job-brief":return(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-[#101828] leading-7 mb-2",children:"Job Brief"}),(0,a.jsx)("p",{className:"font-normal text-sm text-[#475467] leading-5",children:"Project overview and key information"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-[#101828] mb-2",children:"Project Description"}),(0,a.jsx)("p",{className:"text-sm text-[#475467] leading-5",children:e.description||"Comprehensive security film installation for the new downtown office complex. This project involves installing high-grade security film on all exterior windows to enhance building security and protection."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-[#101828] mb-2",children:"Project Details"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-[#475467]",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Project ID:"}),(0,a.jsx)("span",{className:"font-medium",children:e.projectId})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Status:"}),(0,a.jsx)("span",{className:"font-medium",children:e.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Start Date:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(e.startDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"End Date:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(e.endDate).toLocaleDateString()})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-[#101828] mb-2",children:"Location"}),(0,a.jsx)("div",{className:"space-y-2 text-sm text-[#475467]",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{children:e.location})]})})]})]})]})]})});case"team":return(0,a.jsx)(I,{assignedTeam:t.assignedTeam?.members||null});case"travel":return(0,a.jsx)(P,{travelData:t.logisticsTravel});case"document":return(0,a.jsx)(B,{documents:t.documents,onUploadDocument:i,onDeleteDocument:n,onDownloadDocument:d});case"notes":return(0,a.jsx)(O,{notes:t.notes,onAddNote:o,onEditNote:c,onDeleteNote:m});default:return null}})()]})})};var R=s(904),U=s(3459),z=s(339),E=s(3183),F=s(5891),$=s(82),Z=s(8252),V=s(5279),J=s(2341),q=s(4138),H=s(2906),G=s(3096),K=s(3283);const Q=({isOpen:e,onClose:t,windowItem:s,onSave:l})=>{const{showToast:i}=(0,T.d)(),[n,d]=(0,r.useState)({windowName:"",filmType:"BR",length:120,width:80,layers:1});(0,r.useEffect)(()=>{d(s?{windowName:s.windowName,filmType:s.filmType,length:s.length,width:s.width,layers:s.layers.length}:{windowName:"",filmType:"BR",length:120,width:80,layers:1})},[s,e]);const o=(e,t)=>{d(s=>({...s,[e]:t}))},c=e=>{const t=[];for(let s=1;s<=e;s++)t.push({layerNumber:s,layerName:1===s?"Interior Layer":s===e?"Exterior Layer":"Middle Layer "+(s-1),status:"Pending"});return t},m=()=>{d({windowName:"",filmType:"BR",length:120,width:80,layers:1}),t()};return(0,a.jsx)(v.a,{isOpen:e,onClose:m,title:s?"Edit Window":"Add New Window",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Window Name *"}),(0,a.jsx)("input",{type:"text",value:n.windowName,onChange:e=>o("windowName",e.target.value),placeholder:"Enter window name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Film Type *"}),(0,a.jsx)("select",{value:n.filmType,onChange:e=>o("filmType",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:H.jd.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (cm) *"}),(0,a.jsx)("input",{type:"number",min:"1",value:n.length,onChange:e=>o("length",parseInt(e.target.value)||120),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (cm) *"}),(0,a.jsx)("input",{type:"number",min:"1",value:n.width,onChange:e=>o("width",parseInt(e.target.value)||80),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Layers *"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",value:n.layers,onChange:e=>o("layers",parseInt(e.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Layers will be automatically named (Interior Layer, Middle Layer, Exterior Layer)"})]}),n.layers>0&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Layer Preview:"}),(0,a.jsx)("div",{className:"space-y-1",children:c(n.layers).map((e,t)=>(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["• ",e.layerName]},t))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6",children:[(0,a.jsx)(f.$,{variant:"secondary",onClick:m,children:"Cancel"}),(0,a.jsx)(f.$,{variant:"primary",onClick:()=>{if(!n.windowName.trim())return void i("Window name is required","error");if(n.length<=0||n.width<=0)return void i("Length and width must be greater than 0","error");if(n.layers<=0)return void i("Number of layers must be greater than 0","error");const e=new Date,a={id:s?.id||`window-${Date.now()}`,windowName:n.windowName.trim(),filmType:n.filmType,length:n.length,width:n.width,layers:c(n.layers),status:s?"Updated":"Pending",assignedTeamMembers:s?.assignedTeamMembers||[],createdAt:s?.createdAt||e,updatedAt:e,createdFromSheet:s?.createdFromSheet||!1,sheetId:s?.sheetId};l(a),i(s?"Window updated successfully":"Window added successfully","success"),t()},children:s?"Update Window":"Add Window"})]})]})})},_={...n,status:"WIP",progress:62,currentPhase:"Installation",estimatedCompletion:"2024-02-20",teamOnSite:8,windowsCompleted:42,totalWindows:60,windowsStarted:8,issuesReported:2,windows:[{id:"1",name:"Main Office Window 1",filmType:"BR",dimensions:"120 × 80 cm",layers:3,status:"Complete",createdDate:"Jan 15, 2025"},{id:"2",name:"Main Office Window 2",filmType:"Riot",dimensions:"120 × 80 cm",layers:2,status:"In Progress",createdDate:"Jan 15, 2025"},{id:"3",name:"Main Office Window 3",filmType:"Riot +",dimensions:"120 × 80 cm",layers:3,status:"Complete",createdDate:"Jan 15, 2025"},{id:"4",name:"Main Office Window 4",filmType:"Riot -",dimensions:"120 × 80 cm",layers:1,status:"Complete",createdDate:"Jan 15, 2025"},{id:"5",name:"Main Office Window 5",filmType:"BR",dimensions:"120 × 80 cm",layers:2,status:"In Progress",createdDate:"Jan 15, 2025"},{id:"6",name:"Main Office Window 6",filmType:"PER",dimensions:"120 × 80 cm",layers:3,status:"Complete",createdDate:"Jan 15, 2025"},{id:"7",name:"Main Office Window 7",filmType:"BR",dimensions:"120 × 80 cm",layers:1,status:"Complete",createdDate:"Jan 15, 2025"}],activityLog:[{id:"1",user:"Maria Will",avatar:"/api/placeholder/32/32",action:"Added a document to Marriot Windows Installation",time:"2 mins ago",type:"document",fileName:"Tech requirements.pdf",fileSize:"720 KB",isNew:!0},{id:"2",user:"John Doe",avatar:"/api/placeholder/32/32",action:"Added 3 layers to the project Marriot Windows Installation",time:"2 mins ago",type:"update",isNew:!0},{id:"3",user:"Olivia Rhye",avatar:"/api/placeholder/32/32",action:"Installed 2 windows to the project Marketing site redesign",time:"2 mins ago",type:"update",isNew:!1},{id:"4",user:"James Gun",avatar:"/api/placeholder/32/32",action:"Added a note in Marketing site redesign",time:"2 mins ago",type:"note",note:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tincidunt nunc ipsum tempor purus vitae id.",isNew:!1}]},X=()=>{const{projectId:e}=(0,l.g)(),{showToast:t}=((0,l.Zp)(),(0,T.d)()),[s,i]=(0,r.useState)("job-brief"),[n,d]=(0,r.useState)(H.xw),[o,c]=(0,r.useState)({search:"",filmType:"All",status:"All",layers:"All",assignedMember:"All"}),[m,x]=(0,r.useState)({type:"list"}),[u,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[A,D]=(0,r.useState)(null),k=_,M=()=>{D(null),g(!0)},L=e=>{D(e),g(!0)},I=e=>{window.confirm("Are you sure you want to remove this window?")&&(d(t=>t.filter(t=>t.id!==e)),t("Window removed successfully","success"))},P=e=>{w(e),v(!0)},B=n.filter(e=>{const t=e.windowName.toLowerCase().includes(o.search.toLowerCase()),s="All"===o.filmType||e.filmType===o.filmType,a="All"===o.status||e.status===o.status,r="All"===o.layers||e.layers.length===("number"==typeof o.layers?o.layers:Number(o.layers));return t&&s&&a&&r}),O=(e,t)=>{c(s=>({...s,[e]:t}))};return(0,a.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriot Windows Installation"}),(0,a.jsx)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md text-sm font-semibold",children:"WIP"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded-md font-semibold",children:"TXDA-SJ1BR1-EETUSC01-P20001"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"123 Main Street, Downtown"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Feb 1, 2024 – Feb 15, 2024"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.$,{variant:"primary",onClick:()=>{t("Project marked for Quality Review","success")},className:"px-3 py-2",children:"Mark for QF"}),(0,a.jsx)(f.$,{variant:"secondary",onClick:()=>{t("Edit project functionality","info")},icon:R.A,className:"px-3 py-2",children:"Edit"})]})]})}),(0,a.jsx)("div",{className:"border-t border-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 relative",children:(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-blue-500 to-blue-300 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-lg",children:"62%"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-700",children:"62%"}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600",children:"42/60 windows completed"})]})]}),(0,a.jsx)("div",{className:"w-px h-16 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(C.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"8"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Windows Started"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(C.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"5"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Windows Completed"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-50 rounded-md flex items-center justify-center",children:(0,a.jsx)(C.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("span",{className:"text-xl font-semibold text-gray-700",children:"2"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Issues Reported"})]})]})]})]})})}),(0,a.jsx)("div",{className:"px-[60px] py-6",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:[{id:"job-brief",label:"Job brief"},{id:"team",label:"Team"},{id:"travel-hotel",label:"Travel & Hotel"},{id:"document",label:"Document"},{id:"notes",label:"Notes"}].map(e=>(0,a.jsx)("button",{onClick:()=>i(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(s===e.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"job-brief"===s&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Job Brief"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Project Overview"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:k.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Requirements"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Installation of window film for Marriott hotel project"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Timeline"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Project duration: ",k.startDate," to ",k.endDate]})]})]})]})}),"team"===s&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Members"}),(0,a.jsx)("div",{className:"space-y-4",children:H.NE.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Team Member"})]})]},t))})]})}),"travel-hotel"===s&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Travel & Hotel"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Accommodation"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Hotel arrangements for team members"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Travel"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Transportation and logistics"})]})]})]})}),"document"===s&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Project Documents"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Technical specifications and requirements"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Installation Guides"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Step-by-step installation procedures"})]})]})]})}),"notes"===s&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Project Notes"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Important notes and observations"})]}),(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Issues & Resolutions"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Track issues and their solutions"})]})]})]})}),"job-brief"===s&&(0,a.jsx)("div",{className:"space-y-6",children:0===n.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(U.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No windows yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Upload a take-off sheet or add windows manually to get started"}),(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,a.jsx)(f.$,{variant:"primary",icon:S.A,onClick:()=>p(!0),children:"Upload Take-off Sheet"}),(0,a.jsx)(f.$,{variant:"secondary",icon:z.A,onClick:M,children:"Add Window Manually"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-5",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search by window name",value:o.search,onChange:e=>O("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:o.filmType,onChange:e=>O("filmType",e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"All",children:"All Film Types"}),H.jd.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{value:o.status,onChange:e=>O("status",e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"All",children:"All Status"}),H.x8.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.$,{variant:"list"===m.type?"primary":"secondary",size:"sm",icon:E.A,onClick:()=>x({type:"list"}),children:"List"}),(0,a.jsx)(f.$,{variant:"grid"===m.type?"primary":"secondary",size:"sm",icon:F.A,onClick:()=>x({type:"grid"}),children:"Grid"})]}),(0,a.jsx)(f.$,{variant:"secondary",icon:S.A,onClick:()=>p(!0),children:"Upload Sheet"}),(0,a.jsx)(f.$,{variant:"primary",icon:z.A,onClick:M,children:"Add Window"})]})}),"list"===m.type?(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Window Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Film Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dimensions"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Layers"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>P(e),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.windowName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",e.createdAt.toLocaleDateString()]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:e.filmType})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.length," x ",e.width," cm"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.layers.length}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(q.W,{status:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"text-gray-400 hover:text-blue-600",children:(0,a.jsx)(R.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id)},className:"text-gray-400 hover:text-red-600",children:(0,a.jsx)($.A,{className:"w-4 h-4"})})]})})]},e.id))})]})})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(e=>(0,a.jsxs)(J.Z,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>P(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.windowName}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.filmType})]}),(0,a.jsx)(q.W,{status:e.status})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:["Dimensions: ",e.length," x ",e.width," cm"]}),(0,a.jsxs)("div",{children:["Layers: ",e.layers.length]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 mt-4",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"text-gray-400 hover:text-blue-600",children:(0,a.jsx)(R.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),I(e.id)},className:"text-gray-400 hover:text-red-600",children:(0,a.jsx)($.A,{className:"w-4 h-4"})})]})]},e.id))}),B.length>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(f.$,{variant:"secondary",size:"sm",icon:Z.A,children:"Previous"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:"1"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"2"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"3"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"..."}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"8"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"9"}),(0,a.jsx)("span",{className:"px-3 py-1 text-gray-600 text-sm",children:"10"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(f.$,{variant:"secondary",size:"sm",icon:V.A,children:"Next"})})]})]})})]}),(0,a.jsx)("div",{className:"w-96 flex-shrink-0",children:(0,a.jsx)(J.Z,{className:"p-5 h-fit",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Log"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"2 new updates"})]}),(0,a.jsx)("div",{className:"space-y-4",children:k.activityLog.map(e=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.user.split(" ").map(e=>e[0]).join("")})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.user}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.action.split("Marriot Windows Installation")[0],(0,a.jsx)("span",{className:"font-medium text-blue-600",children:"Marriot Windows Installation"}),e.action.split("Marriot Windows Installation")[1]]}),"document"===e.type&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-7 h-7 bg-blue-50 rounded-full flex items-center justify-center",children:(0,a.jsx)(U.A,{className:"w-3 h-3 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e.fileName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.fileSize})]})]}),"note"===e.type&&e.note&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.note,'"']})})]})]}),e.isNew&&(0,a.jsx)("div",{className:"absolute -right-1 -top-1 w-2 h-2 bg-blue-500 rounded-full"})]},e.id))})]})})})]})}),(0,a.jsx)(G.K,{isOpen:u,onClose:()=>p(!1),onUploadComplete:e=>{t(`Successfully created ${e.windowsCreated} windows from sheet`,"success"),p(!1)}}),(0,a.jsx)(Q,{isOpen:h,onClose:()=>g(!1),windowItem:A,onSave:e=>{d(A?t=>t.map(t=>t.id===e.id?e:t):t=>[...t,e]),g(!1)}}),(0,a.jsx)(K.n,{isOpen:b,onClose:()=>v(!1),windowItem:N,onUpdate:e=>{d(t=>t.map(t=>t.id===e.id?e:t)),v(!1)}})]})},Y=()=>{const{projectId:e}=(0,l.g)(),{showToast:t}=(0,T.d)(),[s,i]=((0,l.Zp)(),(0,r.useState)(n)),[p,h]=(0,r.useState)(d),[g,j]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[S,D]=(0,r.useState)(!1),[I,P]=(0,r.useState)(null),[B,O]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!1),[z,E]=(0,r.useState)(null),[F,$]=(0,r.useState)(!1),[Z,V]=(0,r.useState)(null),[J,q]=(0,r.useState)(!1),[H,G]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),[_,Y]=(0,r.useState)([]),[ee,te]=(0,r.useState)(!1),[se]=(0,r.useState)((0,M.Qp)()),[ae,re]=(0,r.useState)(L.xw),le=e=>{const t={members:e.map(e=>({...e,assignedAt:(new Date).toISOString(),assignedBy:"Current User"})),count:e.length,leadMember:e.find(e=>"Lead Supervisor"===e.role)||void 0};h(e=>({...e,assignedTeam:t,checklist:e.checklist.map(e=>"Team Assigned"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},ie=e=>{const t={...e,id:`log-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};h(e=>({...e,logisticsTravel:{...e.logisticsTravel,logistics:[...e.logisticsTravel.logistics,t]},checklist:e.checklist.map(e=>"Logistics Confirmed"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))},ne=e=>{const t={...e,id:`travel-${Date.now()}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),createdBy:"Current User"};h(e=>({...e,logisticsTravel:{...e.logisticsTravel,travelPlans:[...e.logisticsTravel.travelPlans,t]},checklist:e.checklist.map(e=>"Travel Setup"===e.label?{...e,completed:!0,completedAt:(new Date).toISOString(),completedBy:"Current User"}:e)}))};return"WIP"===s.status?(0,a.jsx)(X,{projectStatus:s.status}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W,{project:s,preparationData:p}),(0,a.jsx)(v.a,{isOpen:g,onClose:()=>j(!1),title:"Edit Project",size:"md",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Project editing functionality will be implemented in the next phase."}),(0,a.jsx)("div",{className:"flex justify-end space-x-3",children:(0,a.jsx)("button",{onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})}),(0,a.jsx)(o.W,{isOpen:b,onClose:()=>y(!1),onAssignTeam:le,availableMembers:x.N,projectDetails:s}),(0,a.jsx)(o.W,{isOpen:f,onClose:()=>w(!1),onAssignTeam:le,availableMembers:x.N,assignedMemberIds:p.assignedTeam?.members.map(e=>e.id)||[],projectDetails:s}),(0,a.jsx)(c.C,{isOpen:C,onClose:()=>A(!1),onSave:ie}),(0,a.jsx)(c.C,{isOpen:S,onClose:()=>D(!1),onSave:ie,onEdit:(e,t)=>{h(s=>({...s,logisticsTravel:{...s.logisticsTravel,logistics:s.logisticsTravel.logistics.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingLogistics:I}),(0,a.jsx)(m.b,{isOpen:B,onClose:()=>O(!1),onSave:ne,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(m.b,{isOpen:R,onClose:()=>U(!1),onSave:ne,onEdit:(e,t)=>{h(s=>({...s,logisticsTravel:{...s.logisticsTravel,travelPlans:s.logisticsTravel.travelPlans.map(s=>s.id===e?{...s,...t,updatedAt:(new Date).toISOString()}:s)}}))},editingTravel:z,availableTeamMembers:x.N.map(e=>({id:e.id,name:e.name,role:e.role}))}),(0,a.jsx)(u.r,{isOpen:F,onClose:()=>$(!1),onConfirm:(e,t)=>{console.log("Updating project dates:",{startDate:e,endDate:t}),$(!1)},projectTitle:s.name,projectStatus:s.status,initialStartDate:s.startDate,initialEndDate:s.endDate}),(0,a.jsx)(N,{isOpen:J,onClose:()=>q(!1),onAssignTrailer:e=>{V(e),h(e=>({...e,checklist:e.checklist.map(e=>"Trailer Assigned"===e.label?{...e,completed:!0}:e)})),q(!1)},availableTrailers:se,assignedTrailerId:Z?.id}),(0,a.jsx)(k,{isOpen:H,onClose:()=>G(!1),onSubmit:e=>{console.log("Travel & Accommodation Request:",e),Q(!0),t("Request submitted to logistics manager successfully!")}})]})},ee=()=>{const{projectId:e}=(0,l.g)(),[t]=(0,i.ok)(),[s,d]=(0,r.useState)(n),o=t.get("status"),c=o||s.status,m=["PV75","PV90","UB","WB"].includes(c),x=["WIP","QF","Completed"].includes(c);return(0,r.useEffect)(()=>{o&&d(e=>({...e,status:o}))},[o]),m?(0,a.jsx)(Y,{}):x?(0,a.jsx)(X,{projectStatus:c}):(0,a.jsx)(Y,{})}},5212:(e,t,s)=>{s.d(t,{C:()=>d});var a=s(4848),r=s(6540),l=s(1813),i=s(894),n=s(5919);const d=({isOpen:e,onClose:t,onSave:s,onEdit:d,editingLogistics:o})=>{const[c,m]=(0,r.useState)({name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),[x,u]=(0,r.useState)({}),p=!!o;(0,r.useEffect)(()=>{e&&(m(o?{name:o.name,type:o.type,description:o.description,quantity:o.quantity,location:o.location,expectedDate:o.expectedDate}:{name:"",type:"Material",description:"",quantity:1,location:"",expectedDate:""}),u({}))},[e,o]);const h=(e,t)=>{m(s=>({...s,[e]:t})),x[e]&&u(t=>({...t,[e]:""}))};return(0,a.jsx)(i.a,{isOpen:e,onClose:t,title:p?"Edit Logistics":"Add Logistics",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{const e={};return c.name.trim()||(e.name="Logistics name is required"),c.description.trim()||(e.description="Description is required"),c.quantity<=0&&(e.quantity="Quantity must be greater than 0"),c.location.trim()||(e.location="Location is required"),c.expectedDate||(e.expectedDate="Expected date is required"),u(e),0===Object.keys(e).length})())return;const a={...c,quantity:Number(c.quantity)};p&&d?d(o.id,a):s(a),t()},className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logistics Name *"}),(0,a.jsx)("input",{type:"text",value:c.name,onChange:e=>h("name",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.name?"border-red-300":"border-gray-300"),placeholder:"Enter logistics name"}),x.name&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,a.jsxs)("select",{value:c.type,onChange:e=>h("type",e.target.value),className:"w-full px-3 py-2 pr-7 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Material",children:"Material"}),(0,a.jsx)("option",{value:"Equipment",children:"Equipment"}),(0,a.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,a.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,a.jsx)("textarea",{value:c.description,onChange:e=>h("description",e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.description?"border-red-300":"border-gray-300"),placeholder:"Enter description"}),x.description&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),(0,a.jsx)("input",{type:"number",min:"1",value:c.quantity,onChange:e=>h("quantity",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),x.quantity&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.quantity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location / Destination *"}),(0,a.jsx)("input",{type:"text",value:c.location,onChange:e=>h("location",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.location?"border-red-300":"border-gray-300"),placeholder:"Enter location or destination"}),x.location&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Date *"}),(0,a.jsx)("input",{type:"date",value:c.expectedDate,onChange:e=>h("expectedDate",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500 "+(x.expectedDate?"border-red-300":"border-gray-300")}),x.expectedDate&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x.expectedDate})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(n.$,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(n.$,{type:"submit",variant:"primary",icon:l.A,children:p?"Update Logistics":"Add Logistics"})]})]})})}},9809:(e,t,s)=>{s.d(t,{r:()=>d});var a=s(4848),r=s(6540),l=s(3573),i=s(5919),n=s(894);const d=({isOpen:e,onClose:t,onConfirm:s,projectTitle:d,projectStatus:o,initialStartDate:c="",initialEndDate:m=""})=>{const[x,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,j]=(0,r.useState)({}),[b,y]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(u(c),h(m),j({}),y(null))},[e,c,m]),(0,r.useEffect)(()=>{if(x&&p){const e=new Date(x),t=new Date(p);if(e<t){const s=Math.abs(t.getTime()-e.getTime()),a=Math.ceil(s/864e5);y(`${a} days`)}else y(null)}else y(null)},[x,p]),(0,a.jsx)(n.a,{isOpen:e,onClose:t,title:`Set Project Dates for ${d}`,children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["This project is in the ",(0,a.jsx)("span",{className:"font-semibold",children:(e=>{switch(e){case"PV90":return"PV90 (Pre-Visit 90 days)";case"UB":return"UB (Under Budget)";case"WB":return"WB (Within Budget)";default:return e}})(o)})," stage. Please set the estimated start and end dates for project planning and scheduling."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Start Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"startDate",value:x,onChange:e=>u(e.target.value),min:(new Date).toISOString().split("T")[0],className:`w-full px-3 py-2 border ${g.startDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.startDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.startDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project End Date *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"date",id:"endDate",value:p,onChange:e=>h(e.target.value),min:(()=>{if(x){const e=new Date(x);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}return(new Date).toISOString().split("T")[0]})(),disabled:!x,className:`w-full px-3 py-2 border ${g.endDate?"border-red-500":"border-gray-300"} rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 ${x?"":"bg-gray-100 cursor-not-allowed"}`}),(0,a.jsx)(l.A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"})]}),g.endDate&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.endDate})]})]}),b&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estimated Project Duration:"})," ",b]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(i.$,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(i.$,{variant:"primary",onClick:()=>{(()=>{const e={},t=(new Date).toISOString().split("T")[0];return x?x<t&&(e.startDate="Start date cannot be in the past"):e.startDate="Start date is required",p?x&&p&&new Date(p)<new Date(x)&&(e.endDate="End date cannot be before start date"):e.endDate="End date is required",j(e),0===Object.keys(e).length})()&&(s(x,p),t())},children:"Save Dates"})]})]})})}}}]);